<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Amin_iOS·Blog</title>
  <subtitle>从这里，开启梦想之门！</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://lishichao.github.io/"/>
  <updated>2016-05-30T13:29:12.000Z</updated>
  <id>http://lishichao.github.io/</id>
  
  <author>
    <name>李世超</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>iOS应用支持IPV6，就那点事儿</title>
    <link href="http://lishichao.github.io/2016/05/30/iOS%E5%BA%94%E7%94%A8%E6%94%AF%E6%8C%81IPV6%EF%BC%8C%E5%B0%B1%E9%82%A3%E7%82%B9%E4%BA%8B%E5%84%BF/"/>
    <id>http://lishichao.github.io/2016/05/30/iOS应用支持IPV6，就那点事儿/</id>
    <published>2016-05-30T13:13:10.000Z</published>
    <updated>2016-05-30T13:29:12.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;果然是苹果打个哈欠，iOS行业内就得起一次风暴呀。自从5月初Apple明文规定所有开发者在6月1号以后提交新版本需要支持IPV6-Only的网络，大家便开始热火朝天的研究如何支持IPV6，以及应用中哪些模块目前不支持IPV6。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;一、IPV6-Only支持是啥？&quot;&gt;&lt;a href=&quot;#一、IPV6-Only支持是啥？&quot; class=&quot;headerlink&quot; title=&quot;一、IPV6-Only支持是啥？&quot;&gt;&lt;/a&gt;一、IPV6-Only支持是啥？&lt;/h4&gt;&lt;p&gt;首先IPV6，是对IPV4地址空间的扩充。目前当我们用iOS设备连接上Wifi、4G、3G等网络时，设备被分配的地址均是IPV4地址，但是随着运营商和企业逐渐部署IPV6 DNS64/NAT64网络之后，设备被分配的地址会变成IPV6的地址，而这些网络就是所谓的IPV6-Only网络，并且仍然可以通过此网络去获取IPV4地址提供的内容。客户端向服务器端请求域名解析，首先通过DNS64 Server查询IPv6的地址，如果查询不到，再向DNS Server查询IPv4地址，通过DNS64 Server合成一个IPV6的地址，最终将一个IPV6的地址返回给客户端。如图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1483938-b0ec6307df5176fe.png?imageMogr2/auto-orient/strip%7CimageView2/2&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;在Mac OS 10.11＋的双网卡的Mac机器（以太网口＋无线网卡），我们可以通过模拟构建这么一个local IPv6 DNS64/NAT64 的网络环境去测试应用是否支持IPV6-Only网络，大概原理如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1483938-90400afee99e61f9.png?imageMogr2/auto-orient/strip%7CimageView2/2&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;参考资料：&lt;br&gt;&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/NetworkingInternetWeb/Conceptual/NetworkingOverview/UnderstandingandPreparingfortheIPv6Transition/UnderstandingandPreparingfortheIPv6Transition.html#//apple_ref/doc/uid/TP40010220-CH213-SW1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://developer.apple.com/library/mac/documentation/NetworkingInternetWeb/Conceptual/NetworkingOverview/UnderstandingandPreparingfortheIPv6Transition/UnderstandingandPreparingfortheIPv6Transition.html#//apple_ref/doc/uid/TP40010220-CH213-SW1&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;二、Apple如何审核支持IPV6-Only？&quot;&gt;&lt;a href=&quot;#二、Apple如何审核支持IPV6-Only？&quot; class=&quot;headerlink&quot; title=&quot;二、Apple如何审核支持IPV6-Only？&quot;&gt;&lt;/a&gt;二、Apple如何审核支持IPV6-Only？&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;&lt;em&gt;首先第一点&lt;/em&gt;&lt;/strong&gt;：这里说的支持IPV6-Only网络，其实就是说让应用在 IPv6 DNS64/NAT64 网络环境下仍然能够正常运行。但是考虑到我们目前的实际网络环境仍然是IPV4网络，所以应用需要能够同时保证IPV4和IPV6环境下的可用性。从这点来说，苹果不会去扫描IPV4的专有API来拒绝审核通过，因为IPV4的API和IPV6的API调用都会同时存在于代码中（&lt;strong&gt;&lt;em&gt;不过为了减小审核被拒风险，建议将IPV4专有API通过IPV6的兼容API来替换&lt;/em&gt;&lt;/strong&gt;）。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;其次第二点&lt;/em&gt;&lt;/strong&gt;：Apple官方声明iOS9开始向IPV6支持过渡，在iOS9.2+支持通过getaddrInfo方法将IPV4地址合成IPV6地址（&lt;strong&gt;&lt;em&gt;The ability to synthesize IPv6 addresses was added to getaddrinfo in iOS 9.2 and OS X 10.11.2&lt;/em&gt;&lt;/strong&gt;）。其提供的Reachability库在iOS8系统下，当从IPV4切换到IPV6网络，或者从IPV6网络切换到IPV4，是无法监控到网络状态的变化。也有一些开发者针对这些Bug询问Apple的审核部门，&lt;strong&gt;&lt;em&gt;给予的答复是只需要在苹果最新的系统上保证IPV6的兼容性即可&lt;/em&gt;&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;最后第三点&lt;/em&gt;&lt;/strong&gt;：只要应用的主流程支持IPV6，通过苹果审核即可。对于不支持IPV6的模块，考虑到我们现实IPV6网络的部署还需要一段时间，短时间内不会影响我们用户的使用。但随着4G网络IPV6的部署，这部分模块还是需要逐渐安排人力进行支持。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;追加第四点&lt;/em&gt;&lt;/strong&gt;：如果应用一直直接使用IPV4地址通过NSURLConenction或者NSURLSession进行网络请求(一般需要服务器允许，且客户端需要在header中伪装host)；经测试，IPV6网络环境下，直接使用IPV4地址在iOS9及以上的系统仍然能够正常访问；在iOS8.4及以下不能正常访问；这一点苹果的解释和建议是这样的：&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Note: In iOS 9 and OS X 10.11 and later, NSURLSession and CFNetwork automatically synthesize IPv6 addresses from IPv4 literals locally on devices operating on DNS64/NAT64 networks. However, you should still work to rid your code of IP address literals.&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&quot;三、应用如何支持IPV6-Only？&quot;&gt;&lt;a href=&quot;#三、应用如何支持IPV6-Only？&quot; class=&quot;headerlink&quot; title=&quot;三、应用如何支持IPV6-Only？&quot;&gt;&lt;/a&gt;三、应用如何支持IPV6-Only？&lt;/h4&gt;&lt;p&gt;对于如何支持IPV6-Only，官方给出了如下几点标准：（这里就不对其进行解释了，大家看上面的参考链接即可）&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1.&lt;/span&gt; Use High-Level Networking Frameworks;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2.&lt;/span&gt; Don’t Use IP Address Literals;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;3.&lt;/span&gt; Check Source Code &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; IPv6 DNS64/NAT64 Incompatibilities;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;4.&lt;/span&gt; Use System APIs to Synthesize IPv6 Addresses;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;3-1-NSURLConnection是否支持IPV6？&quot;&gt;&lt;a href=&quot;#3-1-NSURLConnection是否支持IPV6？&quot; class=&quot;headerlink&quot; title=&quot;3.1 NSURLConnection是否支持IPV6？&quot;&gt;&lt;/a&gt;3.1 NSURLConnection是否支持IPV6？&lt;/h4&gt;&lt;p&gt;官方的这句话让我们疑惑顿生：&lt;br&gt;&lt;strong&gt;&lt;em&gt;using high-level networking APIs such as NSURLSession and the CFNetwork frameworks and you connect by name, you should not need to change anything for your app to work with IPv6 addresses&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;只说了NSURLSession和CFNetwork的API不需要改变，但是并没有提及到NSURLConnection。 从上文的参考资料中，我们看到NSURLSession、NSURLConnection同属于Cocoa的url loading system，可以猜测出NSURLConnection在ios9上是支持IPV6的。&lt;/p&gt;
&lt;p&gt;应用里面的API网络请求，大家一般都会选择AFNetworking进行请求发送，由于历史原因，应用的代码基本上都深度引用了AFHTTPRequestOperation类，所以目前API网络请求均需要通过NSURLConnection发送出去，所以必须确认NSURLConnection是否支持IPV6. 经过测试，NSURLConnection在最新的iOS9系统上是支持IPV6的。&lt;/p&gt;
&lt;h4 id=&quot;3-2-Cocoa的URL-Loading-System从iOS哪个版本开始支持IPV6？&quot;&gt;&lt;a href=&quot;#3-2-Cocoa的URL-Loading-System从iOS哪个版本开始支持IPV6？&quot; class=&quot;headerlink&quot; title=&quot;3.2 Cocoa的URL Loading System从iOS哪个版本开始支持IPV6？&quot;&gt;&lt;/a&gt;3.2 Cocoa的URL Loading System从iOS哪个版本开始支持IPV6？&lt;/h4&gt;&lt;p&gt;目前我们的应用最低版本还需要支持iOS7，虽然苹果只要求最新版本支持IPV6－Only，但是出于对用户负责的态度，我们仍然需要搞清楚在低版本上URL Loading System的API是否支持IPV6.&lt;/p&gt;
&lt;p&gt;（to fix me, make some experiments）待续～～～&lt;/p&gt;
&lt;h4 id=&quot;3-3-Reachability是否需要修改支持IPV6？&quot;&gt;&lt;a href=&quot;#3-3-Reachability是否需要修改支持IPV6？&quot; class=&quot;headerlink&quot; title=&quot;3.3 Reachability是否需要修改支持IPV6？&quot;&gt;&lt;/a&gt;3.3 Reachability是否需要修改支持IPV6？&lt;/h4&gt;&lt;p&gt;我们可以查到应用中大量使用了Reachability进行网络状态判断，但是在里面却使用了IPV4的专用API。&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;在Pods:Reachability中&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AF_INET                  Files:Reachability.m&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;struct sockaddr_in       Files:Reachability.h , Reachability.m&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;那Reachability应该如何支持IPV6呢？&lt;br&gt;（1）目前Github的开源库Reachability的最新版本是3.2，苹果也出了一个Support IPV6 的Reachability的官方样例，我们比较了一下源码，跟Github上的Reachability没有什么差异。&lt;br&gt;（2）我们通常都是通过一个0.0.0.0 (ZeroAddress)去开启网络状态监控，经过我们测试，在iOS9以上的系统上IPV4和IPV6网络环境均能够正常使用；但是在iOS8上IPV4和IPV6相互切换的时候无法监控到网络状态的变化，可能是因为苹果在iOS8上还并没有对IPV6进行相关支持相关。（但是这仍然满足苹果要求在最新系统版本上支持IPV6的网络）。&lt;br&gt;（3）当大家都在要求Reachability添加对于IPV6的支持，其实苹果在iOS9以上对Zero Address进行了特别处理，&lt;a href=&quot;https://developer.apple.com/library/ios/samplecode/Reachability/Listings/ReadMe_md.html#//apple_ref/doc/uid/DTS40007324-ReadMe_md-DontLinkElementID_11&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官方发言&lt;/a&gt;是这样的：&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;reachabilityForInternetConnection: This monitors the address 0.0.0.0,&lt;br&gt;which reachability treats as a special token that causes it to actually&lt;br&gt;monitor the general routing status of the device, both IPv4 and IPv6.&lt;/p&gt;
&lt;hr&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;+ (instancetype)reachabilityForInternetConnection &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    struct sockaddr_in zeroAddress;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    bzero(&amp;amp;zeroAddress, sizeof(zeroAddress));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    zeroAddress.sin_len = sizeof(zeroAddress);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    zeroAddress.sin_family = AF_INET;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [self reachabilityWithAddress: (const struct sockaddr *) &amp;amp;zeroAddress];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;综上所述，Reachability不需要做任何修改，在iOS9上就可以支持IPV6和IPV4，但是在iOS9以下会存在bug，但是苹果审核并不关心。&lt;/p&gt;
&lt;h4 id=&quot;四、底层的socket-API如何同时支持IPV4和IPV6？&quot;&gt;&lt;a href=&quot;#四、底层的socket-API如何同时支持IPV4和IPV6？&quot; class=&quot;headerlink&quot; title=&quot;四、底层的socket API如何同时支持IPV4和IPV6？&quot;&gt;&lt;/a&gt;四、底层的socket API如何同时支持IPV4和IPV6？&lt;/h4&gt;&lt;p&gt;由于在应用中使用了网络诊断的组件，大量使用了底层的 socket API，所以对于IPV6支持，这块是个重头戏。如果你的应用中使用了长连接，其必然会使用底层socket API，这一块也是需要支持IPV6的。 对于Socket如何同时支持IPV4和IPV6，可以参考谷歌的开源库&lt;a href=&quot;https://github.com/robbiehanson/CocoaAsyncSocket.git&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CocoaAsyncSocket&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;下面我针对我们的开源 &lt;a href=&quot;https://github.com/lishichao/LDNetDiagnoService_IOS&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;网络诊断组件&lt;/a&gt;, 说一下是如何同时支持IPV4和IPV6的。&lt;br&gt;开源地址：&lt;a href=&quot;https://github.com/Lede-Inc/LDNetDiagnoService_IOS.git&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Lede-Inc/LDNetDiagnoService_IOS.git&lt;/a&gt;&lt;br&gt;这个网络诊断组件的主要功能如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本地网络环境的监测（本机IP＋本地网关＋本地DNS＋域名解析）；&lt;/li&gt;
&lt;li&gt;通过TCP Connect监测到域名的连通性；&lt;/li&gt;
&lt;li&gt;通过Ping 监测到目标主机的连通耗时；&lt;/li&gt;
&lt;li&gt;通过traceRoute监测设备到目标主机中间每一个路由器节点的ICMP耗时；&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;4-1-IP地址从二进制到符号的转化&quot;&gt;&lt;a href=&quot;#4-1-IP地址从二进制到符号的转化&quot; class=&quot;headerlink&quot; title=&quot;4.1 IP地址从二进制到符号的转化&quot;&gt;&lt;/a&gt;4.1 IP地址从二进制到符号的转化&lt;/h4&gt;&lt;p&gt;之前我们都是通过inet_ntoa()进行二进制到符号，这个API只能转化IPV4地址。而inet_ntop()能够兼容转化IPV4和IPV6地址。 写了一个公用的in6_addr的转化方法如下：&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; IPV6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+(NSString *)formatIPV6Address:(struct in6_addr)ipv6Addr&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSString *address = nil;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    char dstStr[INET6_ADDRSTRLEN];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    char srcStr[INET6_ADDRSTRLEN];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    memcpy(srcStr, &amp;amp;ipv6Addr, sizeof(struct in6_addr));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(inet_ntop(AF_INET6, srcStr, dstStr, INET6_ADDRSTRLEN) != NULL)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        address = [NSString stringWithUTF8String:dstStr];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; address;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; IPV4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+(NSString *)formatIPV4Address:(struct in_addr)ipv4Addr&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSString *address = nil;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    char dstStr[INET_ADDRSTRLEN];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    char srcStr[INET_ADDRSTRLEN];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    memcpy(srcStr, &amp;amp;ipv4Addr, sizeof(struct in_addr));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(inet_ntop(AF_INET, srcStr, dstStr, INET_ADDRSTRLEN) != NULL)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        address = [NSString stringWithUTF8String:dstStr];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; address;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;4-2-本机IP获取支持IPV6&quot;&gt;&lt;a href=&quot;#4-2-本机IP获取支持IPV6&quot; class=&quot;headerlink&quot; title=&quot;4.2 本机IP获取支持IPV6&quot;&gt;&lt;/a&gt;4.2 本机IP获取支持IPV6&lt;/h4&gt;&lt;p&gt;相当于我们在终端中输入ifconfig命令获取字符串，然后对ifconfig结果字符串进行解析，获取其中en0（Wifi）、pdp_ip0（移动网络）的ip地址。&lt;/p&gt;
&lt;p&gt;注意：&lt;br&gt;（1）在模拟器和真机上都会出现以FE80开头的IPV6单播地址影响我们判断，所以在这里进行特殊的处理（当第一次遇到不是单播地址的IP地址即为本机IP地址）。&lt;br&gt;（2）在IPV6环境下，真机测试的时候，第一个出现的是一个IPV4地址，所以在IPV4条件下第一次遇到单播地址不退出。&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;+ (NSString *)deviceIPAdress&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        while (temp_addr != NULL) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            NSLog(@&quot;ifa_name===%@&quot;,[NSString stringWithUTF8String:temp_addr-&amp;gt;ifa_name]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            // Check if interface is en0 which is the wifi connection on the iPhone&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            if ([[NSString stringWithUTF8String:temp_addr-&amp;gt;ifa_name] isEqualToString:@&quot;en0&quot;] || [[NSString stringWithUTF8String:temp_addr-&amp;gt;ifa_name] isEqualToString:@&quot;pdp_ip0&quot;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                //如果是IPV4地址，直接转化&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                if (temp_addr-&amp;gt;ifa_addr-&amp;gt;sa_family == AF_INET)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    // Get NSString from C String&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                   address = [self formatIPV4Address:((struct sockaddr_in *)temp_addr-&amp;gt;ifa_addr)-&amp;gt;sin_addr];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                //如果是IPV6地址&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                else if (temp_addr-&amp;gt;ifa_addr-&amp;gt;sa_family == AF_INET6)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    address = [self formatIPV6Address:((struct sockaddr_in6 *)temp_addr-&amp;gt;ifa_addr)-&amp;gt;sin6_addr];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    if (address &amp;amp;&amp;amp; ![address isEqualToString:@&quot;&quot;] &amp;amp;&amp;amp; ![address.uppercaseString hasPrefix:@&quot;FE80&quot;]) break;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            temp_addr = temp_addr-&amp;gt;ifa_next;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;4-3-设备网关地址获取获取支持IPV6&quot;&gt;&lt;a href=&quot;#4-3-设备网关地址获取获取支持IPV6&quot; class=&quot;headerlink&quot; title=&quot;4.3 设备网关地址获取获取支持IPV6&quot;&gt;&lt;/a&gt;4.3 设备网关地址获取获取支持IPV6&lt;/h4&gt;&lt;p&gt;其实是在IPV4获取网关地址的源码的基础上进行了修改，初开把AF_INET－&amp;gt;AF_INET6, sockaddr -&amp;gt; sockaddr_in6之外，还需要注意如下修改，就是拷贝的地址字节数。去掉了ROUNDUP的处理。 （解析出来的地址老是少了4个字节，结果是偏移量搞错了，纠结了半天），具体参考源码库。&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;   /* net.route.0.inet.flags.gateway */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    int mib[] = &amp;#123;CTL_NET, PF_ROUTE, 0, AF_INET6, NET_RT_FLAGS, RTF_GATEWAY&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (sysctl(mib, sizeof(mib) / sizeof(int), buf, &amp;amp;l, 0, 0) &amp;lt; 0) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         address = @&quot;192.168.0.1&quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ....&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //for IPV4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    for (i = 0; i &amp;lt; RTAX_MAX; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                if (rt-&amp;gt;rtm_addrs &amp;amp; (1 &amp;lt;&amp;lt; i)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    sa_tab[i] = sa;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    sa = (struct sockaddr *)((char *)sa + ROUNDUP(sa-&amp;gt;sa_len));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125; else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    sa_tab[i] = NULL;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  //for IPV6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     for (i = 0; i &amp;lt; RTAX_MAX; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                if (rt-&amp;gt;rtm_addrs &amp;amp; (1 &amp;lt;&amp;lt; i)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    sa_tab[i] = sa;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    sa = (struct sockaddr_in6 *)((char *)sa + sa-&amp;gt;sin6_len);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125; else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    sa_tab[i] = NULL;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4.4 设备DNS地址获取支持IPV6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;IPV4时只需要通过res_ninit进行初始化就可以获取，但是在IPV6环境下需要通过res_getservers()接口才能获取。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+(NSArray *)outPutDNSServers&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    res_state res = malloc(sizeof(struct __res_state));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    int result = res_ninit(res);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSMutableArray *servers = [[NSMutableArray alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (result == 0) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        union res_9_sockaddr_union *addr_union = malloc(res-&amp;gt;nscount * sizeof(union res_9_sockaddr_union));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        res_getservers(res, addr_union, res-&amp;gt;nscount);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        for (int i = 0; i &amp;lt; res-&amp;gt;nscount; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            if (addr_union[i].sin.sin_family == AF_INET) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                char ip[INET_ADDRSTRLEN];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                inet_ntop(AF_INET, &amp;amp;(addr_union[i].sin.sin_addr), ip, INET_ADDRSTRLEN);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                NSString *dnsIP = [NSString stringWithUTF8String:ip];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                [servers addObject:dnsIP];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                NSLog(@&quot;IPv4 DNS IP: %@&quot;, dnsIP);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125; else if (addr_union[i].sin6.sin6_family == AF_INET6) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                char ip[INET6_ADDRSTRLEN];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                inet_ntop(AF_INET6, &amp;amp;(addr_union[i].sin6.sin6_addr), ip, INET6_ADDRSTRLEN);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                NSString *dnsIP = [NSString stringWithUTF8String:ip];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                [servers addObject:dnsIP];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                NSLog(@&quot;IPv6 DNS IP: %@&quot;, dnsIP);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125; else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                NSLog(@&quot;Undefined family.&quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    res_nclose(res);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    free(res);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return [NSArray arrayWithArray:servers];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;4-4-域名DNS地址获取支持IPV6&quot;&gt;&lt;a href=&quot;#4-4-域名DNS地址获取支持IPV6&quot; class=&quot;headerlink&quot; title=&quot;4.4 域名DNS地址获取支持IPV6&quot;&gt;&lt;/a&gt;4.4 域名DNS地址获取支持IPV6&lt;/h4&gt;&lt;p&gt;在IPV4网络下我们通过gethostname获取，而在IPV6环境下，通过新的gethostbyname2函数获取。&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//ipv4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;phot = gethostbyname(hostN);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//ipv6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; phot = gethostbyname2(hostN, AF_INET6);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;4-5-ping方案支持IPV6&quot;&gt;&lt;a href=&quot;#4-5-ping方案支持IPV6&quot; class=&quot;headerlink&quot; title=&quot;4.5 ping方案支持IPV6&quot;&gt;&lt;/a&gt;4.5 ping方案支持IPV6&lt;/h4&gt;&lt;p&gt;Apple的官方提供了最新的支持IPV6的ping方案，参考地址如下：&lt;br&gt;&lt;a href=&quot;https://developer.apple.com/library/mac/samplecode/SimplePing/Introduction/Intro.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://developer.apple.com/library/mac/samplecode/SimplePing/Introduction/Intro.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;只是需要注意的是：&lt;br&gt;（1）返回的packet去掉了IPHeader部分，IPV6的header部分也不返回TTL（Time to Live）字段；&lt;br&gt;（2）IPV6的ICMP报文不进行checkSum的处理；&lt;/p&gt;
&lt;h4 id=&quot;4-6-traceRoute方案支持IPV6&quot;&gt;&lt;a href=&quot;#4-6-traceRoute方案支持IPV6&quot; class=&quot;headerlink&quot; title=&quot;4.6 traceRoute方案支持IPV6&quot;&gt;&lt;/a&gt;4.6 traceRoute方案支持IPV6&lt;/h4&gt;&lt;p&gt;其实是通过创建socket套接字模拟ICMP报文的发送，以计算耗时；&lt;br&gt;两个关键的地方需要注意：&lt;br&gt;（1）IPV6中去掉IP_TTL字段，改用跳数IPV6_UNICAST_HOPS来表示；&lt;br&gt;（2）sendto方法可以兼容支持IPV4和IPV6，但是需要最后一个参数，制定目标IP地址的大小；因为前一个参数只是指明了IP地址的开始地址。千万不要用统一的sizeof(struct sockaddr), 因为sockaddr_in 和 sockaddr都是16个字节，两者可以通用，但是sockaddr_in6的数据结构是28个字节，如果不显式指定，sendto方法就会一直返回－1，erroNo报22 Invalid argument的错误。&lt;/p&gt;
&lt;p&gt;关键代码如下：（完整代码参考开源组件）&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//构造通用的IP地址结构stuck sockaddr&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; NSString *ipAddr0 = [serverDNSs objectAtIndex:0];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //设置server主机的套接口地址&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSData *addrData = nil;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    BOOL isIPV6 = NO;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if ([ipAddr0 rangeOfString:@&quot;:&quot;].location == NSNotFound) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        isIPV6 = NO;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        struct sockaddr_in nativeAddr4;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        memset(&amp;amp;nativeAddr4, 0, sizeof(nativeAddr4));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        nativeAddr4.sin_len = sizeof(nativeAddr4);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        nativeAddr4.sin_family = AF_INET;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        nativeAddr4.sin_port = htons(udpPort);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        inet_pton(AF_INET, ipAddr0.UTF8String, &amp;amp;nativeAddr4.sin_addr.s_addr);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        addrData = [NSData dataWithBytes:&amp;amp;nativeAddr4 length:sizeof(nativeAddr4)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        isIPV6 = YES;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        struct sockaddr_in6 nativeAddr6;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        memset(&amp;amp;nativeAddr6, 0, sizeof(nativeAddr6));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        nativeAddr6.sin6_len = sizeof(nativeAddr6);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        nativeAddr6.sin6_family = AF_INET6;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        nativeAddr6.sin6_port = htons(udpPort);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        inet_pton(AF_INET6, ipAddr0.UTF8String, &amp;amp;nativeAddr6.sin6_addr);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        addrData = [NSData dataWithBytes:&amp;amp;nativeAddr6 length:sizeof(nativeAddr6)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    struct sockaddr *destination;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    destination = (struct sockaddr *)[addrData bytes];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//创建socket&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;if ((recv_sock = socket(destination-&amp;gt;sa_family, SOCK_DGRAM, isIPV6?IPPROTO_ICMPV6:IPPROTO_ICMP)) &amp;lt; 0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;if ((send_sock = socket(destination-&amp;gt;sa_family, SOCK_DGRAM, 0)) &amp;lt; 0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//设置sender 套接字的ttl&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;if ((isIPV6? &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;setsockopt(send_sock,IPPROTO_IPV6, IPV6_UNICAST_HOPS, &amp;amp;ttl, sizeof(ttl)):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;setsockopt(send_sock, IPPROTO_IP, IP_TTL, &amp;amp;ttl, sizeof(ttl))) &amp;lt; 0)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//发送成功返回值等于发送消息的长度&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ssize_t sentLen = sendto(send_sock, cmsg, sizeof(cmsg), 0, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(struct sockaddr *)destination, &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;isIPV6?sizeof(struct sockaddr_in6):sizeof(struct sockaddr_in));&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;果然是苹果打个哈欠，iOS行业内就得起一次风暴呀。自从5月初Apple明文规定所有开发者在6月1号以后提交新版本需要支持IPV6-Only的网络，大家便开始热火朝天的研究如何支持IPV6，以及应用中哪些模块目前不支持IPV6。&lt;/p&gt;
&lt;/bloc
    
    </summary>
    
      <category term="iOS技术归纳" scheme="http://lishichao.github.io/categories/iOS%E6%8A%80%E6%9C%AF%E5%BD%92%E7%BA%B3/"/>
    
    
      <category term="iOS技术" scheme="http://lishichao.github.io/tags/iOS%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>产品设计师常用网站</title>
    <link href="http://lishichao.github.io/2016/05/24/%E4%BA%A7%E5%93%81%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%B8%B8%E7%94%A8%E7%BD%91%E7%AB%99/"/>
    <id>http://lishichao.github.io/2016/05/24/产品设计师常用网站/</id>
    <published>2016-05-24T02:35:46.000Z</published>
    <updated>2016-05-24T02:46:59.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/s.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;成长是从积累到涌现的过程。好的产品设计师首先要有好的素材积累，才能涌现出动人的作品。下面是我整理出来的常用的网站。希望给大家带来帮助。（打不开请挂VPN）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h4 id=&quot;寻找灵感类的&quot;&gt;&lt;a href=&quot;#寻找灵感类的&quot; class=&quot;headerlink&quot; title=&quot;寻找灵感类的&quot;&gt;&lt;/a&gt;寻找灵感类的&lt;/h4&gt;&lt;p&gt;优秀的艺术家靠的是借鉴，但伟大的艺术家靠的是‘窃取’。所谓站在巨人的肩膀之上才能累计人类文明。所以对于刚刚入门的产品设计师而言不要羞于借鉴。你需要做到的是提高审美，不要借鉴烂作品。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://dribbble.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://dribbble.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.behance.net/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.behance.net/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.siiimple.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.siiimple.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://reeoo.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://reeoo.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.calltoidea.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.calltoidea.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.ui.cn/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.ui.cn/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.zcool.com.cn/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.zcool.com.cn/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.uisdc.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.uisdc.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://designmodo.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://designmodo.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.google.com/design/spec/material-design/introduction.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.google.com/design/spec/material-design/introduction.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;（material design 设计法则）&lt;/p&gt;
&lt;h4 id=&quot;素材收集&quot;&gt;&lt;a href=&quot;#素材收集&quot; class=&quot;headerlink&quot; title=&quot;素材收集&quot;&gt;&lt;/a&gt;素材收集&lt;/h4&gt;&lt;p&gt;APP 只是一个容器。真正决定产品调性的是往容器里面填充的内容，而图片就是这些内容的基础之一。所以无论是样图还是海报都需要大量优秀的图片（忽悠甲方也是主要原因），下面这些网站能给你提供大量优秀的图片素材。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.imooc.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.imooc.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.w3school.com.cn/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.w3school.com.cn/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;新闻资讯&quot;&gt;&lt;a href=&quot;#新闻资讯&quot; class=&quot;headerlink&quot; title=&quot;新闻资讯&quot;&gt;&lt;/a&gt;新闻资讯&lt;/h4&gt;&lt;p&gt;除了很多出色的微信公众号以外，medium 是个很好的信息入口。很多国外优秀前沿的设计理念都可以在 medium 上发掘。而且 medium 本身也是给极其优秀的产品，简直干净到令人窒息。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.designernews.co/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.designernews.co/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://medium.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://medium.com/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;软件工具&quot;&gt;&lt;a href=&quot;#软件工具&quot; class=&quot;headerlink&quot; title=&quot;软件工具&quot;&gt;&lt;/a&gt;软件工具&lt;/h4&gt;&lt;p&gt;这里我主要推荐 sketch 的教程，Adobe 一家的软件教程满地都是我不再赘述。还有几款交互软件感觉也不是特别值得一学这里就不推荐了。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.sketchcn.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.sketchcn.com/&lt;/a&gt; （软件技能）&lt;/p&gt;
&lt;h4 id=&quot;字体icon&quot;&gt;&lt;a href=&quot;#字体icon&quot; class=&quot;headerlink&quot; title=&quot;字体icon&quot;&gt;&lt;/a&gt;字体icon&lt;/h4&gt;&lt;p&gt;对于 web 端的产品设计而言，你的 icon 做成 webfont 交付开发会让人觉得你特别专业。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.iconfont.cn/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.iconfont.cn/&lt;/a&gt; （icon收集搜索）&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.youziku.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.youziku.com/&lt;/a&gt; （在线字体制作）&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://sketchrepo.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://sketchrepo.com/&lt;/a&gt; （sketch 素材网站）&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://design.google.com/icons/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://design.google.com/icons/&lt;/a&gt; （谷歌的）&lt;/p&gt;
&lt;h4 id=&quot;Web-UIKIT&quot;&gt;&lt;a href=&quot;#Web-UIKIT&quot; class=&quot;headerlink&quot; title=&quot;Web UIKIT&quot;&gt;&lt;/a&gt;Web UIKIT&lt;/h4&gt;&lt;p&gt;无论设计 APP 还是 web,在动手设计画面之前最重要的是定下设计法则和 UIKIT。一套合理的设计法则可以让你产品具有秩序之美，也能大大见底 UI 的维护成本和开发成本。最后说一句，像成为大师就去享受制定规则的过程吧。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.getuikit.net/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.getuikit.net/&lt;/a&gt; （UIKIT可用于H5和web）&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.bootcss.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.bootcss.com/&lt;/a&gt; (bootstrap 中文资料网站)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://materializecss.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://materializecss.com/&lt;/a&gt; （material design uikit）&lt;/p&gt;
&lt;h4 id=&quot;新产品发布网站&quot;&gt;&lt;a href=&quot;#新产品发布网站&quot; class=&quot;headerlink&quot; title=&quot;新产品发布网站&quot;&gt;&lt;/a&gt;新产品发布网站&lt;/h4&gt;&lt;p&gt;对新鲜事物保持足够的好奇心是一个优秀的产品设计师的立足点。通过你的设计的作品向世界表达你的善意以及对生活的态度。 所以请不要错过任何一个新产品。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://next.36kr.com/posts/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://next.36kr.com/posts/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;PNG-无损压缩&quot;&gt;&lt;a href=&quot;#PNG-无损压缩&quot; class=&quot;headerlink&quot; title=&quot;PNG 无损压缩&quot;&gt;&lt;/a&gt;PNG 无损压缩&lt;/h4&gt;&lt;p&gt;如果你体会过 IOS 开发的过程你会发现：决定一款软件大小的因素主要是 native 的图片资源；一个是 Pod 进去的库。而代码本身更像是胶水。库我们很难决定用不用（毕竟不开发）但是我们可以让本地的图片压缩到更小。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://tinypng.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://tinypng.com/&lt;/a&gt; （用于轻量化软件）&lt;/p&gt;
&lt;h4 id=&quot;最后&quot;&gt;&lt;a href=&quot;#最后&quot; class=&quot;headerlink&quot; title=&quot;最后&quot;&gt;&lt;/a&gt;最后&lt;/h4&gt;&lt;p&gt;上面提供的一切只是方便大家在成长的过程中完成积累，而真的有一天你要打通任督二脉完成涌现和创新则需要更高维度的思考：如何给人类创造美丽的东西。还有职业只是你谋生的选择，它本身并不决定你学习的路线。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;我的博客地址：&lt;a href=&quot;lishichao.com&quot;&gt;lishichao.com&lt;/a&gt;&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/s.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;成长是从积累到涌现的过程。好的产品设计师首先要有好的素材积累，才能涌现出动人的作品。下面是我整理出来的常用的网站。希望给大家带来帮助。（打不开请挂VPN）&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="design" scheme="http://lishichao.github.io/categories/design/"/>
    
    
      <category term="设计" scheme="http://lishichao.github.io/tags/%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>iOS 教你如何修改微信运动步数</title>
    <link href="http://lishichao.github.io/2016/05/20/iOS-%E6%95%99%E4%BD%A0%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9%E5%BE%AE%E4%BF%A1%E8%BF%90%E5%8A%A8%E6%AD%A5%E6%95%B0/"/>
    <id>http://lishichao.github.io/2016/05/20/iOS-教你如何修改微信运动步数/</id>
    <published>2016-05-20T09:57:04.000Z</published>
    <updated>2016-05-20T10:23:07.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;说明: 相信喜欢逆向工程的小伙伴已经对微信自动抢红包插件有所耳闻了,或者可以说,已经被广泛的传播了,但笔者发现,其实只有两篇是原创的,其余均为疯狂转载.看了下网上对于微信的”喜爱”目前只有抢红包这块,所以为大家带来另一个实用性技能—修改微信运动参数,妈妈在也不用担心我把手机绑在狗腿上了😄!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/nixiang_title.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h4 id=&quot;正文&quot;&gt;&lt;a href=&quot;#正文&quot; class=&quot;headerlink&quot; title=&quot;正文&quot;&gt;&lt;/a&gt;正文&lt;/h4&gt;&lt;p&gt;言归正传,本文只针对于初识逆向工程的热爱着,大神勿喷,交流讨论可以加&lt;strong&gt;笔者QQ群&lt;/strong&gt;: 124216675.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;硬件工具&lt;/strong&gt;:最好是有一台越狱后的iPhone手机,没有也没有关系,后续补充非越狱环境开发,&lt;strong&gt;本文针对于Theos下Tweak编码&lt;/strong&gt;&amp;lt;本文使用的测试机iPhone 5c和一台没用上的iPhone 5s, ps:别问为什么没用上还提, 因为写到这里,控制不住装逼的念头,好了不开玩笑了!&amp;gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;软件工具&lt;/strong&gt;:已经有高(hao)人为我们写好了开发工具的配置和安装,只是一个软件的安装所以本人没必要踩在前辈的肩膀上继续深造, 教程地址, 稍等,我们还需要安装一个查看微信头文件的宝物:class-dump, 当然了,使用它的前提是需要进行砸壳后的app才可以正确导出头文件,至于怎么砸壳,谷歌肯定能帮到你,&lt;strong&gt;目前能谷歌到的我们不做深究,只谈目前没有公开的&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&quot;硬件软件已经准备就绪&quot;&gt;&lt;a href=&quot;#硬件软件已经准备就绪&quot; class=&quot;headerlink&quot; title=&quot;硬件软件已经准备就绪&quot;&gt;&lt;/a&gt;硬件软件已经准备就绪&lt;/h4&gt;&lt;h5 id=&quot;思考功能怎么实现&quot;&gt;&lt;a href=&quot;#思考功能怎么实现&quot; class=&quot;headerlink&quot; title=&quot;思考功能怎么实现:&quot;&gt;&lt;/a&gt;思考功能怎么实现:&lt;/h5&gt;&lt;p&gt;在我们的iOS系统本身, 有一个运动与健康,这里记录了我们每天的步数行为等等, 那么微信运动排行榜在对好友们的步数进行排榜的时候肯定需要去取数据, 那么从哪取呢?毋庸置疑,去运动与健康取,如果我们能在微信取数据的时候进行动态劫持,伪造一个假数据传给微信,那么是不是就大功告成了呢? 答案: if(YES){NSLog(@”是的”);}&lt;/p&gt;
&lt;h5 id=&quot;观察微信头文件&quot;&gt;&lt;a href=&quot;#观察微信头文件&quot; class=&quot;headerlink&quot; title=&quot;观察微信头文件&quot;&gt;&lt;/a&gt;观察微信头文件&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;使用 class-dump -H WeChat.app -o WeChatHead命令导出微信头文件&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;真的是巨多无比,几千个.h&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/nixiang_1.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;我们发现在WCDeviceStepObject这个类里面有几个很显眼的属性m7StepCount,hkStepCount 等.   如下:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/nixiang_2.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;关键字”stepCount”的中文是”步数”,那么这个是不是我们要劫持并修改的参数呢? 多说无益,试试就知道了&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;创建一个Tweak工程, 如下:&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/nixiang_3.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;编写Tweak.xm文件, 如下:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/nixiang4.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;上图我们返回”98800” 步数以做测试,&lt;/p&gt;
&lt;p&gt;make并install Tweak工程后在测试机查看结果&lt;/p&gt;
&lt;p&gt;大功告成, 排行榜的封面以后都由你来控制了, 你可以打出”广告招租,5元包月” “走丢了”等文字娱乐眼球.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;以上代码只是简述,完整源代码将放在笔者的GitHub中, &lt;a href=&quot;https://github.com/lishichao/WeChat_Sport&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub地址&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;总结: 逆向开发资料较少, 很多问题都需要自己去解决,只要是你坐住了板凳去研究它,  终会有所回报!&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;说明: 相信喜欢逆向工程的小伙伴已经对微信自动抢红包插件有所耳闻了,或者可以说,已经被广泛的传播了,但笔者发现,其实只有两篇是原创的,其余均为疯狂转载.看了下网上对于微信的”喜爱”目前只有抢红包这块,所以为大家带来另一个实用性技能—修改微信运动参数,妈妈在也不用担心我把手机绑在狗腿上了😄!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/nixiang_title.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="逆向工程" scheme="http://lishichao.github.io/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B/"/>
    
    
      <category term="逆向工程" scheme="http://lishichao.github.io/tags/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>iOS 知识-常用小技巧大杂烩</title>
    <link href="http://lishichao.github.io/2016/05/17/iOS-%E7%9F%A5%E8%AF%86-%E5%B8%B8%E7%94%A8%E5%B0%8F%E6%8A%80%E5%B7%A7%E5%A4%A7%E6%9D%82%E7%83%A9/"/>
    <id>http://lishichao.github.io/2016/05/17/iOS-知识-常用小技巧大杂烩/</id>
    <published>2016-05-17T02:53:09.000Z</published>
    <updated>2016-05-17T03:52:33.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;开发过程中遇到的一些问题&lt;/p&gt;
&lt;p&gt;网上查阅整理的一些问题&lt;/p&gt;
&lt;p&gt;供大家参考，方便大家查阅&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/techo.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. 打印View所有子视图&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;po [[self view]recursiveDescription]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;2. layoutSubviews调用的调用时机&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;* 当视图第一次显示的时候会被调用&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;* 当这个视图显示到屏幕上了,点击按钮&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;* 添加子视图也会调用这个方法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;* 当本视图的大小发生改变的时候是会调用的&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;* 当子视图的frame发生改变的时候是会调用的&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;* 当删除子视图的时候是会调用的&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;3. NSString过滤特殊字符&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// 定义一个特殊字符的集合&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSCharacterSet *set = [NSCharacterSet characterSetWithCharactersInString:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;@／：；（）¥「」＂、[]&amp;#123;&amp;#125;#%-*+=_\\|~＜＞$€^•&#39;@#$%^&amp;amp;*()_+&#39;\&quot;&quot;];&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// 过滤字符串的特殊字符&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSString *newString = [trimString stringByTrimmingCharactersInSet:set];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;4. TransForm属性&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//平移按钮&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGAffineTransform transForm = self.buttonView.transform;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;self.buttonView.transform = CGAffineTransformTranslate(transForm, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//旋转按钮&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGAffineTransform transForm = self.buttonView.transform;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;self.buttonView.transform = CGAffineTransformRotate(transForm, M_PI_4);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//缩放按钮&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;self.buttonView.transform = CGAffineTransformScale(transForm, &lt;span class=&quot;number&quot;&gt;1.2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1.2&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//初始化复位&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;self.buttonView.transform = CGAffineTransformIdentity;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;5. 去掉分割线多余15像素&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;首先在viewDidLoad方法加入以下代码：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([self.tableView respondsToSelector:@selector(setSeparatorInset:)]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [self.tableView setSeparatorInset:UIEdgeInsetsZero];    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([self.tableView respondsToSelector:@selector(setLayoutMargins:)]) &amp;#123;        &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [self.tableView setLayoutMargins:UIEdgeInsetsZero];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;然后在重写willDisplayCell方法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;forRowAtIndexPath:(NSIndexPath *)indexPath&amp;#123;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([cell respondsToSelector:@selector(setSeparatorInset:)]) &amp;#123;       &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             [cell setSeparatorInset:UIEdgeInsetsZero];    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([cell respondsToSelector:@selector(setLayoutMargins:)]) &amp;#123;        &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             [cell setLayoutMargins:UIEdgeInsetsZero];    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;6. 计算方法耗时时间间隔&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// 获取时间间隔&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define TICK   CFAbsoluteTime start = CFAbsoluteTimeGetCurrent();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define TOCK   NSLog(@&quot;Time: %f&quot;, CFAbsoluteTimeGetCurrent() - start)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;7. Color颜色宏定义&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// 随机颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define RANDOM_COLOR [UIColor colorWithRed:arc4random_uniform(256) / 255.0 green:arc4random_uniform(256) / 255.0 blue:arc4random_uniform(256) / 255.0 alpha:1]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// 颜色(RGB)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define RGBCOLOR(r, g, b) [UIColor colorWithRed:(r)/255.0f green:(g)/255.0f blue:(b)/255.0f alpha:1]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// 利用这种方法设置颜色和透明值，可不影响子视图背景色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define RGBACOLOR(r, g, b, a) [UIColor colorWithRed:(r)/255.0f green:(g)/255.0f blue:(b)/255.0f alpha:(a)]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;8. Alert提示宏定义&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define Alert(_S_, ...) [[[UIAlertView alloc] initWithTitle:@&quot;提示&quot; message:[NSString stringWithFormat:(_S_), ##__VA_ARGS__] delegate:nil cancelButtonTitle:@&quot;确定&quot; otherButtonTitles:nil] show]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;9. 让iOS应用直接退出&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (void)exitApplication &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    AppDelegate *app = [UIApplication sharedApplication].delegate;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIWindow *window = app.window;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [UIView animateWithDuration:&lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;f animations:^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        window.alpha = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; completion:^(BOOL finished) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        exit(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;10. NSArray 快速求总和 最大值 最小值 和 平均值&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSArray *array = [NSArray arrayWithObjects:@&lt;span class=&quot;string&quot;&gt;&quot;2.0&quot;&lt;/span&gt;, @&lt;span class=&quot;string&quot;&gt;&quot;2.3&quot;&lt;/span&gt;, @&lt;span class=&quot;string&quot;&gt;&quot;3.0&quot;&lt;/span&gt;, @&lt;span class=&quot;string&quot;&gt;&quot;4.0&quot;&lt;/span&gt;, @&lt;span class=&quot;string&quot;&gt;&quot;10&quot;&lt;/span&gt;, nil];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGFloat sum = [[array valueForKeyPath:@&lt;span class=&quot;string&quot;&gt;&quot;@sum.floatValue&quot;&lt;/span&gt;] floatValue];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGFloat avg = [[array valueForKeyPath:@&lt;span class=&quot;string&quot;&gt;&quot;@avg.floatValue&quot;&lt;/span&gt;] floatValue];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGFloat max =[[array valueForKeyPath:@&lt;span class=&quot;string&quot;&gt;&quot;@max.floatValue&quot;&lt;/span&gt;] floatValue];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGFloat min =[[array valueForKeyPath:@&lt;span class=&quot;string&quot;&gt;&quot;@min.floatValue&quot;&lt;/span&gt;] floatValue];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;%f\n%f\n%f\n%f&quot;&lt;/span&gt;,sum,avg,max,min);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;10. 修改Label中不同文字颜色&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (void)touchesEnded:(NSSet&amp;lt;UITouch *&amp;gt; *)touches withEvent:(UIEvent *)event&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self editStringColor:self.label.text editStr:@&lt;span class=&quot;string&quot;&gt;&quot;好&quot;&lt;/span&gt; color:[UIColor blueColor]];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)editStringColor:(NSString *)string editStr:(NSString *)editStr color:(UIColor *)color &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // string为整体字符串, editStr为需要修改的字符串&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSRange range = [string rangeOfString:editStr];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSMutableAttributedString *attribute = [[NSMutableAttributedString alloc] initWithString:string];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 设置属性修改字体颜色UIColor与大小UIFont&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [attribute addAttributes:@&amp;#123;NSForegroundColorAttributeName:color&amp;#125; range:range];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    self.label.attributedText = attribute;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;11. 播放声音&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#import&amp;lt;AVFoundation/AVFoundation.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; //  &lt;span class=&quot;number&quot;&gt;1.&lt;/span&gt;获取音效资源的路径&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; NSString *path = [[NSBundle mainBundle]pathForResource:@&lt;span class=&quot;string&quot;&gt;&quot;pour_milk&quot;&lt;/span&gt; ofType:@&lt;span class=&quot;string&quot;&gt;&quot;wav&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; //  &lt;span class=&quot;number&quot;&gt;2.&lt;/span&gt;将路劲转化为url&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; NSURL *tempUrl = [NSURL fileURLWithPath:path];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; //  &lt;span class=&quot;number&quot;&gt;3.&lt;/span&gt;用转化成的url创建一个播放器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; NSError *error = nil;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; AVAudioPlayer *play = [[AVAudioPlayer alloc]initWithContentsOfURL:tempUrl error:&amp;amp;error];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; self.player = play;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; //  &lt;span class=&quot;number&quot;&gt;4.&lt;/span&gt;播放&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; [play play];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;12. 检测是否IPad Pro&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (BOOL)isIpadPro&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  UIScreen *Screen = [UIScreen mainScreen];   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  CGFloat width = Screen.nativeBounds.size.width/Screen.nativeScale;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  CGFloat height = Screen.nativeBounds.size.height/Screen.nativeScale;         &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  BOOL isIpad =[[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  BOOL hasIPadProWidth = fabs(width - &lt;span class=&quot;number&quot;&gt;1024.&lt;/span&gt;f) &amp;lt; DBL_EPSILON;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  BOOL hasIPadProHeight = fabs(height - &lt;span class=&quot;number&quot;&gt;1366.&lt;/span&gt;f) &amp;lt; DBL_EPSILON;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; isIpad &amp;amp;&amp;amp; hasIPadProHeight &amp;amp;&amp;amp; hasIPadProWidth;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;13. 修改Tabbar Item的属性&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// 修改标题位置&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;self.tabBarItem.titlePositionAdjustment = UIOffsetMake(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;-10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// 修改图片位置&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;self.tabBarItem.imageInsets = UIEdgeInsetsMake(&lt;span class=&quot;number&quot;&gt;-3&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// 批量修改属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (UIBarItem *item &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; self.tabBarController.tabBar.items) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [item setTitleTextAttributes:[NSDictionary dictionaryWithObjectsAndKeys:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             [UIFont fontWithName:@&lt;span class=&quot;string&quot;&gt;&quot;Helvetica&quot;&lt;/span&gt; size:&lt;span class=&quot;number&quot;&gt;19.0&lt;/span&gt;], NSFontAttributeName, nil]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        forState:UIControlStateNormal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// 设置选中和未选中字体颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[[UITabBar appearance] setShadowImage:[[UIImage alloc] init]];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//未选中字体颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[[UITabBarItem appearance] setTitleTextAttributes:@&amp;#123;NSForegroundColorAttributeName:[UIColor greenColor]&amp;#125; forState:UIControlStateNormal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//选中字体颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[[UITabBarItem appearance] setTitleTextAttributes:@&amp;#123;NSForegroundColorAttributeName:[UIColor cyanColor]&amp;#125; forState:UIControlStateSelected];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;14. NULL - nil - Nil - NSNULL的区别&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;* nil是OC的，空对象，地址指向空（&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;）的对象。对象的字面零值&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;* Nil是Objective-C类的字面零值&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;* NULL是C的，空地址，地址的数值是&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;，是个长整数&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;* NSNull用于解决向NSArray和NSDictionary等集合中添加空值的问题&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;15. 去掉BackBarButtonItem的文字&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[[UIBarButtonItem appearance] setBackButtonTitlePositionAdjustment:UIOffsetMake(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;-60&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                         forBarMetrics:UIBarMetricsDefault];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;16. 控件不能交互的一些原因&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;，控件的userInteractionEnabled = NO&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;，透明度小于等于&lt;span class=&quot;number&quot;&gt;0.01&lt;/span&gt;，aplpha&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;，控件被隐藏的时候，hidden = YES&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;，子视图的位置超出了父视图的有效范围，子视图无法交互，设置了。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;，需要交互的视图，被其他视图盖住（其他视图开启了用户交互）。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;，修改UITextField中Placeholder的文字颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[text setValue:[UIColor redColor] forKeyPath:@&lt;span class=&quot;string&quot;&gt;&quot;_placeholderLabel.textColor&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;17. 视图的生命周期&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;、 alloc 创建对象，分配空间&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;、 init (initWithNibName) 初始化对象，初始化数据&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;、 loadView 从nib载入视图 ，除非你没有使用xib文件创建视图&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;、 viewDidLoad 载入完成，可以进行自定义数据以及动态创建其他控件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;、 viewWillAppear视图将出现在屏幕之前，马上这个视图就会被展现在屏幕上了&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;、 viewDidAppear 视图已在屏幕上渲染完成&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;、viewWillDisappear 视图将被从屏幕上移除之前执行&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;、viewDidDisappear 视图已经被从屏幕上移除，用户看不到这个视图了&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;、dealloc 视图被销毁，此处需要对你在init和viewDidLoad中创建的对象进行释放.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;viewVillUnload－ 当内存过低，即将释放时调用；&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;viewDidUnload－当内存过低，释放一些不需要的视图时调用。&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;18.应用程序的生命周期&lt;/strong&gt; &lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;，启动但还没进入状态保存 ：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (BOOL)application:(UIApplication *)application willFinishLaunchingWithOptions:(NSDictionary *)launchOptions &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;，基本完成程序准备开始运行：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;，当应用程序将要入非活动状态执行，应用程序不接收消息或事件，比如来电话了：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)applicationWillResignActive:(UIApplication *)application &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;，当应用程序入活动状态执行，这个刚好跟上面那个方法相反：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)applicationDidBecomeActive:(UIApplication *)application   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;，当程序被推送到后台的时候调用。所以要设置后台继续运行，则在这个函数里面设置即可：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)applicationDidEnterBackground:(UIApplication *)application  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;，当程序从后台将要重新回到前台时候调用，这个刚好跟上面的那个方法相反：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)applicationWillEnterForeground:(UIApplication *)application  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;，当程序将要退出是被调用，通常是用来保存数据和一些退出前的清理工作：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)applicationWillTerminate:(UIApplication *)application&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;19. 判断view是不是指定视图的子视图&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; BOOL isView =  [textView isDescendantOfView:self.view];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;，判断对象是否遵循了某协议&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([self.selectedController conformsToProtocol:@protocol(RefreshPtotocol)]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self.selectedController performSelector:@selector(onTriggerRefresh)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;20. 页面强制横屏&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#pragma mark - 强制横屏代码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (BOOL)shouldAutorotate&amp;#123;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //是否支持转屏       &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; NO;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (UIInterfaceOrientationMask)supportedInterfaceOrientations&amp;#123;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //支持哪些转屏方向    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; UIInterfaceOrientationMaskLandscape;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation&amp;#123;               &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; UIInterfaceOrientationLandscapeRight;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (BOOL)prefersStatusBarHidden&amp;#123;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; NO;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;21. 系统键盘通知消息&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;、UIKeyboardWillShowNotification-将要弹出键盘&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;、UIKeyboardDidShowNotification-显示键盘&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;、UIKeyboardWillHideNotification-将要隐藏键盘&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;、UIKeyboardDidHideNotification-键盘已经隐藏&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;、UIKeyboardWillChangeFrameNotification-键盘将要改变frame&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;、UIKeyboardDidChangeFrameNotification-键盘已经改变frame&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;22. 关闭navigationController的滑动返回手势&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;self.navigationController.interactivePopGestureRecognizer.enabled = NO;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;23. 设置状态栏背景为任意的颜色&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (void)setStatusColor&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIView *statusBarView = [[UIView alloc] initWithFrame:CGRectMake(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,[UIScreen mainScreen].bounds.size.width, &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    statusBarView.backgroundColor = [UIColor orangeColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self.view addSubview:statusBarView];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;24. 让Xcode的控制台支持LLDB类型的打印&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;打开终端输入三条命令:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    touch ~/.lldbinit&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    echo display @import UIKit &amp;gt;&amp;gt; ~/.lldbinit&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    echo target stop-hook add -o \&quot;target stop-hook disable\&quot; &amp;gt;&amp;gt; ~/.lldbinit&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;下次重新运行项目，然后就不报错了。&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;25. Label行间距&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-（void）test&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSMutableAttributedString *attributedString =    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   [[NSMutableAttributedString alloc] initWithString:self.contentLabel.text];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSMutableParagraphStyle *paragraphStyle =  [[NSMutableParagraphStyle alloc] init];  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   [paragraphStyle setLineSpacing:&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //调整行间距       &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   [attributedString addAttribute:NSParagraphStyleAttributeName &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                         value:paragraphStyle &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                         range:NSMakeRange(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, [self.contentLabel.text length])];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     self.contentLabel.attributedText = attributedString;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;26. UIImageView填充模式&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;UIViewContentModeScaleToFill&quot;,      // 拉伸自适应填满整个视图  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;UIViewContentModeScaleAspectFit&quot;,   // 自适应比例大小显示  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;UIViewContentModeScaleAspectFill&quot;,  // 原始大小显示  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;UIViewContentModeRedraw&quot;,           // 尺寸改变时重绘  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;UIViewContentModeCenter&quot;,           // 中间  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;UIViewContentModeTop&quot;,              // 顶部  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;UIViewContentModeBottom&quot;,           // 底部  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;UIViewContentModeLeft&quot;,             // 中间贴左  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;UIViewContentModeRight&quot;,            // 中间贴右  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;UIViewContentModeTopLeft&quot;,          // 贴左上  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;UIViewContentModeTopRight&quot;,         // 贴右上  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;UIViewContentModeBottomLeft&quot;,       // 贴左下  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@&quot;UIViewContentModeBottomRight&quot;,      // 贴右下&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;27. 宏定义检测block是否可用&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#define BLOCK_EXEC(block, ...) if (block) &amp;#123; block(__VA_ARGS__); &amp;#125;;   &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// 宏定义之前的用法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (completionBlock)   &amp;#123;   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    completionBlock(arg1, arg2); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// 宏定义之后的用法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; BLOCK_EXEC(completionBlock, arg1, arg2);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;28. Debug栏打印时自动把Unicode编码转化成汉字&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// 有时候我们在xcode中打印中文,会打印出Unicode编码,还需要自己去一些在线网站转换,有了插件就方便多了。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; DXXcodeConsoleUnicodePlugin 插件&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;29. 设置状态栏文字样式颜色&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[[UIApplication sharedApplication] setStatusBarHidden:NO];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[[UIApplication sharedApplication] setStatusBarStyle:UIStatusBarStyleLightContent];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;30. 自动生成模型代码的插件&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// 可自动生成模型的代码，省去写模型代码的时间&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ESJsonFormat-&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;-Xcode&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;31. iOS中的一些手势&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;轻击手势（TapGestureRecognizer）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;轻扫手势（SwipeGestureRecognizer）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;长按手势（LongPressGestureRecognizer）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;拖动手势（PanGestureRecognizer）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;捏合手势（PinchGestureRecognizer）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;旋转手势（RotationGestureRecognizer）&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;32. iOS 开发中一些相关的路径&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;模拟器的位置:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;文档安装位置:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/Applications/Xcode.app/Contents/Developer/Documentation/DocSets&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;插件保存路径:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;~/Library/ApplicationSupport/Developer/Shared/Xcode/Plug-ins&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;自定义代码段的保存路径:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;~/Library/Developer/Xcode/UserData/CodeSnippets/ &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;如果找不到CodeSnippets文件夹，可以自己新建一个CodeSnippets文件夹。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;证书路径&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;~/Library/MobileDevice/Provisioning Profiles&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;33. 获取 iOS 路径的方法&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;获取家目录路径的函数&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSString *homeDir = NSHomeDirectory();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;获取Documents目录路径的方法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSString *docDir = [paths objectAtIndex:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;获取Documents目录路径的方法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSArray *paths = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSString *cachesDir = [paths objectAtIndex:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;获取tmp目录路径的方法：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSString *tmpDir = NSTemporaryDirectory();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;34. 字符串相关操作&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;去除所有的空格&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[str stringByReplacingOccurrencesOfString:@&lt;span class=&quot;string&quot;&gt;&quot; &quot;&lt;/span&gt; withString:@&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;去除首尾的空格&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[str stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (NSString *)uppercaseString; 全部字符转为大写字母&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (NSString *)lowercaseString 全部字符转为小写字母&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;35. CocoaPods pod install/pod update更新慢的问题&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pod install --verbose --no-repo-update &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pod update --verbose --no-repo-update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;如果不加后面的参数，默认会升级CocoaPods的spec仓库，加一个参数可以省略这一步，然后速度就会提升不少。&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;36. MRC和ARC混编设置方式&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;在XCode中targets的build phases选项下Compile Sources下选择 不需要arc编译的文件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;双击输入 -fno-objc-arc 即可&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;MRC工程中也可以使用ARC的类，方法如下：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;在XCode中targets的build phases选项下Compile Sources下选择要使用arc编译的文件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;双击输入 -fobjc-arc 即可&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;37. 把tableview里cell的小对勾的颜色改成别的颜色&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;_mTableView.tintColor = [UIColor redColor];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;38. 调整tableview的separaLine线的位置&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;tableView.separatorInset = UIEdgeInsetsMake(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;39. 设置滑动的时候隐藏navigationbar&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;navigationController.hidesBarsOnSwipe = Yes&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;40. 自动处理键盘事件，实现输入框防遮挡的插件&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;IQKeyboardManager&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;https://github.com/hackiftekhar/IQKeyboardManager&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;41. Quartz2D相关&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;图形上下是一个CGContextRef类型的数据。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;图形上下文包含：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;，绘图路径（各种各样图形）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;，绘图状态（颜色，线宽，样式，旋转，缩放，平移）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;，输出目标（绘制到什么地方去？UIView、图片）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;，获取当前图形上下文&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextRef ctx = UIGraphicsGetCurrentContext();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;，添加线条&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextMoveToPoint(ctx, &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;，渲染&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextStrokePath(ctx);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextFillPath(ctx);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;，关闭路径&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextClosePath(ctx);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;，画矩形&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextAddRect(ctx, CGRectMake(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;120&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;，设置线条颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[[UIColor redColor] setStroke];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;， 设置线条宽度&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextSetLineWidth(ctx, &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;，设置头尾样式&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextSetLineCap(ctx, kCGLineCapSquare);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;，设置转折点样式&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextSetLineJoin(ctx, kCGLineJoinBevel);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;，画圆&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextAddEllipseInRect(ctx, CGRectMake(&lt;span class=&quot;number&quot;&gt;30&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;50&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;，指定圆心&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextAddArc(ctx, &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;50&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, M_PI * &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;，获取图片上下文&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UIGraphicsGetImageFromCurrentImageContext();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;13&lt;/span&gt;，保存图形上下文&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextSaveGState(ctx)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;14&lt;/span&gt;，恢复图形上下文&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextRestoreGState(ctx)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;42. 屏幕截图&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// &lt;span class=&quot;number&quot;&gt;1.&lt;/span&gt; 开启一个与图片相关的图形上下文&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UIGraphicsBeginImageContextWithOptions(self.view.bounds.size,NO,&lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// &lt;span class=&quot;number&quot;&gt;2.&lt;/span&gt; 获取当前图形上下文&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextRef ctx = UIGraphicsGetCurrentContext();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// &lt;span class=&quot;number&quot;&gt;3.&lt;/span&gt; 获取需要截取的view的layer&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.view.layer renderInContext:ctx];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// &lt;span class=&quot;number&quot;&gt;4.&lt;/span&gt; 从当前上下文中获取图片&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UIImage *image = UIGraphicsGetImageFromCurrentImageContext();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// &lt;span class=&quot;number&quot;&gt;5.&lt;/span&gt; 关闭图形上下文&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UIGraphicsEndImageContext();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// &lt;span class=&quot;number&quot;&gt;6.&lt;/span&gt; 把图片保存到相册&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UIImageWriteToSavedPhotosAlbum(image, nil, nil, nil);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;43. 隐藏导航栏上的返回字体&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//Swift&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UIBarButtonItem.appearance().setBackButtonTitlePositionAdjustment(UIOffsetMake(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;-60&lt;/span&gt;), forBarMetrics: .Default)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//OC&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[[UIBarButtonItem appearance] setBackButtonTitlePositionAdjustment:UIOffsetMake(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;-60&lt;/span&gt;) forBarMetrics:UIBarMetricsDefault];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;44. 解决tableview的分割线短一截&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-(void)viewDidLayoutSubviews&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([self.tableView respondsToSelector:@selector(setSeparatorInset:)])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.tableView setSeparatorInset:UIEdgeInsetsMake(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([self.tableView respondsToSelector:@selector(setLayoutMargins:)]) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.tableView setLayoutMargins:UIEdgeInsetsMake(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([cell respondsToSelector:@selector(setSeparatorInset:)]) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[cell setSeparatorInset:UIEdgeInsetsZero]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([cell respondsToSelector:@selector(setLayoutMargins:)]) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[cell setLayoutMargins:UIEdgeInsetsZero]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;45. 动态隐藏NavigationBar&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//&lt;span class=&quot;number&quot;&gt;1.&lt;/span&gt;当我们的手离开屏幕时候隐藏&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)scrollViewWillEndDragging:(UIScrollView *)scrollView withVelocity:(CGPoint)velocity targetContentOffset:(inout CGPoint *)targetContentOffset&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(velocity.y &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.navigationController setNavigationBarHidden:YES animated:YES];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.navigationController setNavigationBarHidden:NO animated:YES]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;velocity.y这个量，在上滑和下滑时，变化极小（小数），但是因为方向不同，有正负之分，这就很好处理了。&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//&lt;span class=&quot;number&quot;&gt;2.&lt;/span&gt;在滑动过程中隐藏&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//像safari&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;self.navigationController.hidesBarsOnSwipe = YES;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)scrollViewDidScroll:(UIScrollView *)scrollView&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; CGFloat offsetY = scrollView.contentOffset.y + __tableView.contentInset.top;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; CGFloat panTranslationY = [scrollView.panGestureRecognizer translationInView:self.tableView].y;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (offsetY &amp;gt; &lt;span class=&quot;number&quot;&gt;64&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (panTranslationY &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//下滑趋势，显示 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.navigationController setNavigationBarHidden:NO animated:YES];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//上滑趋势，隐藏 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.navigationController setNavigationBarHidden:YES animated:YES]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.navigationController setNavigationBarHidden:NO animated:YES]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;这里的offsetY &amp;gt; &lt;span class=&quot;number&quot;&gt;64&lt;/span&gt;只是为了在视图滑过navigationBar的高度之后才开始处理，防止影响展示效果。panTranslationY是scrollView的pan手势的手指位置的y值，可能不是太好，因为panTranslationY这个值在较小幅度上下滑动时，可能都为正或都为负，这就使得这一方式不太灵敏.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;效果图&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/nav_hide.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; 46. 设置导航栏透明&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//方法一:设置透明度&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[[[self.navigationController.navigationBar subviews]objectAtIndex:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;] setAlpha:&lt;span class=&quot;number&quot;&gt;0.1&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//方法二:设置背景图片&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * 设置导航栏,使其透明&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)setNavigationBarColor:(UIColor *)color targetController:(UIViewController *)targetViewController&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//导航条的颜色 以及隐藏导航条的颜色targetViewController.navigationController.navigationBar.shadowImage = [[UIImage alloc]init]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGRect rect=CGRectMake(&lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;f, &lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;f, &lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;f, &lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;f); UIGraphicsBeginImageContext(rect.size);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetFillColorWithColor(context, [color CGColor]); CGContextFillRect(context, rect); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UIImage *theImage = UIGraphicsGetImageFromCurrentImageContext(); UIGraphicsEndImageContext(); [targetViewController.navigationController.navigationBar setBackgroundImage:theImage forBarMetrics:UIBarMetricsDefault];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;47. 设置字体和行间距&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//设置字体和行间距 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UILabel * lable = [[UILabel alloc]initWithFrame:CGRectMake(&lt;span class=&quot;number&quot;&gt;50&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;300&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;)]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;lable.text = @&lt;span class=&quot;string&quot;&gt;&quot;大家好,我是Frank_chun,在这里我们一起学习新的知识,总结我们遇到的那些坑,共同的学习,共同的进步,共同的努力,只为美好的明天!!!有问题一起相互的探讨--438637472!!!&quot;&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;lable.numberOfLines = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;lable.font = [UIFont systemFontOfSize:&lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;lable.backgroundColor = [UIColor grayColor]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.view addSubview:lable]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//设置每个字体之间的间距 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//NSKernAttributeName 这个对象所对应的值是一个NSNumber对象(包含小数),作用是修改默认字体之间的距离调整,值为&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;的话表示字距调整是禁用的; NSMutableAttributedString * str = [[NSMutableAttributedString alloc]initWithString:lable.text attributes:@&amp;#123;NSKernAttributeName:@(&lt;span class=&quot;number&quot;&gt;5.0&lt;/span&gt;)&amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//设置某写字体的颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//NSForegroundColorAttributeName 设置字体颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSRange blueRange = NSMakeRange([[str string] rangeOfString:@&lt;span class=&quot;string&quot;&gt;&quot;Frank_chun&quot;&lt;/span&gt;].location, [[str string] rangeOfString:@&lt;span class=&quot;string&quot;&gt;&quot;Frank_chun&quot;&lt;/span&gt;].length); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[str addAttribute:NSForegroundColorAttributeName value:[UIColor redColor] range:blueRange]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSRange blueRange1 = NSMakeRange([[str string] rangeOfString:@&lt;span class=&quot;string&quot;&gt;&quot;438637472&quot;&lt;/span&gt;].location, [[str string] rangeOfString:@&lt;span class=&quot;string&quot;&gt;&quot;438637472&quot;&lt;/span&gt;].length);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[str addAttribute:NSForegroundColorAttributeName value:[UIColor redColor] range:blueRange1];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//设置每行之间的间距 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//NSParagraphStyleAttributeName 设置段落的样式&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSMutableParagraphStyle * par = [[NSMutableParagraphStyle alloc]init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[par setLineSpacing:&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//为某一范围内文字添加某个属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//NSMakeRange表示所要的范围,从&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;到整个文本的长度&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[str addAttribute:NSParagraphStyleAttributeName value:par range:NSMakeRange(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, lable.text.length)]; [lable setAttributedText:str];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;效果图&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/learn.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;48. 点击button倒计时&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//第一种方法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//点击button倒计时&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#import &quot;ViewController.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@interface ViewController ()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@property (nonatomic, strong) UIButton * timeButton;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@property (nonatomic, strong) NSTimer * timer;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@property (nonatomic, strong)UIButton * btn;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@end@implementation ViewController&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSInteger _time;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)viewDidLoad &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[super viewDidLoad]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_time = &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;self.btn = [UIButton buttonWithType:UIButtonTypeCustom]; _btn.backgroundColor = [UIColor orangeColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_btn setTitle:@&lt;span class=&quot;string&quot;&gt;&quot;获取验证码&quot;&lt;/span&gt; forState:UIControlStateNormal]; _btn.titleLabel.font = [UIFont systemFontOfSize:&lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_timeButton setTitleColor:[UIColor blackColor] forState:UIControlStateNormal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_btn addTarget:self action:@selector(btnAction:) forControlEvents:UIControlEventTouchUpInside];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self refreshButtonWidth]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.view addSubview:self.btn];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)refreshButtonWidth&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CGFloat width = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (_btn.enabled)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; width = &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;width = &lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_btn.center = CGPointMake(self.view.frame.size.width/&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_btn.bounds = CGRectMake(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, width, &lt;span class=&quot;number&quot;&gt;40&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//每次刷新，保证区域正确&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_btn setBackgroundImage:[self imageWithColor:[UIColor orangeColor] andSize:_btn.frame.size] forState:UIControlStateNormal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_btn setBackgroundImage:[self imageWithColor:[UIColor lightGrayColor] andSize:_btn.frame.size] forState:UIControlStateDisabled];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (UIImage *)imageWithColor:(UIColor *)color andSize:(CGSize)aSize&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; CGRect rect = CGRectMake(&lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;f, &lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;f, aSize.width, aSize.height); UIGraphicsBeginImageContext(rect.size);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetFillColorWithColor(context, [color CGColor]); CGContextFillRect(context, rect);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; UIImage *image = UIGraphicsGetImageFromCurrentImageContext(); UIGraphicsEndImageContext();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; image;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)btnAction:(UIButton *)sender&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sender.enabled = NO;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self refreshButtonWidth];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[sender setTitle:[NSString stringWithFormat:@&lt;span class=&quot;string&quot;&gt;&quot;获取验证码(%zi)&quot;&lt;/span&gt;, _time] forState:UIControlStateNormal]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_timer = [NSTimer scheduledTimerWithTimeInterval:&lt;span class=&quot;number&quot;&gt;0.1&lt;/span&gt; target:self selector:@selector(timeDown) userInfo:nil repeats:YES];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)timeDown&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_time --;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (_time == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; [_btn setTitle:@&lt;span class=&quot;string&quot;&gt;&quot;重新获取&quot;&lt;/span&gt; forState:UIControlStateNormal]; _btn.enabled = YES; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self refreshButtonWidth]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_timer invalidate]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_timer = nil; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_time = &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt; ; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[_btn setTitle:[NSString stringWithFormat:@&lt;span class=&quot;string&quot;&gt;&quot;获取验证码(%zi)&quot;&lt;/span&gt;, _time] forState:UIControlStateNormal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//第二种方法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#pragma mark -点击发送验证码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)sendMessage:(UIButton *)btn&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (self.phoneField.text.length == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self remindMessage:@&lt;span class=&quot;string&quot;&gt;&quot;请输入正确的手机号&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;__block int timeout=&lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//倒计时时间 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;); dispatch_source_t _timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,queue); dispatch_source_set_timer(_timer,dispatch_walltime(NULL, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;),&lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;*NSEC_PER_SEC, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; //每秒执行 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_source_set_event_handler(_timer, ^&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(timeout&amp;lt;=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//倒计时结束，关闭 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_source_cancel(_timer); dispatch_async(dispatch_get_main_queue(), ^&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// 设置界面的按钮显示 根据自己需求设置 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[btn setTitle:@&lt;span class=&quot;string&quot;&gt;&quot;发送验证码&quot;&lt;/span&gt; forState:UIControlStateNormal]; btn.userInteractionEnabled = YES; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;int seconds = timeout % &lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSString *strTime = [NSString stringWithFormat:@&lt;span class=&quot;string&quot;&gt;&quot;%d&quot;&lt;/span&gt;, seconds];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([strTime isEqualToString:@&lt;span class=&quot;string&quot;&gt;&quot;0&quot;&lt;/span&gt;]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; strTime = [NSString stringWithFormat:@&lt;span class=&quot;string&quot;&gt;&quot;%d&quot;&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_async(dispatch_get_main_queue(), ^&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//设置界面的按钮显示 根据自己需求设置 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;____%@&quot;&lt;/span&gt;,strTime);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[UIView beginAnimations:nil context:nil];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[UIView setAnimationDuration:&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[btn setTitle:[NSString stringWithFormat:@&lt;span class=&quot;string&quot;&gt;&quot;%@秒后重新发送&quot;&lt;/span&gt;,strTime] forState:UIControlStateNormal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[UIView commitAnimations]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;btn.userInteractionEnabled = NO;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; timeout--;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_resume(_timer);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;效果图&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/buton_timer.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;49. UITextField默认占位符是居中显示,让其居上显示&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;textField.contentVerticalAlignment = UIControlContentVerticalAlignmentTop;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;50. 解决同时按两个按钮进两个view的问题&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[button setExclusiveTouch:YES];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;51. 图片拉伸&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;UIImage* img=[UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;2.png&quot;&lt;/span&gt;];//原图&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UIEdgeInsets edge=UIEdgeInsetsMake(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//UIImageResizingModeStretch：拉伸模式，通过拉伸UIEdgeInsets指定的矩形区域来填充图片&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//UIImageResizingModeTile：平铺模式，通过重复显示UIEdgeInsets指定的矩形区域来填充图&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;img= [img resizableImageWithCapInsets:edge resizingMode:UIImageResizingModeStretch];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;self.imageView.image=img;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;52. 修改textFieldplaceholder字体颜色和大小&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;textField.placeholder = @&lt;span class=&quot;string&quot;&gt;&quot;username is in here!&quot;&lt;/span&gt;;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[textField setValue:[UIColor redColor] forKeyPath:@&lt;span class=&quot;string&quot;&gt;&quot;_placeholderLabel.textColor&quot;&lt;/span&gt;];  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[textField setValue:[UIFont boldSystemFontOfSize:&lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;] forKeyPath:@&lt;span class=&quot;string&quot;&gt;&quot;_placeholderLabel.font&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;53. 修改状态栏字体颜色&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;只能设置两种颜色，黑色和白色，系统默认黑色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;设置为白色方法：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;（&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;）在plist里面添加Status bar style，值为UIStatusBarStyleLightContent（白色）或UIStatusBarStyleDefault（黑 色）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;（&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;）在Info.plist中设置UIViewControllerBasedStatusBarAppearance 为NO&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;54. 去掉导航栏下边的黑线&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[self.navigationController.navigationBar setBackgroundImage:[[UIImage alloc] init] forBarMetrics:UIBarMetricsDefault];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;self.navigationController.navigationBar.shadowImage = [[UIImage alloc] init];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;55. 修改pagecontrol颜色&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;_pageControl.currentPageIndicatorTintColor=SFQRedColor;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_pageControl.pageIndicatorTintColor=SFQGrayColor;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;56. 去掉UITableView的section的粘性，使其不会悬停&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//有时候使用UITableView所实现的列表，会使用到section，但是又不希望它粘在最顶上而是跟随滚动而消失或者出现&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)scrollViewDidScroll:(UIScrollView *)scrollView &amp;#123;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (scrollView == _tableView) &amp;#123;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        CGFloat sectionHeaderHeight = &lt;span class=&quot;number&quot;&gt;36&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (scrollView.contentOffset.y &amp;lt;= sectionHeaderHeight &amp;amp;&amp;amp; scrollView.contentOffset.y &amp;gt;= &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            scrollView.contentInset = UIEdgeInsetsMake(-scrollView.contentOffset.y, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (scrollView.contentOffset.y &amp;gt;= sectionHeaderHeight) &amp;#123;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            scrollView.contentInset = UIEdgeInsetsMake(-sectionHeaderHeight, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;57. 通过2D仿射函数实现小的动画效果(变大缩小) –可用于自定义pageControl中&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[UIView animateWithDuration:&lt;span class=&quot;number&quot;&gt;0.3&lt;/span&gt; animations:^&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       imageView.transform = CGAffineTransformMakeScale(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125; completion:^(BOOL finished) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       imageView.transform = CGAffineTransformMakeScale(&lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;58. UIImage与字符串互转&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//图片转字符串  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(NSString *)UIImageToBase64Str:(UIImage *) image  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSData *data = UIImageJPEGRepresentation(image, &lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;f);  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSString *encodedImageStr = [data base64EncodedStringWithOptions:NSDataBase64Encoding64CharacterLineLength];  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; encodedImageStr;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//字符串转图片  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(UIImage *)Base64StrToUIImage:(NSString *)_encodedImageStr  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSData *_decodedImageData   = [[NSData alloc] initWithBase64Encoding:_encodedImageStr];  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIImage *_decodedImage      = [UIImage imageWithData:_decodedImageData];  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; _decodedImage;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;59. 判断NSString中是否包含中文&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-(BOOL)isChinese:(NSString *)str&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSString *match=@&lt;span class=&quot;string&quot;&gt;&quot;(^[\u4e00-\u9fa5]+$)&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSPredicate *predicate = [NSPredicate predicateWithFormat:@&lt;span class=&quot;string&quot;&gt;&quot;SELF matches %@&quot;&lt;/span&gt;, match];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; [predicate evaluateWithObject:str];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;60. NSDate与NSString的相互转化&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-(NSString *)dateToString:(NSDate *)date &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  // 初始化时间格式控制器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  NSDateFormatter *matter = [[NSDateFormatter alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  // 设置设计格式&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [matter setDateFormat:@&lt;span class=&quot;string&quot;&gt;&quot;yyyy-MM-dd hh:mm:ss zzz&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  // 进行转换&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  NSString *dateStr = [matter stringFromDate:date];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; dateStr;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(NSDate *)stringToDate:(NSString *)dateStr &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  // 初始化时间格式控制器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  NSDateFormatter *matter = [[NSDateFormatter alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  // 设置设计格式&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [matter setDateFormat:@&lt;span class=&quot;string&quot;&gt;&quot;yyyy-MM-dd hh:mm:ss zzz&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  // 进行转换&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  NSDate *date = [matter dateFromString:dateStr];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; date;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;以上整理只为自己和大家方便查看，iOS中小技巧不计其数&lt;br&gt;如果大家有不错的代码和技巧，也可留言或私信我，然后加上，&lt;br&gt;持续更新中。。。。欢迎大家光临&lt;a href=&quot;http://lishcihao.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;我的博客&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;开发过程中遇到的一些问题&lt;/p&gt;
&lt;p&gt;网上查阅整理的一些问题&lt;/p&gt;
&lt;p&gt;供大家参考，方便大家查阅&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/techo.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="iOS技术归纳" scheme="http://lishichao.github.io/categories/iOS%E6%8A%80%E6%9C%AF%E5%BD%92%E7%BA%B3/"/>
    
    
      <category term="iOS技术" scheme="http://lishichao.github.io/tags/iOS%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>iOS Hybrid 框架 ——PhoneGap</title>
    <link href="http://lishichao.github.io/2016/05/10/iOS-Hybrid-%E6%A1%86%E6%9E%B6-%E2%80%94%E2%80%94PhoneGap/"/>
    <id>http://lishichao.github.io/2016/05/10/iOS-Hybrid-框架-——PhoneGap/</id>
    <published>2016-05-10T09:13:09.000Z</published>
    <updated>2016-05-10T10:16:14.000Z</updated>
    
    <content type="html">&lt;h4 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;Hybrid App（混合模式移动应用）是指介于web-app、native-app这两者之间的app，兼具“Native App良好用户交互体验的优势”和“Web App跨平台开发的优势”。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/Hybrid/hybrid_4.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;Hybrid App按网页语言与程序语言的混合，通常分为三种类型：多View混合型，单View混合型，Web主体型，3种类型比较如下：&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/Hybrid/hybrid_1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;今天我来谈谈Web主体型中Hybrid框架里面比较有名的PhoneGap&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/Hybrid/hybrid_2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;Cordova&quot;&gt;&lt;a href=&quot;#Cordova&quot; class=&quot;headerlink&quot; title=&quot;Cordova&quot;&gt;&lt;/a&gt;Cordova&lt;/h4&gt;&lt;p&gt;说到PhoneGap，就不得不说到Cordova&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Cordova 是一个可以让 JS 与原生代码(包括 Android 的 java，iOS 的 Objective-C 等)互相通信的一个库，并且提供了一系列的插件类，比如 JS 直接操作本地数据库的插件类。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cordova的设计概念，是在APP上透过Web控件来呈现Web页面，让Web开发人员可以操作熟悉的语言、工具来开发APP.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;为了让Web页面能够满足更多的APP功能需求，Cordova提供了Plugin机制，让Web页面能够挂载并调用Native开发技术所开发的功能模块&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Cordova在系统中的层级应该是这样子的:&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/Hybrid/hybrid_3.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;Js-与-Objective-C-通信&quot;&gt;&lt;a href=&quot;#Js-与-Objective-C-通信&quot; class=&quot;headerlink&quot; title=&quot;Js 与 Objective-C 通信&quot;&gt;&lt;/a&gt;Js 与 Objective-C 通信&lt;/h4&gt;&lt;p&gt;Js 使用了两种方式来与 Objective-C 通信&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;一种是使用 XMLHttpRequest 发起请求的方式，另一种则是通过设置透明的iframe的src属性。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;第二种方式 iframebridge，通过在Js端创建一个透明的iframe，设置这个ifame的src为自定义的协议，而ifame的src更改时，UIWebView会先回调其delegate的webView:shouldStartLoadWithRequest:navigationType: 方法&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;说的还是很抽象的，来实际看一段代码&lt;br&gt;在cordova.js 里面，是这样子实现的&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;function iOSExec() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (!isInContextOfEvalJs &amp;amp;&amp;amp; commandQueue.length == 1)  &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // 如果支持 XMLHttpRequest，则使用 XMLHttpRequest 方式&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (bridgeMode != jsToNativeModes.IFRAME_NAV) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            // This prevents sending an XHR when there is already one being sent.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            // This should happen only in rare circumstances (refer to unit tests).&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            if (execXhr &amp;amp;&amp;amp; execXhr.readyState != 4) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                execXhr = null;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            // Re-using the XHR improves exec() performance by about 10%.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            execXhr = execXhr || new XMLHttpRequest();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            // Changing this to a GET will make the XHR reach the URIProtocol on 4.2.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            // For some reason it still doesn&#39;t work though...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            // Add a timestamp to the query param to prevent caching.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            execXhr.open(&#39;HEAD&#39;, &quot;/!gap_exec?&quot; + (+new Date()), true);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            if (!vcHeaderValue) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                vcHeaderValue = /.*\((.*)\)/.exec(navigator.userAgent)[1];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            execXhr.setRequestHeader(&#39;vc&#39;, vcHeaderValue);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            execXhr.setRequestHeader(&#39;rc&#39;, ++requestCount);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            if (shouldBundleCommandJson()) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                // 设置请求的数据&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                execXhr.setRequestHeader(&#39;cmds&#39;, iOSExec.nativeFetchMessages());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            // 发起请求&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            execXhr.send(null);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            // 如果不支持 XMLHttpRequest，则使用透明 iframe 的方式，设置 iframe 的 src 属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            execIframe = execIframe || createExecIframe();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            execIframe.src = &quot;gap://ready&quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;iOS这边对应的要在WebView里面写响应的方法&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// UIWebView 加载 URL 前回调的方法，返回 YES，则开始加载此 URL，返回 NO，则忽略此 URL&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (BOOL)webView:(UIWebView*)theWebView&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              shouldStartLoadWithRequest:(NSURLRequest*)request&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              navigationType:(UIWebViewNavigationType)navigationType&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSURL* url = [request URL];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    /*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     * Execute any commands queued &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; cordova.exec() on the JS side.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     * The part of the URL after gap:// &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; irrelevant.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 判断是否 Cordova 的请求，对于 JS 代码中 execIframe.src = &lt;span class=&quot;string&quot;&gt;&quot;gap://ready&quot;&lt;/span&gt; 这句&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([[url scheme] isEqualToString:@&lt;span class=&quot;string&quot;&gt;&quot;gap&quot;&lt;/span&gt;]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // 获取请求的数据，并对数据进行分析、处理&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [_commandQueue fetchCommandsFromJs];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; NO;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这样就完成了Js和OC的通信了&lt;/p&gt;
&lt;h4 id=&quot;Objective-C-与-Js-通信&quot;&gt;&lt;a href=&quot;#Objective-C-与-Js-通信&quot; class=&quot;headerlink&quot; title=&quot;Objective-C 与 Js 通信&quot;&gt;&lt;/a&gt;Objective-C 与 Js 通信&lt;/h4&gt;&lt;p&gt;首先OC获取Js的请求数据&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (void)fetchCommandsFromJs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Grab all the queued commands &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; the JS side.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSString* queuedCommandsJSON = [_viewController.webView&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                    stringByEvaluatingJavaScriptFromString:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;                                    @&quot;cordova.require(&#39;cordova/exec&#39;).nativeFetchMessages()&quot;];&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self enqueCommandBatch:queuedCommandsJSON];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([queuedCommandsJSON length] &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        CDV_EXEC_LOG(@&lt;span class=&quot;string&quot;&gt;&quot;Exec: Retrieved new exec messages by request.&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;然后OC处理Js传过来的请求&lt;/p&gt;
&lt;p&gt;OC再把处理结果返回Js&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSString *ret = [((HFNativeFunction*)strongSelf.actionDict[funcName]) doCall:argArr];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        NSString *js = [NSString stringWithFormat:@&lt;span class=&quot;string&quot;&gt;&quot;if(typeof %@ == &#39;string&#39;) &amp;#123; paf.nativeInvocationObject=%@;&amp;#125; else &amp;#123;   paf.nativeInvocationObject=JSON.stringify(%@);&amp;#125; &quot;&lt;/span&gt;, ret, ret, ret];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        DLog(@&lt;span class=&quot;string&quot;&gt;&quot;\n\njs call fun=%@ ret=%@\n\n&quot;&lt;/span&gt;, funcName, ret);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [self.webView stringByEvaluatingJavaScriptFromString: js];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Cordova-Js工作原理&quot;&gt;&lt;a href=&quot;#Cordova-Js工作原理&quot; class=&quot;headerlink&quot; title=&quot;Cordova - Js工作原理&quot;&gt;&lt;/a&gt;Cordova - Js工作原理&lt;/h4&gt;&lt;p&gt;Cordova JS 端请求方法的格式：&lt;br&gt;// successCallback : 成功回调方法&lt;br&gt;// failCallback : 失败回调方法&lt;br&gt;// server : 所要请求的服务名字&lt;br&gt;// action : 所要请求的服务具体操作&lt;br&gt;// actionArgs : 请求操作所带的参数&lt;/p&gt;
&lt;p&gt;cordova.exec(successCallback, failCallback, service, action, actionArgs);&lt;/p&gt;
&lt;p&gt;传进来的这五个参数并不是直接传送给原生代码的，Cordova JS 端会做以下的处理：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;会为每个请求生成一个叫 callbackId 的唯一标识：这个参数需传给 Objective-C 端，Objective-C 处理完后，会把 callbackId 连同处理结果一起返回给 JS 端。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;以 callbackId 为 key，{success:successCallback, fail:failCallback} 为 value，把这个键值对保存在 JS 端的字典里，successCallback 与 failCallback 这两个参数不需要传给 Objective-C 端，Objective-C 返回结果时带上 callbackId，JS 端就可以根据 callbackId 找到回调方法。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;每次 JS 请求，最后发到 Objective-C 的数据包括：callbackId, service, action, actionArgs。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Js处理请求&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;function iOSExec() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 生成一个 callbackId 的唯一标识，并把此标志与成功、失败回调方法一起保存在 JS 端&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Register the callbacks &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; add the callbackId to the positional&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // arguments &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; given.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (successCallback || failCallback) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        callbackId = service + cordova.callbackId++;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cordova.callbacks[callbackId] =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;success:successCallback, fail:failCallback&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    actionArgs = massageArgsJsToNative(actionArgs);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 把 callbackId，service，action，actionArgs 保持到 commandQueue 中&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 这四个参数就是最后发给原生代码的数据&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var command = [callbackId, service, action, actionArgs];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    commandQueue.push(JSON.stringify(command));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// 获取请求的数据，包括 callbackId, service, action, actionArgs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;iOSExec.nativeFetchMessages = function() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Each entry &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; commandQueue &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; a JSON string already.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!commandQueue.length) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var json = &lt;span class=&quot;string&quot;&gt;&#39;[&#39;&lt;/span&gt; + commandQueue.join(&lt;span class=&quot;string&quot;&gt;&#39;,&#39;&lt;/span&gt;) + &lt;span class=&quot;string&quot;&gt;&#39;]&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    commandQueue.length = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; json;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;Cordova-OC工作原理&quot;&gt;&lt;a href=&quot;#Cordova-OC工作原理&quot; class=&quot;headerlink&quot; title=&quot;Cordova - OC工作原理&quot;&gt;&lt;/a&gt;Cordova - OC工作原理&lt;/h4&gt;&lt;p&gt;Native OC拿到 callbackId、service、action 及 actionArgs 后，会做以下的处理：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;根据 service 参数找到对应的插件类&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;根据 action 参数找到插件类中对应的处理方法，并把 actionArgs 作为处理方法请求参数的一部分传给处理方法&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;处理完成后，把处理结果及 callbackId 返回给 JS 端，JS 端收到后会根据 callbackId 找到回调方法，并把处理结果传给回调方法&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Objective-C 返回结果给 JS 端&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (void)sendPluginResult:(CDVPluginResult*)result callbackId:(NSString*)callbackId&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CDV_EXEC_LOG(@&lt;span class=&quot;string&quot;&gt;&quot;Exec(%@): Sending result. Status=%@&quot;&lt;/span&gt;, callbackId, result.status);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // This occurs when there &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; are no win/fail callbacks &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; the call.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([@&lt;span class=&quot;string&quot;&gt;&quot;INVALID&quot;&lt;/span&gt; isEqualToString : callbackId]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    int status = [result.status intValue];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    BOOL keepCallback = [result.keepCallback boolValue];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSString* argumentsAsJSON = [result argumentsAsJSON];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 将请求的处理结果及 callbackId 通过调用 JS 方法返回给 JS 端&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSString* js = [NSString stringWithFormat:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;                    @&quot;cordova.require(&#39;cordova/exec&#39;).nativeCallback(&#39;%@&#39;,%d,%@,%d)&quot;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    callbackId, status, argumentsAsJSON, keepCallback];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self evalJsHelper:js];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;举个具体的例子：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;将收到的json转换成Command&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// Execute the commands one-at-a-time.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     NSArray* jsonEntry = [commandBatch dequeue];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([commandBatch count] == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  [_queue removeObjectAtIndex:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     HFCDVInvokedUrlCommand* command = [HFCDVInvokedUrlCommand commandFromJson:jsonEntry];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     HF_CDV_EXEC_LOG(@&lt;span class=&quot;string&quot;&gt;&quot;Exec(%@): Calling %@.%@&quot;&lt;/span&gt;, command.callbackId, command.className, command.methodName);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;OC执行&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (BOOL)execute:(HFCDVInvokedUrlCommand*)command&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if ((command.className == nil) || (command.methodName == nil)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        DLog(@&quot;ERROR: Classname and/or methodName not found for command.&quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return NO;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if ([command.className isEqualToString:@&quot;DeviceReadyDummyClass&quot;] &amp;amp;&amp;amp;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [command.methodName isEqualToString:@&quot;deviceReady&quot;]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [[NSNotificationCenter defaultCenter]postNotificationName:k_NOTIF_DEVICE_READY object:_viewController];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return YES;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Fetch an instance of this class&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    HFCDVPlugin* obj = [_viewController.commandDelegate getCommandInstance:command.className];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (!([obj isKindOfClass:[HFCDVPlugin class]])) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        DLog(@&quot;ERROR: Plugin &#39;%@&#39; not found, or is not a HFCDVPlugin. Check your plugin mapping in config.xml.&quot;, command.className);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return NO;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    BOOL retVal = YES;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    double started = [[NSDate date] timeIntervalSince1970] * 1000.0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Find the proper selector to call.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSString* methodName = [NSString stringWithFormat:@&quot;%@:&quot;, command.methodName];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    SEL normalSelector = NSSelectorFromString(methodName);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if ([obj respondsToSelector:normalSelector]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // [obj performSelector:normalSelector withObject:command];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ((void (*)(id, SEL, id))objc_msgSend)(obj, normalSelector, command);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // There&#39;s no method to call, so throw an error.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        DLog(@&quot;ERROR: Method &#39;%@&#39; not defined in Plugin &#39;%@&#39;&quot;, methodName, command.className);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        retVal = NO;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    double elapsed = [[NSDate date] timeIntervalSince1970] * 1000.0 - started;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (elapsed &amp;gt; 10) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        DLog(@&quot;THREAD WARNING: [&#39;%@&#39;] took &#39;%f&#39; ms. Plugin should use a background thread.&quot;, command.className, elapsed);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return retVal;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;回调方法&quot;&gt;&lt;a href=&quot;#回调方法&quot; class=&quot;headerlink&quot; title=&quot;回调方法&quot;&gt;&lt;/a&gt;回调方法&lt;/h4&gt;&lt;p&gt;Js端拿到数据根据 callbackId 回调&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// 根据 callbackId 及是否成功标识，找到回调方法，并把处理结果传给回调方法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;callbackFromNative: function(callbackId, success, status, args, keepCallback) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var callback = cordova.callbacks[callbackId];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (callback) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (success &amp;amp;&amp;amp; status == cordova.callbackStatus.OK) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            callback.success &amp;amp;&amp;amp; callback.success.apply(null, args);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!success) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            callback.fail &amp;amp;&amp;amp; callback.fail.apply(null, args);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Clear callback &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; expecting any more results&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!keepCallback) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            delete cordova.callbacks[callbackId];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;div class=&quot;ds-share&quot; data-thread-key=&quot;2016/05/10/iOS-Hybrid-框架-——PhoneGap/&quot; data-title=&quot;iOS Hybrid 框架 ——PhoneGap&quot; data-images=&quot;http://7xstl7.com1.z0.glb.clouddn.com/Hybrid/hybrid_4.jpg&quot; data-url=&quot;http://lishichao.github.io/2016/05/10/iOS-Hybrid-框架-——PhoneGap/&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=&quot;ds-share-inline&quot;&gt;&lt;br&gt;      &lt;ul class=&quot;ds-share-icons-16&quot;&gt;&lt;br&gt;      &lt;li style=&quot;color:#999999;font-size:13px;margin-top:2px&quot;&gt;&lt;i class=&quot;fa fa-share-square-o&quot; style=&quot;margin-right:5px;color:#666666&quot;&gt;分享到&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-wechat&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;wechat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-weibo&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;weibo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-qq&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qq&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ&lt;/a&gt; &lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qzone&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qzone&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ空间&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qqt&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qqt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;腾讯微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-facebook&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;facebook&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Facebook&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a class=&quot;ds-douban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;douban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;豆瓣网&lt;/a&gt; &lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-huaban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;huaban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;花瓣网&lt;/a&gt; &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;      &lt;div class=&quot;ds-share-icons-more&quot;&gt;&lt;br&gt;      &lt;/div&gt;&lt;br&gt; &lt;/div&gt;

&lt;p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;Hybrid App（混合模式移动应用）是指介于web-app、native-app这两者之间的app，兼具“Native App良好用户交互体验的优势”和“Web App跨平台开发的优势”。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/Hybrid/hybrid_4.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Hybrid" scheme="http://lishichao.github.io/categories/Hybrid/"/>
    
    
      <category term="Hybrid" scheme="http://lishichao.github.io/tags/Hybrid/"/>
    
  </entry>
  
  <entry>
    <title>通过自定义 URL Scheme 让其他引用启动本应用</title>
    <link href="http://lishichao.github.io/2016/05/05/%E9%80%9A%E8%BF%87%E8%87%AA%E5%AE%9A%E4%B9%89-URL-Scheme-%E8%AE%A9%E5%85%B6%E4%BB%96%E5%BC%95%E7%94%A8%E5%90%AF%E5%8A%A8%E6%9C%AC%E5%BA%94%E7%94%A8/"/>
    <id>http://lishichao.github.io/2016/05/05/通过自定义-URL-Scheme-让其他引用启动本应用/</id>
    <published>2016-05-05T10:28:50.000Z</published>
    <updated>2016-05-05T10:58:24.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;iPhone / iOS SDK 最酷的特性之一就是应用将其自身”绑定”到一个自定义 URL scheme 上，该 scheme 用于从浏览器或其他应用中启动本应用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/scheme_title.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;注册自定义-URL-Scheme&quot;&gt;&lt;a href=&quot;#注册自定义-URL-Scheme&quot; class=&quot;headerlink&quot; title=&quot;注册自定义 URL Scheme&quot;&gt;&lt;/a&gt;注册自定义 URL Scheme&lt;/h4&gt;&lt;p&gt;注册自定义 URL Scheme 的第一步是创建 URL Scheme — 在 Xcode Project Navigator 中找到并点击工程 info.plist 文件。当该文件显示在右边窗口，在列表上点击鼠标右键，选择 Add Row:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;向下滚动弹出的列表并选择 URL types。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/789819-fa9782e8f432283a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;点击左边剪头打开列表，可以看到 Item 0，一个字典实体。展开 Item 0，可以看到 URL Identifier，一个字符串对象。该字符串是你自定义的 URL scheme 的名字。建议采用反转域名的方法保证该名字的唯一性，比如 com.yourCompany.yourApp。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/789819-e3bcadf29d9d85cc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;点击 Item 0 新增一行，从下拉列表中选择 URL Schemes，敲击键盘回车键完成插入。 &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/789819-fe7e6a3b60b261ea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;注意: URL Schemes 是一个数组，允许应用定义多个 URL schemes。 &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/789819-346e03ef2baa2aff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;展开该数据并点击 Item 0。你将在这里定义自定义 URL scheme 的名字。只需要名字，不要在后面追加 :// — 比如，如果你输入 iOSDevApp，你的自定义 url 就是 iOSDevApp:// &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;此时，整个定义如下图：&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/789819-b0d0d0244fcbff2d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;虽然我赞同 Xcode 使用描述性的名字的目的，不过看到创建的实际的 key 也是非常有用的。这里有一个方便的技巧，右键点击 plist 并选择 Show Raw Keys/Values，就能看到以下效果： &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/789819-ac55e8a5755fe463.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;另一种有用的输出格式，XML，因为可以非常容易的看到字典和原始数组及其包括的实体的结构。&quot;&gt;&lt;a href=&quot;#另一种有用的输出格式，XML，因为可以非常容易的看到字典和原始数组及其包括的实体的结构。&quot; class=&quot;headerlink&quot; title=&quot;另一种有用的输出格式，XML，因为可以非常容易的看到字典和原始数组及其包括的实体的结构。&quot;&gt;&lt;/a&gt;另一种有用的输出格式，XML，因为可以非常容易的看到字典和原始数组及其包括的实体的结构。&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;点击 plist 并选择 Open As – Source Code: &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/789819-0af3348de0315dd5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;从 Safari 中调用自定义 URL Scheme&lt;br&gt;定义了 URL scheme，我们可以运行一个快速测试来验证应用是否如我们所期望的被调用。在这之前，我创建了一个准 UI 以辨别带有自定义 URL 的应用。该应用只有一个 UILabel，带有文本 “App With Custom URL”。 &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/789819-fd66194e1f05beb4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用模拟器调用应用的步骤：&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;在 Xcode 中运行应用&lt;/li&gt;
&lt;li&gt;一旦应用被安装，自定义 URL scheme 就会被注册&lt;/li&gt;
&lt;li&gt;通过模拟器的硬件菜单中选择 Home 来关闭应用&lt;/li&gt;
&lt;li&gt;启动 Safari&lt;/li&gt;
&lt;li&gt;在浏览器地址栏输入之前定义的 URL scheme(如下) &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/789819-18cf757f019dfe80.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;此时 Safari 将会关闭，应用会被带回到前台。祝贺你刚刚使用自定义 URL scheme 调用了一个 iPhone 应用。&lt;/p&gt;
&lt;h4 id=&quot;从另一个-iPhone-应用中调用自定义-URL-Scheme&quot;&gt;&lt;a href=&quot;#从另一个-iPhone-应用中调用自定义-URL-Scheme&quot; class=&quot;headerlink&quot; title=&quot;从另一个 iPhone 应用中调用自定义 URL Scheme&quot;&gt;&lt;/a&gt;从另一个 iPhone 应用中调用自定义 URL Scheme&lt;/h4&gt;&lt;p&gt;让我们看看如何从另一个应用中调用自定义 URL scheme。我又创建了一个非常简单的 iPhone 应用，它只有一个 UILabel 和一个 UIButton — 前者显示了一段信息，告诉你这个应用将要通过自定义 URL scheme 来调用另一个应用，按钮则开始这个行为。&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/789819-d111a15df5370751.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;buttonPressed 方法中的代码处理 URL 调用：&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (void)buttonPressed:(UIButton *)button &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  NSString *customURL = @&lt;span class=&quot;string&quot;&gt;&quot;iOSDevTips://&quot;&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([[UIApplication sharedApplication] &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    canOpenURL:[NSURL URLWithString:customURL]]) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [[UIApplication sharedApplication] openURL:[NSURL URLWithString:customURL]]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@&lt;span class=&quot;string&quot;&gt;&quot;URL error&quot;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                          message:[NSString stringWithFormat: &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;                            @&quot;No custom URL defined for %@&quot;, customURL] &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                          delegate:self cancelButtonTitle:@&lt;span class=&quot;string&quot;&gt;&quot;Ok&quot;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                          otherButtonTitles:nil]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [alert show]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;第 5 行代码检查自定义 URL 是否被定义，如果定义了，则使用 shared application 实例来打开 URL (第 8 行)。openURL: 方法启动应用并将 URL 传入应用。在此过程中，当前的应用被退出。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;通过自定义 URL Scheme 向应用传递参数&lt;br&gt;有时你需要通过自定义 URL 向应用中传递参数。让我们看看该如何完成这个工作。&lt;br&gt;NSURL 作为从一个应用调用另一个的基础，遵循 RFC 1808 (Relative Uniform Resource Locators) 标准。 因此你所熟悉的基于网页内容的 URL 格式在这里也适用。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在自定义了 URL scheme 的应用中，app delegate 必须实现以下方法： &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (BOOL)application:(UIApplication *)application &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  openURL:(NSURL *)url &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  sourceApplication:(NSString *)sourceApplication &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  annotation:(id)annotation&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;从一个应用传递参数到另一个的诀窍是通过 URL。例如，假设我们使用以下的 URL scheme，想传递一个名为 “token”的参数和一个标识注册状态的标志，我们可以像这样创建一个 URL：&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSString *customURL = @&lt;span class=&quot;string&quot;&gt;&quot;iOSDevTips://?token=123abct&amp;amp;registered=1&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在 web 开发中，字符串 ?token=123abct&amp;amp;registered=1 被称作查询询串(query string)。&lt;/p&gt;
&lt;p&gt;在被调用(设置了自定义 URL)的应用的 app delegate 中，获取参数的代码如下:&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sourceApplication:(NSString *)sourceApplication annotation:(id)annotation &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;Calling Application Bundle ID: %@&quot;&lt;/span&gt;, sourceApplication); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;URL scheme:%@&quot;&lt;/span&gt;, [url scheme]); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;URL query: %@&quot;&lt;/span&gt;, [url query]); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; YES; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;以上代码在应用被调用时的输出为：&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Calling Application Bundle ID: com&lt;span class=&quot;number&quot;&gt;.3&lt;/span&gt;Sixty.CallCustomURL &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;URL scheme:iOSDevTips &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;URL query: token=&lt;span class=&quot;number&quot;&gt;123&lt;/span&gt;abct&amp;amp;registered=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;注意 “Calling Application Bundle ID”，你可以用这个来确保只有你定义的应用可以与你的应用直接交互。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;让我们改变一下代码，来验证发起调用的应用的 Bundle ID 是否合法:&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sourceApplication:(NSString *)sourceApplication annotation:(id)annotation &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  // Check the calling application Bundle ID &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([sourceApplication isEqualToString:@&lt;span class=&quot;string&quot;&gt;&quot;com.3Sixty.CallCustomURL&quot;&lt;/span&gt;]) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;Calling Application Bundle ID: %@&quot;&lt;/span&gt;, sourceApplication); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;URL scheme:%@&quot;&lt;/span&gt;, [url scheme]); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;URL query: %@&quot;&lt;/span&gt;, [url query]); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; YES; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; NO; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;有一点要特别注意，你不能阻止其他应用通过自定义 URL scheme 调用你的应用，然而你可以跳过后续的操作并返回 NO，就像上面的代码那样。也就是说，如果你想阻止其它应用调用你的应用，创建一个与众不同的 URL scheme。尽管这不能保证你的应用不会被调用，但至少大大降低了这种可能性。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;自定义-URL-Scheme-示例工程&quot;&gt;&lt;a href=&quot;#自定义-URL-Scheme-示例工程&quot; class=&quot;headerlink&quot; title=&quot;自定义 URL Scheme 示例工程&quot;&gt;&lt;/a&gt;自定义 URL Scheme 示例工程&lt;/h4&gt;&lt;p&gt;我意识到按照本文的每一步做下来还是有一点复杂的。我做好了两个非常基础的 iOS 应用，一个自定义了 URL scheme，另一个则去调用它，并传递了一个比较短的参数列表(query string)。这些是体验自定义 URL 的很好的入门点。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;http://iosdevelopertips.com/#customURLScheme&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载源代码&lt;/a&gt;&lt;br&gt;欢迎加入iOS高手交流群：124216675&lt;br&gt;群里无广告，无猎头，无水军，纯技术，成员都是1年以上开发者，欢迎有经验iOS开发者加入。技术通过交流分享才能更快进步！ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;ds-share&quot; data-thread-key=&quot;2016/05/05/通过自定义-URL-Scheme-让其他引用启动本应用/&quot; data-title=&quot;通过自定义 URL Scheme 让其他引用启动本应用&quot; data-images=&quot;&quot; data-url=&quot;http://lishichao.github.io/2016/05/05/通过自定义-URL-Scheme-让其他引用启动本应用/&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=&quot;ds-share-inline&quot;&gt;&lt;br&gt;      &lt;ul class=&quot;ds-share-icons-16&quot;&gt;&lt;br&gt;      &lt;li style=&quot;color:#999999;font-size:13px;margin-top:2px&quot;&gt;&lt;i class=&quot;fa fa-share-square-o&quot; style=&quot;margin-right:5px;color:#666666&quot;&gt;分享到&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-wechat&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;wechat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-weibo&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;weibo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-qq&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qq&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ&lt;/a&gt; &lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qzone&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qzone&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ空间&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qqt&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qqt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;腾讯微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-facebook&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;facebook&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Facebook&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a class=&quot;ds-douban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;douban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;豆瓣网&lt;/a&gt; &lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-huaban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;huaban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;花瓣网&lt;/a&gt; &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;      &lt;div class=&quot;ds-share-icons-more&quot;&gt;&lt;br&gt;      &lt;/div&gt;&lt;br&gt; &lt;/div&gt;

&lt;p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;iPhone / iOS SDK 最酷的特性之一就是应用将其自身”绑定”到一个自定义 URL scheme 上，该 scheme 用于从浏览器或其他应用中启动本应用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/scheme_title.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="iOS技术归纳" scheme="http://lishichao.github.io/categories/iOS%E6%8A%80%E6%9C%AF%E5%BD%92%E7%BA%B3/"/>
    
    
      <category term="iOS技术" scheme="http://lishichao.github.io/tags/iOS%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>浅谈APP登录的逻辑设计</title>
    <link href="http://lishichao.github.io/2016/05/03/%E6%B5%85%E8%B0%88APP%E7%99%BB%E5%BD%95%E7%9A%84%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1/"/>
    <id>http://lishichao.github.io/2016/05/03/浅谈APP登录的逻辑设计/</id>
    <published>2016-05-03T06:48:42.000Z</published>
    <updated>2016-05-03T07:36:01.000Z</updated>
    
    <content type="html">&lt;h4 id=&quot;引言&quot;&gt;&lt;a href=&quot;#引言&quot; class=&quot;headerlink&quot; title=&quot;引言&quot;&gt;&lt;/a&gt;引言&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;大部分APP设计都无法回避的一个模块，就是登录。我们登录过太多的APP账号，它们有着各式各样的逻辑，然而这些差异背后的逻辑又是怎样的呢？那我们在进行APP登录的逻辑设计时，又需要基于哪些考虑来进行设计呢？&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E6%B5%85%E8%B0%88APP%E7%99%BB%E5%BD%95%E7%9A%84%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1/login_ui.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;是否必须登录后才能使用APP？&quot;&gt;&lt;a href=&quot;#是否必须登录后才能使用APP？&quot; class=&quot;headerlink&quot; title=&quot;是否必须登录后才能使用APP？&quot;&gt;&lt;/a&gt;是否必须登录后才能使用APP？&lt;/h4&gt;&lt;p&gt;有的APP一上来就要求用户完成注册、登录等一系列动作，然后才能使用APP里的各项功能；而又有的APP则不要求用户马上完成注册、登录也可以使用大部分功能，甚至可以使用APP的核心功能。笔者简单地讨论了一下两种情况的优缺点、适用范围，如下所示。&lt;/p&gt;
&lt;h5 id=&quot;登录后才可使用&quot;&gt;&lt;a href=&quot;#登录后才可使用&quot; class=&quot;headerlink&quot; title=&quot;登录后才可使用&quot;&gt;&lt;/a&gt;登录后才可使用&lt;/h5&gt;&lt;h6 id=&quot;优点：&quot;&gt;&lt;a href=&quot;#优点：&quot; class=&quot;headerlink&quot; title=&quot;优点：&quot;&gt;&lt;/a&gt;优点：&lt;/h6&gt;&lt;p&gt;①登录后可以记录用户在使用过程中产生的数据。&lt;br&gt;②一定程度上避免爬虫，提高了APP的保密性，保障用户隐私。&lt;/p&gt;
&lt;h6 id=&quot;缺点：对用户设立了门槛，可能造成用户放弃使用。&quot;&gt;&lt;a href=&quot;#缺点：对用户设立了门槛，可能造成用户放弃使用。&quot; class=&quot;headerlink&quot; title=&quot;缺点：对用户设立了门槛，可能造成用户放弃使用。&quot;&gt;&lt;/a&gt;缺点：对用户设立了门槛，可能造成用户放弃使用。&lt;/h6&gt;&lt;h6 id=&quot;适用范围：大多数社交类APP，财务类APP等。&quot;&gt;&lt;a href=&quot;#适用范围：大多数社交类APP，财务类APP等。&quot; class=&quot;headerlink&quot; title=&quot;适用范围：大多数社交类APP，财务类APP等。&quot;&gt;&lt;/a&gt;适用范围：大多数社交类APP，财务类APP等。&lt;/h6&gt;&lt;h6 id=&quot;例子：微信、QQ、探探，支付宝。&quot;&gt;&lt;a href=&quot;#例子：微信、QQ、探探，支付宝。&quot; class=&quot;headerlink&quot; title=&quot;例子：微信、QQ、探探，支付宝。&quot;&gt;&lt;/a&gt;例子：微信、QQ、探探，支付宝。&lt;/h6&gt;&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E6%B5%85%E8%B0%88APP%E7%99%BB%E5%BD%95%E7%9A%84%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1/tantan.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;不登录可先使用&quot;&gt;&lt;a href=&quot;#不登录可先使用&quot; class=&quot;headerlink&quot; title=&quot;不登录可先使用&quot;&gt;&lt;/a&gt;不登录可先使用&lt;/h5&gt;&lt;h6 id=&quot;优点：-1&quot;&gt;&lt;a href=&quot;#优点：-1&quot; class=&quot;headerlink&quot; title=&quot;优点：&quot;&gt;&lt;/a&gt;优点：&lt;/h6&gt;&lt;p&gt;①降低了用户的使用门槛，减少用户直接卸载应用的概率。&lt;br&gt;②方便了只使用非核心功能的轻度用户，提高了用户的留存率。&lt;/p&gt;
&lt;h6 id=&quot;缺点：无法记录用户在未注册状态下所产生的数据。&quot;&gt;&lt;a href=&quot;#缺点：无法记录用户在未注册状态下所产生的数据。&quot; class=&quot;headerlink&quot; title=&quot;缺点：无法记录用户在未注册状态下所产生的数据。&quot;&gt;&lt;/a&gt;缺点：无法记录用户在未注册状态下所产生的数据。&lt;/h6&gt;&lt;h6 id=&quot;适用范围：工具类APP，媒体类APP等。&quot;&gt;&lt;a href=&quot;#适用范围：工具类APP，媒体类APP等。&quot; class=&quot;headerlink&quot; title=&quot;适用范围：工具类APP，媒体类APP等。&quot;&gt;&lt;/a&gt;适用范围：工具类APP，媒体类APP等。&lt;/h6&gt;&lt;h6 id=&quot;例子：美图秀秀，知乎日报、微博。&quot;&gt;&lt;a href=&quot;#例子：美图秀秀，知乎日报、微博。&quot; class=&quot;headerlink&quot; title=&quot;例子：美图秀秀，知乎日报、微博。&quot;&gt;&lt;/a&gt;例子：美图秀秀，知乎日报、微博。&lt;/h6&gt;&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E6%B5%85%E8%B0%88APP%E7%99%BB%E5%BD%95%E7%9A%84%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1/example.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;到底要给用户准备哪些登录方式？&quot;&gt;&lt;a href=&quot;#到底要给用户准备哪些登录方式？&quot; class=&quot;headerlink&quot; title=&quot;到底要给用户准备哪些登录方式？&quot;&gt;&lt;/a&gt;到底要给用户准备哪些登录方式？&lt;/h4&gt;&lt;p&gt;从曾经辉煌一时的网站时代过渡到如今的全民APP时代，留存下来的登录方式和新诞生的登录方式种类繁多，笔者主要就以下几种做讨论。&lt;/p&gt;
&lt;h5 id=&quot;账号登录（邮箱、手机号码、自定义昵称）&quot;&gt;&lt;a href=&quot;#账号登录（邮箱、手机号码、自定义昵称）&quot; class=&quot;headerlink&quot; title=&quot;账号登录（邮箱、手机号码、自定义昵称）&quot;&gt;&lt;/a&gt;账号登录（邮箱、手机号码、自定义昵称）&lt;/h5&gt;&lt;p&gt;直接使用邮箱、手机号码等进行登录是最为传统的登录方式，&lt;br&gt;这类登录方式常常需要用户跳出APP进行验证操作。用户在APP里的操作尚可加以控制，一旦用户跳出APP，很容易就会被其他东西吸引了注意力而中断了操作。而且，还有其他不可控的因素，如进行邮箱验证时，邮件被屏蔽了、邮箱软件要升级升完忘了验证了，这些都有可能发生。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E6%B5%85%E8%B0%88APP%E7%99%BB%E5%BD%95%E7%9A%84%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1/login.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;第三方账号登录（简书、大众点评&quot;&gt;&lt;a href=&quot;#第三方账号登录（简书、大众点评&quot; class=&quot;headerlink&quot; title=&quot;第三方账号登录（简书、大众点评)&quot;&gt;&lt;/a&gt;第三方账号登录（简书、大众点评)&lt;/h5&gt;&lt;p&gt;APP采用这种登录方式，可以有效降低注册的门槛从而提高了用户的转化率，避免了用户去重新注册账号而产生的记忆负担。但是，最好不要让用户使用第三方账号登录之后，还要求用户再注册一个账号，这种让用户先吃糖后吃翔的做法还是少做。&lt;/p&gt;
&lt;p&gt;第三方账号登录常常还会带来一个很严重的问题！因为长时间没有进行过登录操作，用户忘了自己到底是用哪个第三方账号注册的账号。笔者的女朋友因为某记单词APP更新，登录QQ账号后发现自己的背单词进度全部消失了，又登录微博账号，还是什么都没。结果呢，删了，换一个。这当然不是个例，第三方账号登录的接口提供的越多，这个问题越是突显。&lt;/p&gt;
&lt;p&gt;还有一种情况，接入的第三方停止了服务，会用户的大量丢失。所以，第三方账号登录的接口选择很重要。为了预防这类情况的发生，做好第三方账号登录的用户向传统的账号登录的导流很重要。当然，我们也可以将不同接口的账号相关联，这可以有效地解决上述两个问题。&lt;/p&gt;
&lt;p&gt;设计APP登录方式时，我们一定要想清楚使用第三方账号登录的根本目的是什么，到底是为了降低登录门槛还是为了利用社交渠道进行分享？亦或是其他的目的。在达到目的的同时，也一定要避开这其中的坑。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E6%B5%85%E8%B0%88APP%E7%99%BB%E5%BD%95%E7%9A%84%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1/edit.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;游客登录（饿了么、不背单词）&quot;&gt;&lt;a href=&quot;#游客登录（饿了么、不背单词）&quot; class=&quot;headerlink&quot; title=&quot;游客登录（饿了么、不背单词）&quot;&gt;&lt;/a&gt;游客登录（饿了么、不背单词）&lt;/h5&gt;&lt;p&gt;游客登录，又叫随便看看，就是让用户在先体验后登录。在如今全民APP时代，一些不出名的APP若让用户一打开APP就要求注册、登录，势必会造成转化率底下。这时，网站时代盛行的游客登录就很好被运用在APP上。&lt;/p&gt;
&lt;p&gt;以饿了么（v5.8.5）为例，用户在打开饿了么时一般都是饿着的，如果此时你让他登录一下再看看想吃什么，就好比是到了饭店，服务员让你先注册个会员再点菜一样。饿了么让用户选择想要的美食，在结算填写收货电话时自动生成账号，这样做的好处有两个：①叫外卖一般都是需要留下联系电话，饿了么将登录环节与收货电话的验证相结合，转移了用户对登录的注意。②用户前期已经花了不少时间在挑选美食上了，这时只想赶紧吃到饭，除非因为不可抗力而中断了购买，要不然只可能一步步操作下去直至完成结算。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E6%B5%85%E8%B0%88APP%E7%99%BB%E5%BD%95%E7%9A%84%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1/login_2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;新型登录方式（手势登录、语音识别、指纹识别、人脸识别、虹膜识别）&quot;&gt;&lt;a href=&quot;#新型登录方式（手势登录、语音识别、指纹识别、人脸识别、虹膜识别）&quot; class=&quot;headerlink&quot; title=&quot;新型登录方式（手势登录、语音识别、指纹识别、人脸识别、虹膜识别）&quot;&gt;&lt;/a&gt;新型登录方式（手势登录、语音识别、指纹识别、人脸识别、虹膜识别）&lt;/h5&gt;&lt;p&gt;随着科技发展，越来越多的传感器被利用起来，如支付宝的手势登录、微信的声音锁、App Store的指纹购买等。这些新型登录方式的使用主要需要考虑两个方面：①技术是否够成熟，如利用声音、指纹、人脸等方式时，我们需要考虑技术的容错率是否达到理想状态，这很大程度上会影响用户的体验。②用户方面造成的无法登录，如果用户感冒声音改变，怎么解决这个问题？&lt;/p&gt;
&lt;div class=&quot;ds-share&quot; data-thread-key=&quot;2016/05/03/浅谈APP登录的逻辑设计/&quot; data-title=&quot;浅谈APP登录的逻辑设计&quot; data-images=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E6%B5%85%E8%B0%88APP%E7%99%BB%E5%BD%95%E7%9A%84%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1/login_ui.jpg&quot; data-url=&quot;http://lishichao.github.io/2016/05/03/浅谈APP登录的逻辑设计/&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=&quot;ds-share-inline&quot;&gt;&lt;br&gt;      &lt;ul class=&quot;ds-share-icons-16&quot;&gt;&lt;br&gt;      &lt;li style=&quot;color:#999999;font-size:13px;margin-top:2px&quot;&gt;&lt;i class=&quot;fa fa-share-square-o&quot; style=&quot;margin-right:5px;color:#666666&quot;&gt;分享到&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-wechat&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;wechat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-weibo&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;weibo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-qq&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qq&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ&lt;/a&gt; &lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qzone&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qzone&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ空间&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qqt&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qqt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;腾讯微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-facebook&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;facebook&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Facebook&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a class=&quot;ds-douban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;douban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;豆瓣网&lt;/a&gt; &lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-huaban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;huaban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;花瓣网&lt;/a&gt; &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;      &lt;div class=&quot;ds-share-icons-more&quot;&gt;&lt;br&gt;      &lt;/div&gt;&lt;br&gt; &lt;/div&gt;

&lt;p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;引言&quot;&gt;&lt;a href=&quot;#引言&quot; class=&quot;headerlink&quot; title=&quot;引言&quot;&gt;&lt;/a&gt;引言&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;大部分APP设计都无法回避的一个模块，就是登录。我们登录过太多的APP账号，它们有着各式各样的逻辑，然而这些差异背后的逻辑又是怎样的呢？那我们在进行APP登录的逻辑设计时，又需要基于哪些考虑来进行设计呢？&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E6%B5%85%E8%B0%88APP%E7%99%BB%E5%BD%95%E7%9A%84%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1/login_ui.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="design" scheme="http://lishichao.github.io/categories/design/"/>
    
    
      <category term="设计" scheme="http://lishichao.github.io/tags/%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>Mac平台下的抓包神器 —— Charles</title>
    <link href="http://lishichao.github.io/2016/05/03/Mac%E5%B9%B3%E5%8F%B0%E4%B8%8B%E7%9A%84%E6%8A%93%E5%8C%85%E7%A5%9E%E5%99%A8-%E2%80%94%E2%80%94-Charles/"/>
    <id>http://lishichao.github.io/2016/05/03/Mac平台下的抓包神器-——-Charles/</id>
    <published>2016-05-03T06:10:46.000Z</published>
    <updated>2016-05-03T06:40:36.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;在开发界，“抓包”这个词想必大家耳熟能详。通过抓包工具，能够获取设备在网络通讯过程中的交换数据包。在 Windows 平台上，笔者使用较多的是 Fiddler 工具，但是由于 Fiddle 使用 C# 语言开发的，不支持 Mac OS 系统，所以不能在 Mac 上使用。本文给大家推荐的是 Mac 平台下的一款抓包神器：Charles。它是使用 Java 语言开发的，跨平台，支持各个系统下的设备使用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/charles.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;官网地址：&lt;a href=&quot;http://www.charlesproxy.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.charlesproxy.com/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;安装及破解教程&quot;&gt;&lt;a href=&quot;#安装及破解教程&quot; class=&quot;headerlink&quot; title=&quot;安装及破解教程&quot;&gt;&lt;/a&gt;安装及破解教程&lt;/h4&gt;&lt;hr&gt;
&lt;p&gt;在官网中下载 Mac 版安装文件，安装过程很简单，这里不多赘述。我们找一个接口数据测试一下抓包效果，如图所示：&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/tools.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;官方版本只支持免费使用30天，但是无所不能的天朝程序员拥有破解的办法。通过替换安装包内容中的 charles.jar 文件可以完美破解（亦枫使用的 Charles 是3.11.2版本，前后版本的破解方法应该一致）。&lt;/p&gt;
&lt;p&gt;这里破解文件 charles.jar 可以在下面链接地址中获取：&lt;br&gt;&lt;a href=&quot;http://download.csdn.net/detail/wenbitianxiafeng/9448481&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://download.csdn.net/detail/wenbitianxiafeng/9448481&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;打开 Fidder，找到应用程序中的 Charles，右击显示包内容，替换&lt;br&gt;Contents/Java目录下的 Charles.jar 文件即可。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/finder.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;HTTP抓包&quot;&gt;&lt;a href=&quot;#HTTP抓包&quot; class=&quot;headerlink&quot; title=&quot;HTTP抓包&quot;&gt;&lt;/a&gt;HTTP抓包&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;在 Mac 中打开 Charles 应用；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;设置手机HTTP代理：确保移动设备与 Mac 笔记本在同一局域网内，添加代理ip地址（Mac内网地址）和端口号（8888），这里以 iPhone为例，如图所示：&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/phone_1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;在iOS设备上访问接口数据，在 Charles 弹出的确认窗中选择 Allow，允许即可。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;HTTPS抓包&quot;&gt;&lt;a href=&quot;#HTTPS抓包&quot; class=&quot;headerlink&quot; title=&quot;HTTPS抓包&quot;&gt;&lt;/a&gt;HTTPS抓包&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;安装 Charles 证书：使用 Safari 浏览器访问地址：&lt;br&gt;&lt;a href=&quot;http://www.charlesproxy.com/getssl&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.charlesproxy.com/getssl&lt;/a&gt;&lt;br&gt;，浏览器会下载证书并提示安装：&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/phone_2.jpg&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;li&gt;安装完成之后，在 Charles 中选择需要代理地址，右击，选中 Enable SSL Proxying，这样就可以抓取 HTTPS 数据包了。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/phone_3.png&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;ds-share&quot; data-thread-key=&quot;2016/05/03/Mac平台下的抓包神器-——-Charles/&quot; data-title=&quot;2016/05/03/Mac平台下的抓包神器-——-Charles&quot; data-images=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/charles.png&quot; data-url=&quot;http://lishichao.github.io/2016/05/03/Mac平台下的抓包神器-——-Charles/&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=&quot;ds-share-inline&quot;&gt;&lt;br&gt;      &lt;ul class=&quot;ds-share-icons-16&quot;&gt;&lt;br&gt;      &lt;li style=&quot;color:#999999;font-size:13px;margin-top:2px&quot;&gt;&lt;i class=&quot;fa fa-share-square-o&quot; style=&quot;margin-right:5px;color:#666666&quot;&gt;分享到&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-wechat&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;wechat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-weibo&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;weibo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-qq&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qq&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ&lt;/a&gt; &lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qzone&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qzone&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ空间&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qqt&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qqt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;腾讯微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-facebook&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;facebook&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Facebook&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a class=&quot;ds-douban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;douban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;豆瓣网&lt;/a&gt; &lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-huaban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;huaban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;花瓣网&lt;/a&gt; &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;      &lt;div class=&quot;ds-share-icons-more&quot;&gt;&lt;br&gt;      &lt;/div&gt;&lt;br&gt; &lt;/div&gt;

&lt;p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;在开发界，“抓包”这个词想必大家耳熟能详。通过抓包工具，能够获取设备在网络通讯过程中的交换数据包。在 Windows 平台上，笔者使用较多的是 Fiddler 工具，但是由于 Fiddle 使用 C# 语言开发的，不支持 Mac OS 系统，所以不能在 Mac 上使用。本文给大家推荐的是 Mac 平台下的一款抓包神器：Charles。它是使用 Java 语言开发的，跨平台，支持各个系统下的设备使用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%8A%80%E6%9C%AF/charles.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="技术" scheme="http://lishichao.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="技术知识" scheme="http://lishichao.github.io/tags/%E6%8A%80%E6%9C%AF%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>设计师为什么要学编程，开发者为什么要学设计?</title>
    <link href="http://lishichao.github.io/2016/04/29/%E8%AE%BE%E8%AE%A1%E5%B8%88%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%AD%A6%E7%BC%96%E7%A8%8B%EF%BC%8C%E5%BC%80%E5%8F%91%E8%80%85%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%AD%A6%E8%AE%BE%E8%AE%A1/"/>
    <id>http://lishichao.github.io/2016/04/29/设计师为什么要学编程，开发者为什么要学设计/</id>
    <published>2016-04-29T02:41:57.000Z</published>
    <updated>2016-04-29T03:04:56.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;摘要：设计师和开发者目前正处于互联网的两端，看着彼此做不同的工作。如果他们能互相学习对方的技术，那么会协作得更好。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%9D%82%E8%B0%88/1.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;开发者认为&quot;&gt;&lt;a href=&quot;#开发者认为&quot; class=&quot;headerlink&quot; title=&quot;开发者认为&quot;&gt;&lt;/a&gt;开发者认为&lt;/h4&gt;&lt;p&gt;设计师应该学会如何编写代码，这一点是真的：通过学习，设计师会更加了解项目是怎么构建的，反过来自然就知道该如何设计产品。&lt;/p&gt;
&lt;h4 id=&quot;作为一名设计师&quot;&gt;&lt;a href=&quot;#作为一名设计师&quot; class=&quot;headerlink&quot; title=&quot;作为一名设计师&quot;&gt;&lt;/a&gt;作为一名设计师&lt;/h4&gt;&lt;p&gt;了解介质是设计的重要组成部分。建筑师在设计一座建筑物时知道什么是可行什么是不可行的；平面设计师了解纸张质量、类型和重量；因此网页设计师应该了解HTML、CSS和Javascript是真的。当然，知道对方是如何工作与真的知道彼此工作是如何相互作用，这之间还是有区别的。如果你从来没有从零开始创建过一个基本的网站，这可能意味着你不完全知道项目是怎么来的。&lt;/p&gt;
&lt;h4 id=&quot;优秀的网页设计师&quot;&gt;&lt;a href=&quot;#优秀的网页设计师&quot; class=&quot;headerlink&quot; title=&quot;优秀的网页设计师&quot;&gt;&lt;/a&gt;优秀的网页设计师&lt;/h4&gt;&lt;p&gt;优秀的网页设计师一般都认识代码，它们之间有很强的相关性。然而，学习代码并不意味着能让你立马变成更好的设计师，因为这取决于你的手艺，优秀的设计师都想成为手艺人。他们真正关心的是他们能创造什么，所以他们会尽可能多地去学习、了解。如果你不知道具体的东西这是好事，事实上这会让你去接受并想去学习。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%9D%82%E8%B0%88/2.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;开发人员也不要因此自满，设计同时也是开发的重要组成部分。你做的产品是供人们使用的，你必须关心产品的外观。作为一名开发者，你的工作不仅仅是写好代码，还要为人们提供具有良好设计的产品及服务。你越是关心设计过程，最终做出来的产品也更好。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;任何一个好的Web应用程序都有一个共同点——好的设计。这不出自某个独立的设计团队或某个单独的开发团队之手，而是设计师和开发者互相协作产生的。双方要多了解对方工作的过程，这是做好产品的最简单方法。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;当然，并不是说设计师就应该学会编程、开发人员就应该学会设计。但是，学会欣赏对方的工作是件物超所值的事。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;ds-share&quot; data-thread-key=&quot;2016/04/29/设计师为什么要学编程，开发者为什么要学设计/&quot; data-title=&quot;设计师为什么要学编程，开发者为什么要学设计?&quot; data-images=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%9D%82%E8%B0%88/1.jpg&quot; data-content=&quot;设计师为什么要学编程，开发者为什么要学设计?&quot; data-url=&quot;http://lishichao.github.io/2016/04/29/设计师为什么要学编程，开发者为什么要学设计/&quot;&gt;&lt;br&gt;&lt;div class=&quot;ds-share-inline&quot;&gt;&lt;br&gt;      &lt;ul class=&quot;ds-share-icons-16&quot;&gt;&lt;br&gt;      &lt;li style=&quot;color:#999999;font-size:13px;margin-top:2px&quot;&gt;&lt;i class=&quot;fa fa-share-square-o&quot; style=&quot;margin-right:5px;color:#666666&quot;&gt;分享到&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-wechat&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;wechat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-weibo&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;weibo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-qq&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qq&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ&lt;/a&gt; &lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qzone&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qzone&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ空间&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qqt&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qqt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;腾讯微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-facebook&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;facebook&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Facebook&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a class=&quot;ds-douban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;douban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;豆瓣网&lt;/a&gt; &lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-huaban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;huaban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;花瓣网&lt;/a&gt; &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;      &lt;div class=&quot;ds-share-icons-more&quot;&gt;&lt;br&gt;      &lt;/div&gt;&lt;br&gt; &lt;/div&gt;

&lt;p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;摘要：设计师和开发者目前正处于互联网的两端，看着彼此做不同的工作。如果他们能互相学习对方的技术，那么会协作得更好。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E6%9D%82%E8%B0%88/1.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="随笔" scheme="http://lishichao.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="随笔" scheme="http://lishichao.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>发现优秀 APP 的一些途径</title>
    <link href="http://lishichao.github.io/2016/04/27/%E5%8F%91%E7%8E%B0%E4%BC%98%E7%A7%80-APP-%E7%9A%84%E4%B8%80%E4%BA%9B%E9%80%94%E5%BE%84/"/>
    <id>http://lishichao.github.io/2016/04/27/发现优秀-APP-的一些途径/</id>
    <published>2016-04-27T07:29:22.000Z</published>
    <updated>2016-04-27T09:01:30.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;再好的应用，也需要有人去发现他，我只是有那么一些途径，让我更快的找到它们而已。有网页，有微博，也有微信公众号，希望我的这些推荐可以让你更好的发现那些优秀、精美的应用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/App/app_1.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;我的个人博客&quot;&gt;&lt;a href=&quot;#我的个人博客&quot; class=&quot;headerlink&quot; title=&quot;我的个人博客&quot;&gt;&lt;/a&gt;我的个人博客&lt;/h4&gt;&lt;p&gt;我在这里会不定期更新一些关于技术、艺术、思考的一些内容，同样也会推荐一些有逼格的App或者站点介绍给大家。&lt;a href=&quot;http://lishichao.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;个人博客&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;AppZapp&quot;&gt;&lt;a href=&quot;#AppZapp&quot; class=&quot;headerlink&quot; title=&quot;AppZapp&quot;&gt;&lt;/a&gt;AppZapp&lt;/h4&gt;&lt;p&gt;AppZapp 是一款 iOS/Android 端限免应用推荐平台，旨在洞悉 App Store / Google Play的 限免/降价/新出应用，并第一时间推送消息至用户设备上。并且你还可以根据属性筛选应用，查看获赞数最高的应用，自定义筛选属性查看。AppZapp 有PC 网页版，和移动端，可以让你更好的找到应用。&lt;a href=&quot;http://www.appzapp.net/en/app/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.appzapp.net/en/app/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;AppShopper&quot;&gt;&lt;a href=&quot;#AppShopper&quot; class=&quot;headerlink&quot; title=&quot;AppShopper&quot;&gt;&lt;/a&gt;AppShopper&lt;/h4&gt;&lt;p&gt;AppShopper是一家iOS应用追踪网站，可提供反应App Store动态的滚动清单，功能包括搜寻新应用，查看应用升级以及价格变动。提供 iOS 客户端&lt;a href=&quot;http://appshopper.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://appshopper.com/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;最美应用&quot;&gt;&lt;a href=&quot;#最美应用&quot; class=&quot;headerlink&quot; title=&quot;最美应用&quot;&gt;&lt;/a&gt;最美应用&lt;/h4&gt;&lt;p&gt;国内比较不错的获取优秀 app 的地方，致力于发掘功能之美、视觉之美、交互之美、用户体验之美。（提供 ios 客户端）&lt;a href=&quot;http://zuimeia.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://zuimeia.com/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;少数派&quot;&gt;&lt;a href=&quot;#少数派&quot; class=&quot;headerlink&quot; title=&quot;少数派&quot;&gt;&lt;/a&gt;少数派&lt;/h4&gt;&lt;p&gt;主要推荐精品手机应用，同时提供智能手机使用教程，应用评测，应用资讯等。是我本人经常泡的地方。&lt;a href=&quot;http://sspai.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://sspai.com/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;Pinapps（微信公众号）&quot;&gt;&lt;a href=&quot;#Pinapps（微信公众号）&quot; class=&quot;headerlink&quot; title=&quot;Pinapps（微信公众号）&quot;&gt;&lt;/a&gt;Pinapps（微信公众号）&lt;/h4&gt;&lt;p&gt;Alibaba国际站无线设计团队负责人 @5Key 折腾的公众号，在这里你可以看到一些非常棒的应用，一些非常酷、非常小众的应用。&lt;a href=&quot;http://pinapps.in/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://pinapps.in/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;ApplePlus（微信公众号、微博）&quot;&gt;&lt;a href=&quot;#ApplePlus（微信公众号、微博）&quot; class=&quot;headerlink&quot; title=&quot;ApplePlus（微信公众号、微博）&quot;&gt;&lt;/a&gt;ApplePlus（微信公众号、微博）&lt;/h4&gt;&lt;p&gt;一名 95 后极端应用狂，不定期推荐一些他认为优秀、实用的 APP，意图颠覆你的手机屏幕。微信号：Apple-Plus微博：&lt;a href=&quot;http://weibo.com/p/1005053344700084&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://weibo.com/p/1005053344700084&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;AppSo新酷应用（微信公众号、微博）&quot;&gt;&lt;a href=&quot;#AppSo新酷应用（微信公众号、微博）&quot; class=&quot;headerlink&quot; title=&quot;AppSo新酷应用（微信公众号、微博）&quot;&gt;&lt;/a&gt;AppSo新酷应用（微信公众号、微博）&lt;/h4&gt;&lt;p&gt;爱范儿旗下的应用推荐媒体 AppSolution，微信公众号和微博都有。微信号：AppSolution微博：&lt;a href=&quot;http://weibo.com/u/3329934602&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://weibo.com/u/3329934602&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;爱屁屁&quot;&gt;&lt;a href=&quot;#爱屁屁&quot; class=&quot;headerlink&quot; title=&quot;爱屁屁&quot;&gt;&lt;/a&gt;爱屁屁&lt;/h4&gt;&lt;p&gt;专注于移动 APPS（应用/游戏）个性化评测，木有客户端，只有网页。&lt;a href=&quot;http://www.appnz.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.appnz.com/&lt;/a&gt;&lt;br&gt;享应（iOS 客户端）&lt;br&gt;发现最新鲜、有趣甚至搞怪的优质应用，活跃的机友社区，方便交流。&lt;a href=&quot;http://www.isharein.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.isharein.com/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;APP-每日推送&quot;&gt;&lt;a href=&quot;#APP-每日推送&quot; class=&quot;headerlink&quot; title=&quot;APP 每日推送&quot;&gt;&lt;/a&gt;APP 每日推送&lt;/h4&gt;&lt;p&gt;App每日推送是国内 iPhone/iPad 游戏应用推荐平台，每日推送适合国人的限时免费应用，同时也会推荐免费应用中的精品给大家。以上为官方介绍…&lt;a href=&quot;http://appdp.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://appdp.com/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;小众软件&quot;&gt;&lt;a href=&quot;#小众软件&quot; class=&quot;headerlink&quot; title=&quot;小众软件&quot;&gt;&lt;/a&gt;小众软件&lt;/h4&gt;&lt;p&gt;分享免费、小巧、实用、有趣、绿色的软件，可以说是国内非常有名的一个 Blog，确实可以发现一部分优秀的 App。&lt;a href=&quot;http://www.appinn.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.appinn.com/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;数字尾巴&quot;&gt;&lt;a href=&quot;#数字尾巴&quot; class=&quot;headerlink&quot; title=&quot;数字尾巴&quot;&gt;&lt;/a&gt;数字尾巴&lt;/h4&gt;&lt;p&gt;数字尾巴旗下有「应用控」这么一个平台，也会分享一些不错的应用。另外，如果你的手机上安装了数字尾巴的 APP，其实应用栏目下面你也可以找到一些不错的APP。&lt;a href=&quot;http://app.dgtle.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://app.dgtle.com/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;好奇心日报&quot;&gt;&lt;a href=&quot;#好奇心日报&quot; class=&quot;headerlink&quot; title=&quot;好奇心日报&quot;&gt;&lt;/a&gt;好奇心日报&lt;/h4&gt;&lt;p&gt;其实，很多朋友都不知道「好奇心日报」下有个栏目叫「今日应用」，也会推荐一些非常棒的 APP，并且好奇心日报本身就是一款非常不错的应用。&lt;a href=&quot;http://qdaily.com/display/articles/tag/params/tag_id/1288/page/1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://qdaily.com/display/articles/tag/params/tag_id/1288/page/1&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;Product-Hunt&quot;&gt;&lt;a href=&quot;#Product-Hunt&quot; class=&quot;headerlink&quot; title=&quot;Product Hunt&quot;&gt;&lt;/a&gt;Product Hunt&lt;/h4&gt;&lt;p&gt;Product Hunt 是一个发现新酷产品的平台，每日最佳新产品的排行榜。在这里，你也可以发现一些国外的新酷应用，有 iOS 客户端&lt;a href=&quot;http://www.producthunt.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.producthunt.com/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;Next&quot;&gt;&lt;a href=&quot;#Next&quot; class=&quot;headerlink&quot; title=&quot;Next&quot;&gt;&lt;/a&gt;Next&lt;/h4&gt;&lt;p&gt;类似 Product Hunt ，Next 是 36Kr 旗下产品，在这里你可以找到国内外的新产品，发现那些不一样的应用，还可以和国内的创业团队、独立开发者直面交流。&lt;a href=&quot;http://next.36kr.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://next.36kr.com&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;MindStore&quot;&gt;&lt;a href=&quot;#MindStore&quot; class=&quot;headerlink&quot; title=&quot;MindStore&quot;&gt;&lt;/a&gt;MindStore&lt;/h4&gt;&lt;p&gt;在 Mindstore，你不仅可以发现国内外新酷的产品、应用，你还可以和一些非常棒的产品负责人 and 创始人讨论一些话题。Mindstore 定期会在线上邀请一些产品的负责人来和大家聊聊。&lt;a href=&quot;http://mindStore.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://mindStore.io&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;简书&quot;&gt;&lt;a href=&quot;#简书&quot; class=&quot;headerlink&quot; title=&quot;简书&quot;&gt;&lt;/a&gt;简书&lt;/h4&gt;&lt;p&gt;简书可以说是卧虎藏龙，里面有不少朋友会推荐优秀 app，包括笔者也经常会到简书去写一些我认为不错的应用分享给大家。&lt;a href=&quot;http://jianshu.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://jianshu.com&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;其他&quot;&gt;&lt;a href=&quot;#其他&quot; class=&quot;headerlink&quot; title=&quot;其他&quot;&gt;&lt;/a&gt;其他&lt;/h4&gt;&lt;p&gt;其实微博上还有很多朋友也在分享一下不错的东西，例如@app狗 @app菌 等也会分享一些 APP 合集，但是如果你知道了上面列举了15个获取优秀应用的途径，我想已经足够你找到那些隐藏在众多应用中的「优秀 APP 了」&lt;/p&gt;
&lt;div class=&quot;ds-share&quot; data-thread-key=&quot;2016/04/27/发现优秀-APP-的一些途径/&quot; data-title=&quot;发现优秀 APP 的一些途径&quot; data-images=&quot;http://7xstl7.com1.z0.glb.clouddn.com/App/app_1.png&quot; data-content=&quot;发现优秀 APP 的一些途径&quot; data-url=&quot;http://lishichao.github.io/2016/04/27/发现优秀-APP-的一些途径/&quot;&gt;&lt;br&gt;&lt;div class=&quot;ds-share-inline&quot;&gt;&lt;br&gt;      &lt;ul class=&quot;ds-share-icons-16&quot;&gt;&lt;br&gt;      &lt;li style=&quot;color:#999999;font-size:13px;margin-top:2px&quot;&gt;&lt;i class=&quot;fa fa-share-square-o&quot; style=&quot;margin-right:5px;color:#666666&quot;&gt;分享到&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-wechat&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;wechat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-weibo&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;weibo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-qq&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qq&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ&lt;/a&gt; &lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qzone&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qzone&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ空间&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qqt&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qqt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;腾讯微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-facebook&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;facebook&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Facebook&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a class=&quot;ds-douban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;douban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;豆瓣网&lt;/a&gt; &lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-huaban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;huaban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;花瓣网&lt;/a&gt; &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;      &lt;div class=&quot;ds-share-icons-more&quot;&gt;&lt;br&gt;      &lt;/div&gt;&lt;br&gt; &lt;/div&gt;

&lt;p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;再好的应用，也需要有人去发现他，我只是有那么一些途径，让我更快的找到它们而已。有网页，有微博，也有微信公众号，希望我的这些推荐可以让你更好的发现那些优秀、精美的应用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/App/app_1.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="逼格App" scheme="http://lishichao.github.io/categories/%E9%80%BC%E6%A0%BCApp/"/>
    
    
      <category term="App" scheme="http://lishichao.github.io/tags/App/"/>
    
  </entry>
  
  <entry>
    <title>React Native-目前最火的前端技术</title>
    <link href="http://lishichao.github.io/2016/04/26/React-Native-%E7%9B%AE%E5%89%8D%E6%9C%80%E7%81%AB%E7%9A%84%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    <id>http://lishichao.github.io/2016/04/26/React-Native-目前最火的前端技术/</id>
    <published>2016-04-26T09:32:49.000Z</published>
    <updated>2016-04-27T09:02:12.000Z</updated>
    
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;文章摘要&lt;/strong&gt;： 一名程序员只用这一门技术，就可以同时写出Android-App，iOS-App，以及后台应用程序。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/ReactNative.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h4 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h4&gt;&lt;p&gt;React Native使你能够在Javascript和&lt;a href=&quot;http://facebook.github.io/react/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;React&lt;/a&gt;的基础上获得完全一致的开发体验，构建世界一流的原生APP。&lt;/p&gt;
&lt;p&gt;React Native着力于提高多平台开发的开发效率 —— 仅需学习一次，编写任何平台(Learn once, write anywhere)。&lt;/p&gt;
&lt;p&gt;Facebook已经在多项产品中使用了React Native，并且将持续地投入建设React Native。&lt;/p&gt;
&lt;h4 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h4&gt;&lt;h5 id=&quot;做为一名产品经理，你是否遇到过这样的窘境，&quot;&gt;&lt;a href=&quot;#做为一名产品经理，你是否遇到过这样的窘境，&quot; class=&quot;headerlink&quot; title=&quot;做为一名产品经理，你是否遇到过这样的窘境，&quot;&gt;&lt;/a&gt;做为一名产品经理，你是否遇到过这样的窘境，&lt;/h5&gt;&lt;blockquote&gt;
&lt;p&gt;“帮我把字体调成 16号呗，颜色变成 #FFFF00FF，老大说这里最好改一下”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;作为一名 app 的开发只能无奈但心里窃喜的告诉你，“只能等下个版本了，必须要重新发布才能改”，如果你问为什么不能改了就生效啊，那说明你对技术的理解要么真的很差，要么你就是知道这项 React-Native 新技术所爆发出来的力量。&lt;/p&gt;
&lt;h5 id=&quot;React-Native-是-Facebook-推出的一个用-JavaScript-语言就能同时编写-ios，android，以及后台的一项技术。&quot;&gt;&lt;a href=&quot;#React-Native-是-Facebook-推出的一个用-JavaScript-语言就能同时编写-ios，android，以及后台的一项技术。&quot; class=&quot;headerlink&quot; title=&quot;React Native 是 Facebook 推出的一个用 JavaScript 语言就能同时编写 ios，android，以及后台的一项技术。&quot;&gt;&lt;/a&gt;React Native 是 Facebook 推出的一个用 JavaScript 语言就能同时编写 ios，android，以及后台的一项技术。&lt;/h5&gt;&lt;blockquote&gt;
&lt;p&gt;今年9月 发布了 android 版本，又在程序员里面掀起了一波小高潮，不断有喜欢尝鲜的程序员投入到这个领域。&lt;/p&gt;
&lt;p&gt;用大白话说，就是从此一名程序员自己就可以创业了，他只用这一门技术，就可以同时写出 androidapp，ios app，以及后台应用程序，并且，请注意这里，它可以做到实时热更新（就像网页一样，改了一个字体，随时可上线），app 也能做到随时都能更新了，第一段讲的那个需求可以分分钟秒杀解决，不用新发版本，只需在服务器改动一下代码即可，是不是很牛逼，是不是很牛逼，是不是很牛逼，真的很牛逼。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&quot;到这里，你只需要理解一句话，就是-Facebook-提供了一套解决方案，它利用-JavaScript-作为开发语言，可以同时来编写前端，移动终端，后台应用程序。&quot;&gt;&lt;a href=&quot;#到这里，你只需要理解一句话，就是-Facebook-提供了一套解决方案，它利用-JavaScript-作为开发语言，可以同时来编写前端，移动终端，后台应用程序。&quot; class=&quot;headerlink&quot; title=&quot;到这里，你只需要理解一句话，就是 Facebook 提供了一套解决方案，它利用 JavaScript 作为开发语言，可以同时来编写前端，移动终端，后台应用程序。&quot;&gt;&lt;/a&gt;到这里，你只需要理解一句话，就是 Facebook 提供了一套解决方案，它利用 JavaScript 作为开发语言，可以同时来编写前端，移动终端，后台应用程序。&lt;/h5&gt;&lt;h4 id=&quot;为什么-React-Native-受到了如此大的关注，以及它的优越性到底在什么地方。&quot;&gt;&lt;a href=&quot;#为什么-React-Native-受到了如此大的关注，以及它的优越性到底在什么地方。&quot; class=&quot;headerlink&quot; title=&quot;为什么 React Native 受到了如此大的关注，以及它的优越性到底在什么地方。&quot;&gt;&lt;/a&gt;为什么 React Native 受到了如此大的关注，以及它的优越性到底在什么地方。&lt;/h4&gt;&lt;h5 id=&quot;目前，一个成熟的互联网产品基本囊括了：移动终端和网页两种主要形态。&quot;&gt;&lt;a href=&quot;#目前，一个成熟的互联网产品基本囊括了：移动终端和网页两种主要形态。&quot; class=&quot;headerlink&quot; title=&quot;目前，一个成熟的互联网产品基本囊括了：移动终端和网页两种主要形态。&quot;&gt;&lt;/a&gt;目前，一个成熟的互联网产品基本囊括了：移动终端和网页两种主要形态。&lt;/h5&gt;&lt;blockquote&gt;
&lt;p&gt;在移动终端 app 和网页的开发历程中，涉及了很多技术角色：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;前端开发（俗名叫做网站的）前端开发需要精通 html，css，javascript 这些基本的 web 语言知识。&lt;/li&gt;
&lt;li&gt;移动终端开发（android 和 iOS 开发）&lt;ul&gt;
&lt;li&gt;Android 开发用 Java（这个词读 “扎瓦”，别读成了 “加瓦”，读成这样很 Low B 的）语言编写。&lt;/li&gt;
&lt;li&gt;iOS 开发用 Objective-C（现在新出了Swift，个人觉得语法更容易理解）编写。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;后台开发（他们的程序大多没有界面，主要是为网页和 app 提供数据和保障服务的稳定性），每个角色各司其职，分别需要不同的技能。&lt;ul&gt;
&lt;li&gt;后台开发，有的公司用 Java，有的公司用 C++，用啥的都有，能满足性能需要就可以了。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;已经看崩溃了吧，对于一个非计算机专业的人，根本不会理解为什么要存在这么多语言，为什么这里要用 C 语言，那里要用 C++，有的地方要用 Python，而又有很大的一个人群对你高呼：“PHP 才是世界最好的语言”。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&quot;其实他们每种语言都有不同的使用场景，有的语言效率高，有的语言语法更简洁漂亮，有的是专为后台而生，有的是特定场景下的唯一选择。&quot;&gt;&lt;a href=&quot;#其实他们每种语言都有不同的使用场景，有的语言效率高，有的语言语法更简洁漂亮，有的是专为后台而生，有的是特定场景下的唯一选择。&quot; class=&quot;headerlink&quot; title=&quot;其实他们每种语言都有不同的使用场景，有的语言效率高，有的语言语法更简洁漂亮，有的是专为后台而生，有的是特定场景下的唯一选择。&quot;&gt;&lt;/a&gt;其实他们每种语言都有不同的使用场景，有的语言效率高，有的语言语法更简洁漂亮，有的是专为后台而生，有的是特定场景下的唯一选择。&lt;/h5&gt;&lt;h5 id=&quot;随便类比，任何一个领域，都有很多不同的工具来满足不同的场景，是需求决定了当前状态。&quot;&gt;&lt;a href=&quot;#随便类比，任何一个领域，都有很多不同的工具来满足不同的场景，是需求决定了当前状态。&quot; class=&quot;headerlink&quot; title=&quot;随便类比，任何一个领域，都有很多不同的工具来满足不同的场景，是需求决定了当前状态。&quot;&gt;&lt;/a&gt;随便类比，任何一个领域，都有很多不同的工具来满足不同的场景，是需求决定了当前状态。&lt;/h5&gt;&lt;blockquote&gt;
&lt;p&gt;现在好了，React 整套解决方案完成了江湖统一，FaceBook 也号称这们技术是 “Learn Once，Write AnyWhere”，学习成本只有一次，却完成了所有开发角色的统一。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;这意味着：app-将来都是可像网页一样热更新，随时发布。&quot;&gt;&lt;a href=&quot;#这意味着：app-将来都是可像网页一样热更新，随时发布。&quot; class=&quot;headerlink&quot; title=&quot;这意味着：app 将来都是可像网页一样热更新，随时发布。&quot;&gt;&lt;/a&gt;这意味着：app 将来都是可像网页一样热更新，随时发布。&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;对于一名开发人员，将再也没有前端，终端，后台的区分，他所关注的就是做一整套应用程序，人力将得到最大幅度的整合与释放。&lt;/li&gt;
&lt;li&gt;代码复用将会是主旋律，因为是一种语言，大家重复造轮子的成本会越来越节省。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;目前，React Native 也还是有一些缺点的，比如他的 sdk 组件包 size 还比较大，crash 还比较多，在 ios 上支持的内容已经相当不错，android 还属于初级阶段，但是目前最新的版本也才是 0.16，相信再过一年， 一定会牛逼闪闪。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;ds-share&quot; data-thread-key=&quot;2016/04/26/React-Native-目前最火的前端技术/&quot; data-title=&quot;React Native-目前最火的前端技术&quot; data-images=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/ReactNative.jpg&quot; data-content=&quot;React Native-目前最火的前端技术&quot; data-url=&quot;http://lishichao.github.io/2016/04/26/React-Native-目前最火的前端技术/&quot;&gt;&lt;br&gt;&lt;div class=&quot;ds-share-inline&quot;&gt;&lt;br&gt;      &lt;ul class=&quot;ds-share-icons-16&quot;&gt;&lt;br&gt;      &lt;li style=&quot;color:#999999;font-size:13px;margin-top:2px&quot;&gt;&lt;i class=&quot;fa fa-share-square-o&quot; style=&quot;margin-right:5px;color:#666666&quot;&gt;分享到&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-wechat&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;wechat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-weibo&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;weibo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-qq&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qq&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ&lt;/a&gt; &lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qzone&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qzone&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ空间&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qqt&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qqt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;腾讯微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-facebook&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;facebook&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Facebook&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a class=&quot;ds-douban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;douban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;豆瓣网&lt;/a&gt; &lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-huaban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;huaban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;花瓣网&lt;/a&gt; &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;      &lt;div class=&quot;ds-share-icons-more&quot;&gt;&lt;br&gt;      &lt;/div&gt;&lt;br&gt; &lt;/div&gt;

&lt;p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;文章摘要&lt;/strong&gt;： 一名程序员只用这一门技术，就可以同时写出Android-App，iOS-App，以及后台应用程序。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/ReactNative.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="前端技术" scheme="http://lishichao.github.io/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="React Native技术" scheme="http://lishichao.github.io/tags/React-Native%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>主流APP基本骨架的快速搭建</title>
    <link href="http://lishichao.github.io/2016/04/23/%E4%B8%BB%E6%B5%81APP%E5%9F%BA%E6%9C%AC%E9%AA%A8%E6%9E%B6%E7%9A%84%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA/"/>
    <id>http://lishichao.github.io/2016/04/23/主流APP基本骨架的快速搭建/</id>
    <published>2016-04-23T09:01:21.000Z</published>
    <updated>2016-04-27T09:01:22.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;开头语&quot;&gt;&lt;a href=&quot;#开头语&quot; class=&quot;headerlink&quot; title=&quot;开头语&quot;&gt;&lt;/a&gt;开头语&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;在许多我们日常使用的应用中，我们会发现，他们的界面骨架（或者说样子）基本相同&lt;ul&gt;
&lt;li&gt;像&lt;strong&gt;&lt;em&gt;QQ&lt;/em&gt;&lt;/strong&gt;、&lt;strong&gt;&lt;em&gt;简书&lt;/em&gt;&lt;/strong&gt;、&lt;strong&gt;&lt;em&gt;微博&lt;/em&gt;&lt;/strong&gt; 等。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/iOS%E6%8A%80%E6%9C%AF/app_1.png&quot; alt=&quot;&quot;&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;他们有一个相似的基本界面骨架是这样子的：&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/iOS%E6%8A%80%E6%9C%AF/app_2.png&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;li&gt;首先，界面有一些什么组成&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/iOS%E6%8A%80%E6%9C%AF/app_3.png&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;TabBar上切换不同的导航控制器（界面），NavigationBar上点击BarButtonItem跳转（push）到下一个界面&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;那么这样的基本界面骨架，我们如何去搭建呢？&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;iPhone项目开始时候要处理注意的地方&quot;&gt;&lt;a href=&quot;#iPhone项目开始时候要处理注意的地方&quot; class=&quot;headerlink&quot; title=&quot;iPhone项目开始时候要处理注意的地方&quot;&gt;&lt;/a&gt;iPhone项目开始时候要处理注意的地方&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/iOS%E6%8A%80%E6%9C%AF/app_4.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;APP的名称设置&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/iOS%E6%8A%80%E6%9C%AF/app_5.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;搭建流程思考&quot;&gt;&lt;a href=&quot;#搭建流程思考&quot; class=&quot;headerlink&quot; title=&quot;搭建流程思考&quot;&gt;&lt;/a&gt;搭建流程思考&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;自定义TabBarController&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;添加四个子控制器&lt;/li&gt;
&lt;li&gt;设置好四个子控制器的相关属性（TabBarItem内部图片和文字的设置）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;自定义NavigationController（重写push：方法，封装返回键）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;这里的返回键的封装（设置）是很有用也很常见的，也很方便，掌握了，今后直接在项目中拿出来用就可以了&lt;/li&gt;
&lt;li&gt;但这里是先搭建基本骨架。有关总结在我的另外一篇文章《项目开发中封装一个返回键–很实用》《项目开发中封装一个BarButtonItem类别-很实用》&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;我们这里界面的搭建可以选择storyboard搭建，但这种情况一般是界面比较少的情况下选用。&lt;/p&gt;
&lt;p&gt;当我们的界面很多，到时候要各种进行界面间跳转的时候，我们仍然使用storyboard搭建的话，要是几十个控制器之间的跳转，眼睛都看花你的。&lt;br&gt;所以界面多得时候，我们选择代码创建&lt;br&gt;这里我将选择代码创建，让大家知道一个大概的思路&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;在AppDelegate.m文件中重新创建，而不会使用Main.storyboard.&lt;br&gt;先创建根控制器&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // &lt;span class=&quot;number&quot;&gt;1.&lt;/span&gt;创建窗口&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    self.window = [[UIWindow alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    self.window.frame = [UIScreen mainScreen].bounds;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // &lt;span class=&quot;number&quot;&gt;2.&lt;/span&gt;设置窗口的根控制器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    self.window.rootViewController = [[CYTabbarController alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // &lt;span class=&quot;number&quot;&gt;3.&lt;/span&gt;显示窗口&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self.window makeKeyAndVisible];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; YES;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;新建一个(自定义)TabBarController&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#import &quot;CYTabbarController.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@interface CYTabbarController ()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@implementation CYTabbarController&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)viewDidLoad &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [super viewDidLoad];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // UIControlStateNormal情况下的文字属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSMutableDictionary *normalAtrrs = [NSMutableDictionary dictionary];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 文字颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    normalAtrrs[NSForegroundColorAttributeName] = [UIColor grayColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // UIControlStateSelected情况的文字属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSMutableDictionary *selectedAtrrs = [NSMutableDictionary dictionary];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 文字颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    selectedAtrrs[NSForegroundColorAttributeName] = [UIColor darkGrayColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UITabBarItem *item = [UITabBarItem appearance];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [item setTitleTextAttributes:normalAtrrs forState:UIControlStateNormal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [item setTitleTextAttributes:selectedAtrrs forState:UIControlStateSelected];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 添加四个子控制器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIViewController *vc1 = [[UIViewController alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc1.tabBarItem.title = @&lt;span class=&quot;string&quot;&gt;&quot;精华&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc1.tabBarItem.image = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_essence_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc1.tabBarItem.selectedImage = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_essence_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc1.view.backgroundColor = [UIColor greenColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self addChildViewController:vc1];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIViewController *vc2 = [[UIViewController alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc2.tabBarItem.title = @&lt;span class=&quot;string&quot;&gt;&quot;新帖&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc2.tabBarItem.image = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_new_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc2.tabBarItem.selectedImage = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_new_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc2.view.backgroundColor = [UIColor grayColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self addChildViewController:vc2];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIViewController *vc3 = [[UIViewController alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc3.tabBarItem.title = @&lt;span class=&quot;string&quot;&gt;&quot;关注&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc3.tabBarItem.image = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_friendTrends_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc3.tabBarItem.selectedImage = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_friendTrends_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc3.view.backgroundColor = [UIColor blueColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self addChildViewController:vc3];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIViewController *vc4 = [[UIViewController alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc4.tabBarItem.title = @&lt;span class=&quot;string&quot;&gt;&quot;我&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc4.tabBarItem.image = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_me_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc4.tabBarItem.selectedImage = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_me_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc4.view.backgroundColor = [UIColor yellowColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self addChildViewController:vc4];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;这样就创建成功了，你说快不快！&lt;/li&gt;
&lt;li&gt;当然不可能代码这么多，下面我会进行抽取&lt;/li&gt;
&lt;li&gt;运行式样：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/iOS%E6%8A%80%E6%9C%AF/app_6.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;代码的抽取&quot;&gt;&lt;a href=&quot;#代码的抽取&quot; class=&quot;headerlink&quot; title=&quot;代码的抽取&quot;&gt;&lt;/a&gt;代码的抽取&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#import &quot;CYTabbarController.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@interface CYTabbarController ()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@implementation CYTabbarController&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)viewDidLoad &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [super viewDidLoad];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 开始抽取代码了：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpItem];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpChildVc];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *  设置Item的属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)setUpItem&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // UIControlStateNormal情况下的文字属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSMutableDictionary *normalAtrrs = [NSMutableDictionary dictionary];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 文字颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    normalAtrrs[NSForegroundColorAttributeName] = [UIColor grayColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // UIControlStateSelected情况的文字属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSMutableDictionary *selectedAtrrs = [NSMutableDictionary dictionary];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 文字颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    selectedAtrrs[NSForegroundColorAttributeName] = [UIColor darkGrayColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 统一给所有的UITabBatItem设置文字属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 只有后面带有UI_APPEARANCE_SELECTOR方法的才可以通过appearance来设置&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UITabBarItem *item = [UITabBarItem appearance];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [item setTitleTextAttributes:normalAtrrs forState:UIControlStateNormal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [item setTitleTextAttributes:selectedAtrrs forState:UIControlStateSelected];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *  设置setUpChildVc的属性，添加所有的子控件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)setUpChildVc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpChildVc:[UIViewController &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;]  &lt;span class=&quot;title&quot;&gt;title&lt;/span&gt;:&lt;/span&gt;@&lt;span class=&quot;string&quot;&gt;&quot;精华&quot;&lt;/span&gt; image:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_essence_icon&quot;&lt;/span&gt; selectedImage:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_essence_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpChildVc:[UIViewController &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;]  &lt;span class=&quot;title&quot;&gt;title&lt;/span&gt;:&lt;/span&gt;@&lt;span class=&quot;string&quot;&gt;&quot;新帖&quot;&lt;/span&gt; image:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_new_icon&quot;&lt;/span&gt; selectedImage:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_new_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpChildVc:[UIViewController &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;]  &lt;span class=&quot;title&quot;&gt;title&lt;/span&gt;:&lt;/span&gt;@&lt;span class=&quot;string&quot;&gt;&quot;关注&quot;&lt;/span&gt; image:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_friendTrends_icon&quot;&lt;/span&gt; selectedImage:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_friendTrends_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpChildVc:[UIViewController &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;]  &lt;span class=&quot;title&quot;&gt;title&lt;/span&gt;:&lt;/span&gt;@&lt;span class=&quot;string&quot;&gt;&quot;我&quot;&lt;/span&gt; image:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_me_icon&quot;&lt;/span&gt; selectedImage:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_me_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    // 添加四个子控制器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    UIViewController *vc1 = [[UIViewController alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc1.tabBarItem.title = @&lt;span class=&quot;string&quot;&gt;&quot;精华&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc1.tabBarItem.image = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_essence_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc1.tabBarItem.selectedImage = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_essence_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc1.view.backgroundColor = [UIColor greenColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    [self addChildViewController:vc1];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    UIViewController *vc2 = [[UIViewController alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc2.tabBarItem.title = @&lt;span class=&quot;string&quot;&gt;&quot;新帖&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc2.tabBarItem.image = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_new_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc2.tabBarItem.selectedImage = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_new_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc2.view.backgroundColor = [UIColor grayColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    [self addChildViewController:vc2];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    UIViewController *vc3 = [[UIViewController alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc3.tabBarItem.title = @&lt;span class=&quot;string&quot;&gt;&quot;关注&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc3.tabBarItem.image = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_friendTrends_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc3.tabBarItem.selectedImage = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_friendTrends_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc3.view.backgroundColor = [UIColor blueColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    [self addChildViewController:vc3];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    UIViewController *vc4 = [[UIViewController alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc4.tabBarItem.title = @&lt;span class=&quot;string&quot;&gt;&quot;我&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc4.tabBarItem.image = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_me_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc4.tabBarItem.selectedImage = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_me_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc4.view.backgroundColor = [UIColor yellowColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    [self addChildViewController:vc4];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)setUpChildVc:(Class)vcClass title:(NSString *)title image:(NSString *)image selectedImage:(NSString *)selectedImage&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIViewController *vc = [[UIViewController alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc.tabBarItem.title = title;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc.tabBarItem.image = [UIImage imageNamed:image];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc.tabBarItem.selectedImage = [UIImage imageNamed:selectedImage];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 创建一个随机色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vc.view.backgroundColor = [UIColor colorWithRed:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; green:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; blue:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; alpha:&lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self addChildViewController:vc];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;在微博和简书APP中在TabBar中间有一个加号按钮，用于发布或者别的功能&lt;/li&gt;
&lt;li&gt;那么这么重要的一个按钮，我们如何实现呢？&lt;ul&gt;
&lt;li&gt;首先，上面系统的TabBar是满足不了我们了，所以我们只能自定义一个TabBar&lt;/li&gt;
&lt;li&gt;自定义TabBar后，就要开始在上面进行子控件的布局，修改他们的位置了&lt;/li&gt;
&lt;li&gt;重写initWithFrame:方法以及LayoutSubViews:方法，布局子控件&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;在自定义的CYTabBarController中&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//  CYTabbarController.m&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//  李世超&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//  Copyright (c) &lt;span class=&quot;number&quot;&gt;2015&lt;/span&gt;年 congying. All rights reserved.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#import &quot;CYTabbarController.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#import &quot;CYEssenceViewController.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#import &quot;CYFocusViewController.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#import &quot;CYPublishViewController.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#import &quot;CYNewPostViewController.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#import &quot;CYMeViewController.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#import &quot;CYTabBar.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#import &quot;CYNavigationController.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@interface CYTabbarController ()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@implementation CYTabbarController&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)viewDidLoad &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [super viewDidLoad];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 开始抽取代码了：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 抽取Item属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpItem];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 布局子控件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpChildVc];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 处理tabBar&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpTabBar];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *  处理tabBar&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)setUpTabBar&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setValue:[[CYTabBar alloc] init] forKey:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *  设置Item的属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)setUpItem&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // UIControlStateNormal情况下的文字属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSMutableDictionary *normalAtrrs = [NSMutableDictionary dictionary];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 文字颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    normalAtrrs[NSForegroundColorAttributeName] = [UIColor grayColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // UIControlStateSelected情况的文字属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSMutableDictionary *selectedAtrrs = [NSMutableDictionary dictionary];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 文字颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    selectedAtrrs[NSForegroundColorAttributeName] = [UIColor darkGrayColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 统一给所有的UITabBatItem设置文字属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 只有后面带有UI_APPEARANCE_SELECTOR方法的才可以通过appearance来设置&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UITabBarItem *item = [UITabBarItem appearance];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [item setTitleTextAttributes:normalAtrrs forState:UIControlStateNormal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [item setTitleTextAttributes:selectedAtrrs forState:UIControlStateSelected];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *  设置setUpChildVc的属性，添加所有的子控件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)setUpChildVc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpChildVc:[[CYEssenceViewController alloc] init] title:@&lt;span class=&quot;string&quot;&gt;&quot;精华&quot;&lt;/span&gt; image:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_essence_icon&quot;&lt;/span&gt; selectedImage:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_essence_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpChildVc:[[CYNewPostViewController alloc] init] title:@&lt;span class=&quot;string&quot;&gt;&quot;新帖&quot;&lt;/span&gt; image:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_new_icon&quot;&lt;/span&gt; selectedImage:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_new_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpChildVc:[[CYFocusViewController alloc] init] title:@&lt;span class=&quot;string&quot;&gt;&quot;关注&quot;&lt;/span&gt; image:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_friendTrends_icon&quot;&lt;/span&gt; selectedImage:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_friendTrends_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpChildVc:[[CYMeViewController alloc] init] title:@&lt;span class=&quot;string&quot;&gt;&quot;我&quot;&lt;/span&gt; image:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_me_icon&quot;&lt;/span&gt; selectedImage:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_me_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)setUpChildVc:(UIViewController *)vc title:(NSString *)title image:(NSString *)image selectedImage:(NSString *)selectedImage&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 包装一个导航控制器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CYNavigationController *nav = [[CYNavigationController alloc] initWithRootViewController:vc];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self addChildViewController:nav];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 设置子控制器的tabBarItem&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    nav.tabBarItem.title = title;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    nav.tabBarItem.image = [UIImage imageNamed:image];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    nav.tabBarItem.selectedImage = [UIImage imageNamed:selectedImage];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    nav.view.backgroundColor = [UIColor colorWithRed:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; green:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; blue:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; alpha:&lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;自定义一个TabBar&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#import &quot;CYTabBar.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@interface CYTabBar()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/** 增加发布按钮*/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@property (nonatomic, weak) UIButton *publishButton;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@implementation CYTabBar&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (instancetype) initWithFrame:(CGRect)frame&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (self = [super initWithFrame:frame]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // 设置背景图片&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        self.backgroundImage = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabbar-light&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        UIButton *publishButton = [UIButton buttonWithType:UIButtonTypeCustom];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [publishButton setBackgroundImage:[UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_publish_icon&quot;&lt;/span&gt;] forState:UIControlStateNormal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [publishButton setBackgroundImage:[UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_publish_click_icon&quot;&lt;/span&gt;] forState:UIControlStateHighlighted];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [publishButton sizeToFit];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // 监听按钮点击（发布按钮）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [publishButton addTarget:self action:@selector(publishClick) forControlEvents:UIControlEventTouchUpInside];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        //        publishButton.center = CGPointMake(self.frame.size.width * &lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;, self.frame.size.height * &lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [self addSubview:publishButton];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        self.publishButton = publishButton;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; self;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)publishClick&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;%s&quot;&lt;/span&gt;,__func__);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *  重写layoutSubviews方法，布局子控件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)layoutSubviews&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [super layoutSubviews];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // TabBar的尺寸&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CGFloat width = self.frame.size.width;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CGFloat height = self.frame.size.height;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 设置发布按钮的位置&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    self.publishButton.center = CGPointMake(width * &lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;, height * &lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 设置索引&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    int index = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 按钮的尺寸&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CGFloat tabBarButtonW = self.frame.size.width / &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CGFloat tabBarButtonH = self.frame.size.height;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CGFloat tabBarButtonY = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 设置四个TabBarButton的frame&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (UIView *tabBarButton &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; self.subviews) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (![NSStringFromClass(tabBarButton.&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;) isEqualToString:@&lt;span class=&quot;string&quot;&gt;&quot;UITabBarButton&quot;&lt;/span&gt;]) &lt;span class=&quot;keyword&quot;&gt;continue&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // 计算按钮X的值&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        CGFloat tabBarButtonX = index * tabBarButtonW;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (index &amp;gt;= &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            tabBarButtonX += tabBarButtonW; // 给后面&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;个button增加一个宽度的X值&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        tabBarButton.frame = CGRectMake(tabBarButtonX, tabBarButtonY, tabBarButtonW, tabBarButtonH);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        index++;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/iOS%E6%8A%80%E6%9C%AF/app_7.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;一些细节方面的注意处理以及一些补充：&quot;&gt;&lt;a href=&quot;#一些细节方面的注意处理以及一些补充：&quot; class=&quot;headerlink&quot; title=&quot;一些细节方面的注意处理以及一些补充：&quot;&gt;&lt;/a&gt;一些细节方面的注意处理以及一些补充：&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;TabBarItem内部图片和文字的设置&lt;/li&gt;
&lt;li&gt;为什么要设置呢：&lt;ul&gt;
&lt;li&gt;因为不设置的话，苹果就会自动将它渲染成蓝色，而不是我们（客户）想要的样式&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;图标高亮和正常状态是如何设置它本身的颜色&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Xcode中设置，一劳永逸&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/iOS%E6%8A%80%E6%9C%AF/app_8.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;代码实现方式（了解一下，知道的办法多一点毕竟不是坏事）：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//    UIImage *tempImage = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_essence_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   //    UIImage *selectedImage = [tempImage imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   //    vc1.tabBarItem.selectedImage = selectedImage;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   vc1.tabBarItem.selectedImage = [[UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_essence_click_icon&quot;&lt;/span&gt; ]imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   // 这里的设置可以不让系统给图片渲染成蓝色&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;如何设置TabBarItem的文字颜色呢？只能代码了&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// UIControlStateNormal情况下的文字属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSMutableDictionary *normalAtrrs = [NSMutableDictionary dictionary];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 文字颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    normalAtrrs[NSForegroundColorAttributeName] = [UIColor grayColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // UIControlStateSelected情况的文字属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSMutableDictionary *selectedAtrrs = [NSMutableDictionary dictionary];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 文字颜色&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    selectedAtrrs[NSForegroundColorAttributeName] = [UIColor darkGrayColor];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UITabBarItem *item = [UITabBarItem appearance];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [item setTitleTextAttributes:normalAtrrs forState:UIControlStateNormal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [item setTitleTextAttributes:selectedAtrrs forState:UIControlStateSelected];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;换肤&quot;&gt;&lt;a href=&quot;#换肤&quot; class=&quot;headerlink&quot; title=&quot;换肤&quot;&gt;&lt;/a&gt;换肤&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;通过设置appearance来进行换肤，一设置，全部控件都跟着变&lt;/li&gt;
&lt;li&gt;但是有条件：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// 统一给所有的UITabBatItem设置文字属性&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// 只有后面带有UI_APPEARANCE_SELECTOR方法的才可以通过appearance来设置&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UITabBarItem *item = [UITabBarItem appearance];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[item setTitleTextAttributes:normalAtrrs forState:UIControlStateNormal];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[item setTitleTextAttributes:selectedAtrrs forState:UIControlStateSelected];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;控制器之间的关系&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/iOS%E6%8A%80%E6%9C%AF/app_9.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;由上图的关系可以知道下面注释的代码与没注释的代码效果是一样的&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; // 包装一个导航控制器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UINavigationController *nav = [[UINavigationController alloc] initWithRootViewController:vc];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self addChildViewController:nav];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    nav.tabBarItem.title = title;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    nav.tabBarItem.image = [UIImage imageNamed:image];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    nav.tabBarItem.selectedImage = [UIImage imageNamed:selectedImage];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    nav.view.backgroundColor = [UIColor colorWithRed:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; green:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; blue:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; alpha:&lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc.tabBarItem.title = title;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc.tabBarItem.image = [UIImage imageNamed:image];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc.tabBarItem.selectedImage = [UIImage imageNamed:selectedImage];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    vc.view.backgroundColor = [UIColor &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;colorWithRed:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; green:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; blue:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; alpha:&lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;代码抽取里的代码严谨点替换成下面的代码&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *  设置setUpChildVc的属性，添加所有的子控件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (void)setupChildVc:(UIViewController *)vc title:(NSString *)title image:(NSString *)image selectedImage:(NSString *)selectedImage&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpChildVc:[[CYEssenceViewController alloc] init]  title:@&lt;span class=&quot;string&quot;&gt;&quot;精华&quot;&lt;/span&gt; image:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_essence_icon&quot;&lt;/span&gt; selectedImage:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_essence_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpChildVc:[[CYNewPostViewController alloc] init]  title:@&lt;span class=&quot;string&quot;&gt;&quot;新帖&quot;&lt;/span&gt; image:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_new_icon&quot;&lt;/span&gt; selectedImage:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_new_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpChildVc:[[CYFocusViewController  alloc] init]  title:@&lt;span class=&quot;string&quot;&gt;&quot;关注&quot;&lt;/span&gt; image:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_friendTrends_icon&quot;&lt;/span&gt; selectedImage:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_friendTrends_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self setUpChildVc:[CYMeViewController alloc]  title:@&lt;span class=&quot;string&quot;&gt;&quot;我&quot;&lt;/span&gt; image:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_me_icon&quot;&lt;/span&gt; selectedImage:@&lt;span class=&quot;string&quot;&gt;&quot;tabBar_me_click_icon&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 包装一个导航控制器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UINavigationController *nav = [[UINavigationController alloc] initWithRootViewController:vc];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self addChildViewController:nav];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    nav.tabBarItem.title = title;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    nav.tabBarItem.image = [UIImage imageNamed:image];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    nav.tabBarItem.selectedImage = [UIImage imageNamed:selectedImage];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    nav.view.backgroundColor = [UIColor colorWithRed:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; green:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; blue:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; alpha:&lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;下面两种方法都可以传图片&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;/ 这样传图片，它传的图片尺寸和原始尺寸一样&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    self.navigationItem.titleView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;MainTitle&quot;&lt;/span&gt;]];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 这两种方法所实现的效果是一样的，但是很明显用上面的&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    UIImageView *titleView = [[UIImageView alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    titleView.image = [UIImage imageNamed:@&lt;span class=&quot;string&quot;&gt;&quot;MainTitle&quot;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    [titleView sizeToFit];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//    self.navigationItem.titleView = titleView;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;打印（获取）window的三种方法：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;%@ %@ %@&quot;&lt;/span&gt;, self.view.superview, self.view.window, [UIApplication sharedApplication].keyWindow);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;创建一个随机色&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;nav.view.backgroundColor = [UIColor colorWithRed:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; green:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; blue:arc4random_uniform(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;)/&lt;span class=&quot;number&quot;&gt;100.0&lt;/span&gt; alpha:&lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;小小注意点：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;self.title =@&lt;span class=&quot;string&quot;&gt;&quot;我的关注&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   相当于下面两句&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   self.navigationItem.title = @&lt;span class=&quot;string&quot;&gt;&quot;我的关注&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   self.tabBarItem.title = @&lt;span class=&quot;string&quot;&gt;&quot;我的关注&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;一般在公司项目开始开发时候，你在公司会给你下面相关文档&quot;&gt;&lt;a href=&quot;#一般在公司项目开始开发时候，你在公司会给你下面相关文档&quot; class=&quot;headerlink&quot; title=&quot;一般在公司项目开始开发时候，你在公司会给你下面相关文档&quot;&gt;&lt;/a&gt;一般在公司项目开始开发时候，你在公司会给你下面相关文档&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;API\接口文档&lt;/em&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;作用&lt;ul&gt;
&lt;li&gt;跟服务器进行交互的文档&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;格式&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HTML网页&lt;/li&gt;
&lt;li&gt;word文档&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;开发进度文档&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;任务\进度&lt;/li&gt;
&lt;li&gt;需求文档&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;有哪些模块&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;有哪些功能&lt;/li&gt;
&lt;li&gt;大致的界面&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;原型图&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;详细的界面描述&lt;/li&gt;
&lt;li&gt;界面的跳转关系&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;界面之间跳转后的返回键如何巧妙的设置呢？&lt;/li&gt;
&lt;li&gt;后续文章将会介绍–《项目开发中封装一个返回键–很实用》《项目开发中封装一个BarButtonItem类别-很实用》&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;需要Demo的请留言。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;ds-share&quot; data-thread-key=&quot;2016/04/23/主流APP基本骨架的快速搭建/&quot; data-title=&quot;主流APP基本骨架的快速搭建&quot; data-images=&quot;http://7xstl7.com1.z0.glb.clouddn.com/iOS%E6%8A%80%E6%9C%AF/app_1.png&quot; data-content=&quot;主流APP基本骨架的快速搭建&quot; data-url=&quot;http://lishichao.github.io/2016/04/23/主流APP基本骨架的快速搭建/&quot;&gt;&lt;br&gt;&lt;div class=&quot;ds-share-inline&quot;&gt;&lt;br&gt;      &lt;ul class=&quot;ds-share-icons-16&quot;&gt;&lt;br&gt;      &lt;li style=&quot;color:#999999;font-size:13px;margin-top:2px&quot;&gt;&lt;i class=&quot;fa fa-share-square-o&quot; style=&quot;margin-right:5px;color:#666666&quot;&gt;分享到&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-wechat&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;wechat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-weibo&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;weibo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-qq&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qq&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ&lt;/a&gt; &lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qzone&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qzone&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ空间&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qqt&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qqt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;腾讯微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-facebook&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;facebook&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Facebook&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a class=&quot;ds-douban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;douban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;豆瓣网&lt;/a&gt; &lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-huaban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;huaban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;花瓣网&lt;/a&gt; &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;      &lt;div class=&quot;ds-share-icons-more&quot;&gt;&lt;br&gt;      &lt;/div&gt;&lt;br&gt; &lt;/div&gt;

&lt;p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;开头语&quot;&gt;&lt;a href=&quot;#开头语&quot; class=&quot;headerlink&quot; title=&quot;开头语&quot;&gt;&lt;/a&gt;开头语&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;在许多我们日常使用的应用中，我们会发现，他们的界面骨架（或者说样子）基本相同&lt;ul&gt;
&lt;li&gt;像&lt;strong&gt;&lt;em&gt;QQ&lt;/em&gt;&lt;/strong&gt;、&lt;strong&gt;&lt;em&gt;简书&lt;/em&gt;&lt;/strong&gt;、&lt;strong&gt;&lt;em&gt;微博&lt;/em&gt;&lt;/strong&gt; 等。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/iOS%E6%8A%80%E6%9C%AF/app_1.png&quot; alt=&quot;&quot;&gt;
    
    </summary>
    
      <category term="iOS技术归纳" scheme="http://lishichao.github.io/categories/iOS%E6%8A%80%E6%9C%AF%E5%BD%92%E7%BA%B3/"/>
    
    
      <category term="iOS技术" scheme="http://lishichao.github.io/tags/iOS%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>【设计谈】字体与排版</title>
    <link href="http://lishichao.github.io/2016/04/22/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/"/>
    <id>http://lishichao.github.io/2016/04/22/【设计谈】字体与排版/</id>
    <published>2016-04-22T09:55:47.000Z</published>
    <updated>2016-04-27T09:02:23.000Z</updated>
    
    <content type="html">&lt;p&gt;无论你是做网页还是App设计，文字内容总是能占到整个版面将近80%的区域。因此理解字体与排版对UI设计师来说非常关键。你需要始终把内容的可读性放在首位去考虑和权衡你对字体与排版的选择。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_1.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;字体的基础术语&quot;&gt;&lt;a href=&quot;#字体的基础术语&quot; class=&quot;headerlink&quot; title=&quot;字体的基础术语&quot;&gt;&lt;/a&gt;字体的基础术语&lt;/h3&gt;&lt;p&gt;了解字体设计的基础术语非常重要，这些术语在介绍字体设计的相关文章中经常出现。比如 x-height（X字高）指的是从字母的基准线开始往上到最矮字母的顶端的距离，当X字高的比例相对大一些的话就能增加易读性。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;衬线字与非衬线字&quot;&gt;&lt;a href=&quot;#衬线字与非衬线字&quot; class=&quot;headerlink&quot; title=&quot;衬线字与非衬线字&quot;&gt;&lt;/a&gt;衬线字与非衬线字&lt;/h3&gt;&lt;p&gt;在西方国家的字母体系，分成两大字族：serif（衬线字体）及sans serif（无衬线字体）。衬线字（下图中的宋体、Times New Roman）是指在字的笔画开始及结束的地方有额外的装饰，而且笔画的粗细会因直横的不同而有所不同。 相反的，无衬线字（下图中的思源黑体、Helvetica）就没有这些额外装饰，而且笔画粗细大致上是差不多。&lt;/p&gt;
&lt;p&gt;衬线字的字体较易辨识，也因此具有较高的易读性。 反之无衬线字则较醒目。通常来说，需要强调、突出的小篇幅文字一般使用无衬线字,而在长篇正文中，为了阅读的便利，一般使用衬线字。在实际应用中，因为中文的宋体和西文的衬线体，中文的黑体和西文的无衬线体，在风格和应用场景上相似，所以通常搭配使用。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_4.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;字体排版建议&quot;&gt;&lt;a href=&quot;#字体排版建议&quot; class=&quot;headerlink&quot; title=&quot;字体排版建议&quot;&gt;&lt;/a&gt;字体排版建议&lt;/h3&gt;&lt;p&gt;在你对字体排版技巧了如指掌之前，首先需要保证你的内容能够简单且清晰地展现出来。优秀的文字与排版使我们更愿意去阅读，所以最好先关注你所设定的字体和排版是否便于阅读，然后再考虑为了美观改进行修饰。我们可以参考这篇英文指南    ：&lt;a href=&quot;http://practicaltypography.com/typography-in-ten-minutes.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;优秀字体排版的5条原则&lt;/a&gt;并且将文中的这些原则应用到我们的App和Web设计中去。&lt;/p&gt;
&lt;h3 id=&quot;iOS中的系统字体&quot;&gt;&lt;a href=&quot;#iOS中的系统字体&quot; class=&quot;headerlink&quot; title=&quot;iOS中的系统字体&quot;&gt;&lt;/a&gt;iOS中的系统字体&lt;/h3&gt;&lt;p&gt;随着iOS 9系统以及EI Capitan系统的发布，现在的系统字体变为了Apple自己设计的 [San Francisco]。iOS仍然在其他地方使用&lt;strong&gt;SF UI&lt;/strong&gt;,而在Apple Watch中使用&lt;strong&gt;SF Compact&lt;/strong&gt;&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_5.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;San Francisco 有两类尺寸: &lt;strong&gt;&lt;em&gt;文本模式（SF UI Text）&lt;/em&gt;&lt;/strong&gt; 和 &lt;strong&gt;&lt;em&gt;展示模式（SF UI Display）&lt;/em&gt;&lt;/strong&gt;。 文本模式适用于小于20 points的尺寸，展示模式则适用于大于20 points的尺寸。当你在你的app中使用San Francisco时，iOS会自动在适当的时机在文本模式和展示模式中切换。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;注：如果你使用诸如Sketch或Photoshop的工具来进行设计，那么当你设置的字体大于等于20 points的时候，你需要切换到展示模式。iOS会根据字体大小为San Francisco自动调整字间距。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_6.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;选择Body字体&quot;&gt;&lt;a href=&quot;#选择Body字体&quot; class=&quot;headerlink&quot; title=&quot;选择Body字体&quot;&gt;&lt;/a&gt;选择Body字体&lt;/h3&gt;&lt;p&gt;为body text挑选合适的字体是最重要的。务必选择那些可读性强的，看上去干净易读的字体。我推荐的常用英文字体有：San Francisco, Helvetica Neue, Avenir Next, Open Sans, Museo Sans。中文字体则有，华文细黑，思源黑体&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_7.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;字体的大小&quot;&gt;&lt;a href=&quot;#字体的大小&quot; class=&quot;headerlink&quot; title=&quot;字体的大小&quot;&gt;&lt;/a&gt;字体的大小&lt;/h3&gt;&lt;p&gt;在iPhone,iPad,iWatch 中设置的Body字体不应该小于&lt;strong&gt;&lt;em&gt;11pt&lt;/em&gt;&lt;/strong&gt;，这样才能被正常阅读。我们推荐的Body文本大小应该在&lt;strong&gt;&lt;em&gt;15-18pt&lt;/em&gt;&lt;/strong&gt;。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_8.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_9.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;字体的字重&quot;&gt;&lt;a href=&quot;#字体的字重&quot; class=&quot;headerlink&quot; title=&quot;字体的字重&quot;&gt;&lt;/a&gt;字体的字重&lt;/h3&gt;&lt;p&gt;当我们设置更大的字体来获得更好的易读性的同时，我们也应相应地减小字体的字重（粗细），考虑Light，Thin或者Ultra Thin。过重的字体会太过醒目，从而影响其他内容的显示效果。&lt;/p&gt;
&lt;p&gt;当字体大小为&lt;strong&gt;&lt;em&gt;12-18pt&lt;/em&gt;&lt;/strong&gt;时，使用Regular，&lt;strong&gt;&lt;em&gt;18-24pt&lt;/em&gt;&lt;/strong&gt;时，使用Light，&lt;strong&gt;&lt;em&gt;24-32pt&lt;/em&gt;&lt;/strong&gt;,使用Thin，当字体大小超过&lt;strong&gt;&lt;em&gt;32pt&lt;/em&gt;&lt;/strong&gt;时，建议使用Ultralight。以上都是建议值，你应该根据不同字体的显示效果进行设定使文字内容看上去清晰和精致，从而保持良好阅读体验。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_10.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;现代字体都有多种字重设置：Regular，Light，Thin和Ultralight&lt;/p&gt;
&lt;h3 id=&quot;合理设置行高，让文字也能够呼吸&quot;&gt;&lt;a href=&quot;#合理设置行高，让文字也能够呼吸&quot; class=&quot;headerlink&quot; title=&quot;合理设置行高，让文字也能够呼吸&quot;&gt;&lt;/a&gt;合理设置行高，让文字也能够呼吸&lt;/h3&gt;&lt;p&gt;行间距（leading）应该设置为字体大小的120%到145%之间。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_11.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;在右边的例子中，行高设为了与字体高度相同的100%，而在左边的例子中，我将它设为&lt;strong&gt;&lt;em&gt;145%&lt;/em&gt;&lt;/strong&gt;。它们的显示效果有着非常明显差异。当字数进一步增加时，你更会发现阅读行距设置过小的大段文字会非常累。合理设置行高，也是一种留白的技巧，能够增强用户的阅读体验。&lt;/p&gt;
&lt;h3 id=&quot;每行45-90个字&quot;&gt;&lt;a href=&quot;#每行45-90个字&quot; class=&quot;headerlink&quot; title=&quot;每行45-90个字&quot;&gt;&lt;/a&gt;每行45-90个字&lt;/h3&gt;&lt;p&gt;行长指单行文字的长度，如果一行中包含的字数太多，文本内容将会很难阅读。英文字符一般在45-90字比较适宜，而中文35-60字为宜。合理的行长使用户在行间跳转时非常感到轻快和愉悦，反之则会使阅读成为一种负担。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_12.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;字体样式&quot;&gt;&lt;a href=&quot;#字体样式&quot; class=&quot;headerlink&quot; title=&quot;字体样式&quot;&gt;&lt;/a&gt;字体样式&lt;/h3&gt;&lt;p&gt;字体样式对易读性和快速浏览非常重要，一般的原则是，被修饰的文本不应超过整个文本的10%，如果所有文本都都通过修饰被强调的话，那反而就不是强调了。当然，一次不应该同时使超过三种的强调样式。换句话说，不要在同一段文本中同时使用，颜色，字体改变，大小，下划线，斜体，粗体。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_13.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;寻找合适的字体&quot;&gt;&lt;a href=&quot;#寻找合适的字体&quot; class=&quot;headerlink&quot; title=&quot;寻找合适的字体&quot;&gt;&lt;/a&gt;寻找合适的字体&lt;/h3&gt;&lt;p&gt;大部分商用字体都很贵，但也有很多优秀的字体是免费的。你只需要从中挑选你最喜欢的字体，并应用到你的设计中就可以了。下面就介绍几个非常优秀的字体网站。&lt;/p&gt;
&lt;h4 id=&quot;Google-Fonts-（需翻墙）&quot;&gt;&lt;a href=&quot;#Google-Fonts-（需翻墙）&quot; class=&quot;headerlink&quot; title=&quot;Google Fonts （需翻墙）&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.google.com/fonts&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Google Fonts （需翻墙）&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;在Google Fonts，你可以免费下载你喜欢的字体，并且按照你的需要在项目中使用。由于在iOS中使用其他字体的唯一方法就是将字体文件导入到系统中，因此Google Fonts的下载功能非常有用。Google Fonts包含超过1400种不同的字体，其中包含最著名的：Open Sans和Roboto字体，他们是Android系统使用的默认字体。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_14.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;你可以使用Mac上的 &lt;strong&gt;&lt;em&gt;&lt;a href=&quot;@&quot;https://skyfonts.com&quot;&quot;&gt;SkyFonts&lt;/a&gt;&lt;/em&gt;&lt;/strong&gt;来自动同步字体到你的桌面。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_15.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;如果你需要在你的网站中直接使用Google Web Fonts，你可以选择360的代理来访问Google的免费字体库。下面是使用说明，非常简单。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_16.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;Typekit&quot;&gt;&lt;a href=&quot;#Typekit&quot; class=&quot;headerlink&quot; title=&quot;Typekit&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://typekit.com/fonts&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Typekit&lt;a&gt;&lt;/a&gt;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;有非常多优秀的字体。这对于那些刚刚起步的人来说，非常有用。这其中就有我非常喜欢的&lt;strong&gt;&lt;em&gt;Proxima Nova&lt;/em&gt;&lt;/strong&gt;和&lt;strong&gt;&lt;em&gt;Museo&lt;/em&gt;&lt;/strong&gt;字体。它还将&lt;strong&gt;&lt;em&gt;思源黑体&lt;/em&gt;&lt;/strong&gt;等中文字体也收入其中了。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_17.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;有字库&quot;&gt;&lt;a href=&quot;#有字库&quot; class=&quot;headerlink&quot; title=&quot;有字库&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://www.youziku.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;有字库&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;对于在需要大量使用中文字体的用户来说，有字库是一个不错的选择。它是国内目前比较优秀的Web Font服务平台，包含了大量优秀的中文字体。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_18.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;其他资源&quot;&gt;&lt;a href=&quot;#其他资源&quot; class=&quot;headerlink&quot; title=&quot;其他资源&quot;&gt;&lt;/a&gt;其他资源&lt;/h3&gt;&lt;p&gt;字体和排版是一门值得深入探索的艺术。每个字体的形成和发展过程都有着深远的历史可以追溯。当你设计的作品也能被称作艺术品时，那就是对你最大的肯定。&lt;/p&gt;
&lt;h3 id=&quot;文字排版指南&quot;&gt;&lt;a href=&quot;#文字排版指南&quot; class=&quot;headerlink&quot; title=&quot;文字排版指南&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://typogui.de&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;文字排版指南&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;这是一篇英文文字排版指南，但提到的内容和大部分意见对中文字体的选择和排版同样具有意义。非常值得阅读。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_19.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;字体设计基础：字由心生&quot;&gt;&lt;a href=&quot;#字体设计基础：字由心生&quot; class=&quot;headerlink&quot; title=&quot;字体设计基础：字由心生&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://www.uisdc.com/font-design-basis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;字体设计基础：字由心生&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;汉字怎么样发展而来的？我们现在用到 字体是通过什么字体演变过来的？当今字体又是沿用了先人的那些字体基础？… … 通过这篇文章，能够对汉字的这些基础知识有所了解。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_20.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;哪种字体最适合快速阅读&quot;&gt;&lt;a href=&quot;#哪种字体最适合快速阅读&quot; class=&quot;headerlink&quot; title=&quot;哪种字体最适合快速阅读&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://www.uisdc.com/fonts-for-quick-reading&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;哪种字体最适合快速阅读&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;这篇文章详细介绍了中英文字体的搭配建议，很有参考价值。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_21.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Type-is-Beautiful&quot;&gt;&lt;a href=&quot;#Type-is-Beautiful&quot; class=&quot;headerlink&quot; title=&quot;Type is Beautiful&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://www.typeisbeautiful.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Type is Beautiful&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;是一个非常有名的关于字体的博客网站，提供了大量字体研究的文章，适合从初学者到资深设计师阅读。同时它还提供了一个播客，名叫“字谈字畅”&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_22.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;稀土掘金联合编辑：技匠，以上内容欢迎大家分享到朋友圈/微博等。如需转载，请通过我的微信公众号联系。谢谢大家！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;ds-share&quot; data-thread-key=&quot;2016/04/22/【设计谈】字体与排版/&quot; data-title=&quot;【设计谈】字体与排版&quot; data-images=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_1.jpg&quot; data-content=&quot;【设计谈】字体与排版&quot; data-url=&quot;http://lishichao.github.io/2016/04/22/【设计谈】字体与排版/&quot;&gt;&lt;br&gt;&lt;div class=&quot;ds-share-inline&quot;&gt;&lt;br&gt;      &lt;ul class=&quot;ds-share-icons-16&quot;&gt;&lt;br&gt;      &lt;li style=&quot;color:#999999;font-size:13px;margin-top:2px&quot;&gt;&lt;i class=&quot;fa fa-share-square-o&quot; style=&quot;margin-right:5px;color:#666666&quot;&gt;分享到&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-wechat&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;wechat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-weibo&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;weibo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-qq&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qq&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ&lt;/a&gt; &lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qzone&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qzone&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ空间&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qqt&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qqt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;腾讯微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-facebook&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;facebook&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Facebook&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a class=&quot;ds-douban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;douban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;豆瓣网&lt;/a&gt; &lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-huaban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;huaban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;花瓣网&lt;/a&gt; &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;      &lt;div class=&quot;ds-share-icons-more&quot;&gt;&lt;br&gt;      &lt;/div&gt;&lt;br&gt; &lt;/div&gt;

&lt;p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;无论你是做网页还是App设计，文字内容总是能占到整个版面将近80%的区域。因此理解字体与排版对UI设计师来说非常关键。你需要始终把内容的可读性放在首位去考虑和权衡你对字体与排版的选择。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/%E8%AE%BE%E8%AE%A1/%E3%80%90%E8%AE%BE%E8%AE%A1%E8%B0%88%E3%80%91%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88/%E5%AD%97%E4%BD%93%E4%B8%8E%E6%8E%92%E7%89%88_1.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="设计" scheme="http://lishichao.github.io/categories/%E8%AE%BE%E8%AE%A1/"/>
    
    
      <category term="设计" scheme="http://lishichao.github.io/tags/%E8%AE%BE%E8%AE%A1/"/>
    
      <category term="design" scheme="http://lishichao.github.io/tags/design/"/>
    
  </entry>
  
  <entry>
    <title>App的打赏功能</title>
    <link href="http://lishichao.github.io/2016/04/21/App%E7%9A%84%E6%89%93%E8%B5%8F%E5%8A%9F%E8%83%BD/"/>
    <id>http://lishichao.github.io/2016/04/21/App的打赏功能/</id>
    <published>2016-04-21T06:45:31.000Z</published>
    <updated>2016-04-27T09:01:42.000Z</updated>
    
    <content type="html">&lt;h4 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;上一篇技术文章介绍了支付宝、微信、银联三大支付的集成步骤和文档说明。&lt;/li&gt;
&lt;li&gt;&lt;p&gt;今天带大家一起来分析实现下App的打赏功能，步入正题前先说下现在打赏功能的重要性，微信红包功能在掀起一阵狂潮之后，热度已经散的差不多了，而逐渐崭露头角的打赏功能，已经流行在大部分的App里面。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;譬如支付宝、简书、新浪微博、Bilibili动画、落网等等。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;那些网络主播，明明可以被用户免费看，却经常收获总额几十万的打赏。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;由此可见打赏功能的重要性，至于如何让你的纯干货刺激到用户打赏，关注&lt;a href=&quot;http://www.jianshu.com/users/ab8e592732ea/latest_articles&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;我的简书&lt;/a&gt;，有文章说明。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;blockquote&gt;
&lt;p&gt;好了，闲话不在多说，现在步入正题，以我最近项目为例来简述打赏功能的实现，支付方式微信。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;打赏界面实现&quot;&gt;&lt;a href=&quot;#打赏界面实现&quot; class=&quot;headerlink&quot; title=&quot;打赏界面实现&quot;&gt;&lt;/a&gt;打赏界面实现&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;利用AutoLayout很容易实现，UI这块的布局实现忽略，看效果图。&lt;br&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/reward_ui.png&quot; alt=&quot;打赏界面&quot;&gt;&lt;/li&gt;
&lt;li&gt;引入微信开发者平台的sdk，具体见上篇文章，现在只介绍关键代码。&lt;/li&gt;
&lt;li&gt;需要用到的两个类文件&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;WXApiManager.h&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;WXApiRequestHandler.h&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;点击按钮跳转微信&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (IBAction)onePayAction:(id)sender &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   NSString *price = @&amp;quot;100&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   NSString *rewardTitle = [NSString &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   stringWithFormat:@&amp;quot;打赏独立音乐人：%@&amp;quot;,_playerModel.songer];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSString *response = [WXApiRequestHandler jumpToBizPay: price shopName:_rewardString];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self payFailAlert: response];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;WXApiRequestHandler.m&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;+ (NSString *)jumpToBizPay:(NSString *)price shopName:(NSString *)shopName&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //============================================================&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // V3&amp;amp;V4支付流程实现&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 注意:参数配置请查看服务器端Demo&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 更新时间：2015年11月20日&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //============================================================&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //https://api.mch.weixin.qq.com/pay/unifiedorder&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //http://wxpay.weixin.qq.com/pub_v2/app/app_pay.php?plat=ios&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    BOOL isConnect = [CommonUtil connectedToNetwork];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (!isConnect) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return  @&amp;quot;网络不给力呀~&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;else&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        NSString *url = @&amp;quot;http://wxpay.weixin.qq.com/pub_v2/app/app_pay.php?plat=ios&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        NSLog(@&amp;quot;payUrl:%@&amp;quot;,url);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        url = [url stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [[[HttpAFNetworing shareInstance] httpMgr] GET:url parameters:nil success:^(AFHTTPRequestOperation *operation, id responseObject) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            NSLog(@&amp;quot;responseObject:%@&amp;quot;,responseObject);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            NSDictionary *dict = responseObject;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            if(responseObject != nil)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                NSMutableString *retcode = [dict objectForKey:@&amp;quot;retcode&amp;quot;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                if (retcode.intValue == 0)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    NSMutableString *stamp  = [dict objectForKey:@&amp;quot;timestamp&amp;quot;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                //调起微信支付&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                PayReq* req = [[PayReq alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                req.partnerId = [dict objectForKey:@&amp;quot;partnerid&amp;quot;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                req.prepayId = [dict objectForKey:@&amp;quot;prepayid&amp;quot;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                req.nonceStr = [dict objectForKey:@&amp;quot;noncestr&amp;quot;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                req.timeStamp = stamp.intValue;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                req.package = [dict objectForKey:@&amp;quot;package&amp;quot;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                req.sign = [dict objectForKey:@&amp;quot;sign&amp;quot;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                [WXApi sendReq:req];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                //日志输出&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                NSLog(@&amp;quot;appid=%@\npartid=%@\nprepayid=%@\nnoncestr=%@\ntimestamp=%ld\npackage=%@\nsign=%@&amp;quot;,[dict objectForKey:@&amp;quot;appid&amp;quot;],req.partnerId,req.prepayId,req.nonceStr,(long)req.timeStamp,req.package,req.sign );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; failure:^(AFHTTPRequestOperation *operation, NSError *error) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            [CommonUtil NoNetWorkNotiTip];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return @&amp;quot;&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (void)payFailAlert:(NSString *)resp&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if( ![@&amp;quot;&amp;quot; isEqual:resp] )&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        UIAlertView *alter = [[UIAlertView alloc] initWithTitle:@&amp;quot;支付失败&amp;quot; message:resp delegate:nil cancelButtonTitle:@&amp;quot;OK&amp;quot; otherButtonTitles:nil];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [alter show];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;打赏完成界面实现&quot;&gt;&lt;a href=&quot;#打赏完成界面实现&quot; class=&quot;headerlink&quot; title=&quot;打赏完成界面实现&quot;&gt;&lt;/a&gt;打赏完成界面实现&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;UI布局AutoLayout实现，不再贴代码，模糊代码实现如下&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//加模糊效果，image是图片，blur是模糊度&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- (UIImage *)blurryImage:(UIImage *)image withBlurLevel:(CGFloat)blur &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //模糊度,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ((blur &amp;lt; &lt;span class=&quot;number&quot;&gt;0.1&lt;/span&gt;f) || (blur &amp;gt; &lt;span class=&quot;number&quot;&gt;2.0&lt;/span&gt;f)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        blur = &lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;f;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //boxSize必须大于&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    int boxSize = (int)(blur * &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    boxSize -= (boxSize % &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;) + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;boxSize:%i&quot;&lt;/span&gt;,boxSize);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //图像处理&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CGImageRef img = image.CGImage;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //需要引入&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    /*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     This document describes the Accelerate Framework, which contains C APIs &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; vector &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; matrix math, digital signal processing, large number handling, &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; image processing.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     本文档介绍了Accelerate Framework，其中包含C语言应用程序接口（API）的向量和矩阵数学，数字信号处理，大量处理和图像处理。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //图像缓存,输入缓存，输出缓存&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vImage_Buffer inBuffer, outBuffer;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vImage_Error error;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //像素缓存&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    void *pixelBuffer;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //数据源提供者，Defines an opaque type that supplies Quartz &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; data.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CGDataProviderRef inProvider = CGImageGetDataProvider(img);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // provider’s data.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CFDataRef inBitmapData = CGDataProviderCopyData(inProvider);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //宽，高，字节/行，data&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    inBuffer.width = CGImageGetWidth(img);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    inBuffer.height = CGImageGetHeight(img);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    inBuffer.rowBytes = CGImageGetBytesPerRow(img);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    inBuffer.data = (void*)CFDataGetBytePtr(inBitmapData);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //像数缓存，字节行*图片高&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    pixelBuffer = malloc(CGImageGetBytesPerRow(img) * CGImageGetHeight(img));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    outBuffer.data = pixelBuffer;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    outBuffer.width = CGImageGetWidth(img);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    outBuffer.height = CGImageGetHeight(img);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    outBuffer.rowBytes = CGImageGetBytesPerRow(img);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 第三个中间的缓存区,抗锯齿的效果&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    void *pixelBuffer2 = malloc(CGImageGetBytesPerRow(img) * CGImageGetHeight(img));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vImage_Buffer outBuffer2;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    outBuffer2.data = pixelBuffer2;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    outBuffer2.width = CGImageGetWidth(img);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    outBuffer2.height = CGImageGetHeight(img);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    outBuffer2.rowBytes = CGImageGetBytesPerRow(img);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //Convolves a region of interest within an ARGB8888 source image by an implicit M x N kernel that has the effect of a box filter.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    error = vImageBoxConvolve_ARGB8888(&amp;amp;inBuffer, &amp;amp;outBuffer2, NULL, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, boxSize, boxSize, NULL, kvImageEdgeExtend);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    error = vImageBoxConvolve_ARGB8888(&amp;amp;outBuffer2, &amp;amp;inBuffer, NULL, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, boxSize, boxSize, NULL, kvImageEdgeExtend);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    error = vImageBoxConvolve_ARGB8888(&amp;amp;inBuffer, &amp;amp;outBuffer, NULL, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, boxSize, boxSize, NULL, kvImageEdgeExtend);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (error) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;error from convolution %ld&quot;&lt;/span&gt;, error);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //    NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;字节组成部分：%zu&quot;&lt;/span&gt;,CGImageGetBitsPerComponent(img));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //颜色空间DeviceRGB&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //用图片创建上下文,CGImageGetBitsPerComponent(img),&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CGContextRef ctx = CGBitmapContextCreate(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                             outBuffer.data,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                             outBuffer.width,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                             outBuffer.height,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                             &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                             outBuffer.rowBytes,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                             colorSpace,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                             CGImageGetBitmapInfo(image.CGImage));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //根据上下文，处理过的图片，重新组件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CGImageRef imageRef = CGBitmapContextCreateImage (ctx);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UIImage *returnImage = [UIImage imageWithCGImage:imageRef];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //clean up&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CGContextRelease(ctx);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CGColorSpaceRelease(colorSpace);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    free(pixelBuffer);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    free(pixelBuffer2);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CFRelease(inBitmapData);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CGColorSpaceRelease(colorSpace);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CGImageRelease(imageRef);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; returnImage;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/reward_succ.png&quot; alt=&quot;打赏完成界面&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;留言成功后分享打赏界面&quot;&gt;&lt;a href=&quot;#留言成功后分享打赏界面&quot; class=&quot;headerlink&quot; title=&quot;留言成功后分享打赏界面&quot;&gt;&lt;/a&gt;留言成功后分享打赏界面&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;UI布局AutoLayout实现，不再贴代码&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/reward_share.png&quot; alt=&quot;留言完成分享打赏界面&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;结束&quot;&gt;&lt;a href=&quot;#结束&quot; class=&quot;headerlink&quot; title=&quot;结束&quot;&gt;&lt;/a&gt;结束&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;如有问题请留言。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;ds-share&quot; data-thread-key=&quot;2016/04/21/App的打赏功能/&quot; data-title=&quot;App的打赏功能&quot; data-images=&quot;http://7xstl7.com1.z0.glb.clouddn.com/reward_ui.png&quot; data-content=&quot;App的打赏功能&quot; data-url=&quot;http://lishichao.github.io/2016/04/21/App的打赏功能/&quot;&gt;&lt;br&gt;&lt;div class=&quot;ds-share-inline&quot;&gt;&lt;br&gt;      &lt;ul class=&quot;ds-share-icons-16&quot;&gt;&lt;br&gt;      &lt;li style=&quot;color:#999999;font-size:13px;margin-top:2px&quot;&gt;&lt;i class=&quot;fa fa-share-square-o&quot; style=&quot;margin-right:5px;color:#666666&quot;&gt;分享到&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-wechat&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;wechat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-weibo&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;weibo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-qq&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qq&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ&lt;/a&gt; &lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qzone&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qzone&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ空间&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qqt&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qqt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;腾讯微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-facebook&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;facebook&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Facebook&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a class=&quot;ds-douban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;douban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;豆瓣网&lt;/a&gt; &lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-huaban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;huaban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;花瓣网&lt;/a&gt; &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;      &lt;div class=&quot;ds-share-icons-more&quot;&gt;&lt;br&gt;      &lt;/div&gt;&lt;br&gt; &lt;/div&gt;

&lt;p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;上一篇技术文章介绍了支付宝、微信、银联三大支付的集成步骤和文档说明。&lt;/li&gt;
&lt;li&gt;&lt;p&gt;今天带大家一起来分析实现下App的打赏功能，步入正题前先说下现在打赏功能的重要性，微信红包功能在掀起一阵狂潮之后，热度已经散的差不多了，而逐渐崭露头角的打赏功能，已经流行在大部分的App里面。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;譬如支付宝、简书、新浪微博、Bilibili动画、落网等等。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;那些网络主播，明明可以被用户免费看，却经常收获总额几十万的打赏。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;由此可见打赏功能的重要性，至于如何让你的纯干货刺激到用户打赏，关注&lt;a href=&quot;http://www.jianshu.com/users/ab8e592732ea/latest_articles&quot;&gt;我的简书&lt;/a&gt;，有文章说明。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="iOS技术归纳" scheme="http://lishichao.github.io/categories/iOS%E6%8A%80%E6%9C%AF%E5%BD%92%E7%BA%B3/"/>
    
    
      <category term="iOS技术" scheme="http://lishichao.github.io/tags/iOS%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>iOS 支付 [支付宝、银联、微信]</title>
    <link href="http://lishichao.github.io/2016/04/18/iOS-%E6%94%AF%E4%BB%98-%E6%94%AF%E4%BB%98%E5%AE%9D%E3%80%81%E9%93%B6%E8%81%94%E3%80%81%E5%BE%AE%E4%BF%A1/"/>
    <id>http://lishichao.github.io/2016/04/18/iOS-支付-支付宝、银联、微信/</id>
    <published>2016-04-18T09:19:20.000Z</published>
    <updated>2016-05-03T06:31:53.000Z</updated>
    
    <content type="html">&lt;h4 id=&quot;这是开头语&quot;&gt;&lt;a href=&quot;#这是开头语&quot; class=&quot;headerlink&quot; title=&quot;这是开头语&quot;&gt;&lt;/a&gt;这是开头语&lt;/h4&gt;&lt;p&gt;前不久做了一个项目，涉及到支付宝和银联支付，支付宝和银联都是业界的老大哥，文档、SDK都是很屌，屌的找不到，屌的看不懂，屌到没朋友（吐槽而已），本文将涉及到的最新可用SDK、文档，以及本人支付遇到的一些坑标记一下。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;资料&quot;&gt;&lt;a href=&quot;#资料&quot; class=&quot;headerlink&quot; title=&quot;资料&quot;&gt;&lt;/a&gt;资料&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/lishichao/alipay&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;支付宝&lt;/a&gt;   //文档idk都包含了安卓、iOS版&lt;br&gt;&lt;a href=&quot;https://github.com/lishichao/unionpay&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;银 联&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://lishichao.com/Development_kit85427986.rar&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;银联官网资料&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://github.com/lishichao/MCPayDemo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Demo&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Demo给了一个订单号，做测试使用，若出现支付失败什么的，可能是已经被别人给支付了，或者是服务器订单过期了 ~&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;支付宝&quot;&gt;&lt;a href=&quot;#支付宝&quot; class=&quot;headerlink&quot; title=&quot;支付宝&quot;&gt;&lt;/a&gt;支付宝&lt;/h4&gt;&lt;h5 id=&quot;请阅读支付宝文档和Demo&quot;&gt;&lt;a href=&quot;#请阅读支付宝文档和Demo&quot; class=&quot;headerlink&quot; title=&quot;请阅读支付宝文档和Demo&quot;&gt;&lt;/a&gt;请阅读支付宝文档和Demo&lt;/h5&gt;&lt;h5 id=&quot;导入对应的库&quot;&gt;&lt;a href=&quot;#导入对应的库&quot; class=&quot;headerlink&quot; title=&quot;导入对应的库&quot;&gt;&lt;/a&gt;导入对应的库&lt;/h5&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;将支付宝Demo中得这些东西全拷贝过来&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;localhost:alipay mac$ ls&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;APAuthV2Info.h        Order.h            libssl.a&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;APAuthV2Info.m        Order.m            openssl&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AlipaySDK.bundle    Util&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AlipaySDK.framework    libcrypto.a&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;导入系统库&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;SystemConfiguration.framework&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;设置一下search paths&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;build setting -&amp;gt;搜索search path，然后你懂的&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;完成后，编译一下，看有没有错，有错没错，还是下一步吧。&lt;/p&gt;
&lt;h5 id=&quot;对接&quot;&gt;&lt;a href=&quot;#对接&quot; class=&quot;headerlink&quot; title=&quot;对接&quot;&gt;&lt;/a&gt;对接&lt;/h5&gt;&lt;p&gt;支付宝对节前，你还是需要从服务器拿到一下一堆东西&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;支付宝接口文档中写了3个参数列表，总结下我用的到，或者说是Demo中提到的&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;合作者身份ID    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;alipayPartner = @&amp;quot;2088一串数字&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;收款账号&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;alipaySeller = @&amp;quot;tianticar@126.com&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;签名 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;aliPayPrivateKey = @&amp;quot;很长很长的私钥&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;公钥            &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;alipayRSA_PUBLIC=@&amp;quot;一般长&amp;quot;;  客户端不用服务器都给我了--~！&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;服务器异步通知页面路径 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;alipayNotifServerURL = @&amp;quot;一个网址&amp;quot;; //支付结果，支付宝会通知服务器&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;其他一些参数（与购买产品相关，设计到业务了，客户端/服务器谁提供均可）直接贴order代码了，具体看我的Demo示例.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Order *order = [[Order alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    order.partner = alipayPartner ;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    order.seller = alipaySeller;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    order.tradeNO = tn; //订单ID（由商家自行制定）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    order.productName = [NSString stringWithFormat:@&amp;quot;汽车服务充值-%@&amp;quot;,@&amp;quot;支付&amp;quot;]; //商品标题&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    order.productDescription = [NSString stringWithFormat:@&amp;quot;%@:支付宝移动支付充值&amp;quot;,@&amp;quot;xxxx&amp;quot;]; //商品描述&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    order.amount = _txtCNY.text; //商品价格&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    order.notifyURL =  alipayNotifServerURL; //回调URL&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    order.service = @&amp;quot;mobile.securitypay.pay&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    order.paymentType = @&amp;quot;1&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    order.inputCharset = @&amp;quot;utf-8&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    order.itBPay = @&amp;quot;30m&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    order.showUrl = @&amp;quot;m.alipay.com&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    //应用注册scheme,在AlixPayDemo-Info.plist定义URL types&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    NSString *appScheme = URLScheme;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;调用支付宝&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[[AlipaySDK defaultService] payOrder:orderString fromScheme:appScheme callback:^(NSDictionary *resultDic) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  NSLog(@&amp;quot;reslut = %@&amp;quot;,resultDic);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  if ([resultDic[@&amp;quot;resultStatus&amp;quot;] intValue]==9000) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        //进入充值列表页面&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        NSLog(@&amp;quot;支付成功&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;else&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		 NSString *resultMes = resultDic[@&amp;quot;memo&amp;quot;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        resultMes = (resultMes.length&amp;lt;=0?@&amp;quot;支付失败&amp;quot;:resultMes);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        NSLog(@&amp;quot;%@&amp;quot;,resultMes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;你可能会发现回调不行-&amp;gt;设置回调Scheme&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;//上面支付时已经传给了支付宝客户端回调shema名称&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; NSString *appScheme = URLScheme;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; //具体设置shema方法此处就不再累赘，这儿需要处理来自支付宝shema回调，才能完成上面方法的block回调&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; 在APPDelegate -&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  - (BOOL)application:(UIApplication *)application&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            openURL:(NSURL *)url&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  sourceApplication:(NSString *)sourceApplication&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         annotation:(id)annotation &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         //跳转支付宝钱包进行支付，处理支付结果&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [[AlipaySDK defaultService] processOrderWithPaymentResult:url standbyCallback:^(NSDictionary *resultDic) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;result = %@&quot;&lt;/span&gt;,resultDic);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; YES;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;银联&quot;&gt;&lt;a href=&quot;#银联&quot; class=&quot;headerlink&quot; title=&quot;银联&quot;&gt;&lt;/a&gt;银联&lt;/h4&gt;&lt;h5 id=&quot;请去看银联文档和demo&quot;&gt;&lt;a href=&quot;#请去看银联文档和demo&quot; class=&quot;headerlink&quot; title=&quot;请去看银联文档和demo&quot;&gt;&lt;/a&gt;请去看银联文档和demo&lt;/h5&gt;&lt;h5 id=&quot;导入对应的库-1&quot;&gt;&lt;a href=&quot;#导入对应的库-1&quot; class=&quot;headerlink&quot; title=&quot;导入对应的库&quot;&gt;&lt;/a&gt;导入对应的库&lt;/h5&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;SDK说明&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SDK分为以下两个版本：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;① 支持纯无卡交易静态库，以下简称UPPayPlugin，包含文件：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UPPayPlugin.h&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UPPayPluginDelegate.h&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;libUPPayPlugin.a&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;② 支持纯无卡交易和VIPOS音频口支付静态库,以下简称UPPayPluginPro，包含文件：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UPPayPluginPro.h&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UPPayPluginDelegate.h&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;libUPPayPluginPro.a&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;大概这两个库就是上述那样，具体问商务/后者后台，我们只需要知道&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;②需要将.m改成.mm (应该是用c++封装的音频...😄)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;添加SDK包&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;a)    根据商户选择的SDK版本，将sdk/inc目录和sdk/libs目录下对应版本的三个文件添加到UPPayDemo工程中；&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;b)    如果你选择的是UPPayPlugin版本，添加QuartzCore.framework、Security.framework到工程中；&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;c)    如果你选择的是UPPayPluginPro版本，添加QuartzCore.framework、AudioToolbox.framework, CoreAudio.framework、 MediaPlayer.framework, AVFoundation.framework和Security.framework到工程中；&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;😄 d)    在工程的Build Settings中找到Other Linker Flags中添加-ObjC宏；&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;导入到工程，让服务器准备一下交易流水号信息 （什么他们不懂，让他们去看文档 &lt;a href=&quot;https://github.com/lishichao/unionpay&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;银 联&lt;/a&gt;），休息一下,喝杯什么好了？&lt;/p&gt;
&lt;h5 id=&quot;对接-1&quot;&gt;&lt;a href=&quot;#对接-1&quot; class=&quot;headerlink&quot; title=&quot;对接&quot;&gt;&lt;/a&gt;对接&lt;/h5&gt;&lt;p&gt;咱们的服务器也是挺给力的，一盏茶的功夫，就将交易流水号信息 给准备好了，嗯不错，速度对接一下。&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;+ (BOOL)startPay:(NSString*)tn &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mode:(NSString*)mode &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;viewController:(UIViewController*)viewController &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;delegate:(id&amp;lt;UPPayPluginDelegate&amp;gt;)delegate;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-------------参数说明（必填）-------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tn                 NSString*                   交易流水号信息，银联后台生成，通过商户后台返回到客户端并传入支付控件； &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mode               NSString*                 接入模式设定，两个值：@&lt;span class=&quot;string&quot;&gt;&quot;00&quot;&lt;/span&gt;:代表接入生产环境（正式版本需要）；@&lt;span class=&quot;string&quot;&gt;&quot;01&quot;&lt;/span&gt;：代表接入开发测试环境（测试版本需要）；&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;viewController    UIViewController*          商户应用程序调用银联手机支付的当前UIViewController；&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;delegate        id&amp;lt;UPPayPluginDelegate&amp;gt;     实现UPPayPluginDelegate方法的UIViewController；&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;嗯，这些都是文档中的，请仔细看看[上线的时候一定药修改mode模式]。&lt;br&gt;mode在测试环境下可以银联给的测试号 tn=@”01” 测试环境&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;测试使用卡号、手机号信息(此类信息仅供测试,不会发生正式交易)招商银行预付费卡:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;卡号:&lt;span class=&quot;number&quot;&gt;6226&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;4401&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2345&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;6785&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;密码:&lt;span class=&quot;number&quot;&gt;111101&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[这个居然无效]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;再来一个：😢&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;银行卡号：&lt;span class=&quot;number&quot;&gt;6216261000000000018&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;身份证号：&lt;span class=&quot;number&quot;&gt;341126199709218366&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;手 机 号 ：&lt;span class=&quot;number&quot;&gt;13552535506&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;验 证 码 ：&lt;span class=&quot;number&quot;&gt;123456&lt;/span&gt; 【要点击获取验证码，不然提交会报错】&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;viewcontroller需要干这些事情&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;*引入头文件  \&lt;span class=&quot;comment&quot;&gt;#import &quot;UPPayPluginPro.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*调用接口&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [UPPayPluginPro startPay:tn mode:self.tnMode viewController:self delegate:self];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*实现对应代理方法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        \&lt;span class=&quot;comment&quot;&gt;#pragma mark UPPayPluginResult&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        - (void)UPPayPluginResult:(NSString \*)result&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            NSString\* msg = [NSString stringWithFormat:@&lt;span class=&quot;string&quot;&gt;&quot;%@&quot;&lt;/span&gt;, result];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;msg%@&quot;&lt;/span&gt;,msg);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ([result isEqualToString:@&lt;span class=&quot;string&quot;&gt;&quot;msgcancel&quot;&lt;/span&gt;]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;取消银联支付...&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;([result containsString:@&lt;span class=&quot;string&quot;&gt;&quot;success&quot;&lt;/span&gt;])&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                NSLog(@&lt;span class=&quot;string&quot;&gt;&quot;支付成功&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;微信支付&quot;&gt;&lt;a href=&quot;#微信支付&quot; class=&quot;headerlink&quot; title=&quot;微信支付&quot;&gt;&lt;/a&gt;微信支付&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&amp;amp;t=resource/res_list&amp;amp;verify=1&amp;amp;id=open1419317780&amp;amp;token=ac5f0fd38fc8821171addbfdf5cc7d3af93cb305&amp;amp;lang=zh_CN&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信支付工作之前的流程&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/app/app.php?chapter=8_1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信支付文档&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/app/app.php?chapter=11_1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信sdk&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;总体来说微信支付需要审核的比较麻烦，我也没有去弄一个号亲自测试一下，按照文档demo去走一般不会出什么问题。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;小记&lt;br&gt;可能遇到银联c++编译问题，把对应的viewcontroller切换成.mm，编译看看。若有CreateRSADataSigner arm64的，请将支付宝给的DataSigner改成.mm即可。&lt;br&gt;&lt;a href=&quot;https://github.com/lishichao/MCPayDemo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;其他可以参照我的demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://weibo.com/lishichao706&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;@Amin_iOS&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;ds-share&quot; data-thread-key=&quot;2016/04/18/iOS-支付-支付宝、银联、微信/&quot; data-title=&quot;iOS 支付 [支付宝、银联、微信]&quot; data-images=&quot;&quot; data-url=&quot;http://lishichao.com/2016/04/18/iOS-支付-支付宝、银联、微信/&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div class=&quot;ds-share-inline&quot;&gt;&lt;br&gt;      &lt;ul class=&quot;ds-share-icons-16&quot;&gt;&lt;br&gt;      &lt;li style=&quot;color:#999999;font-size:13px;margin-top:2px&quot;&gt;&lt;i class=&quot;fa fa-share-square-o&quot; style=&quot;margin-right:5px;color:#666666&quot;&gt;分享到&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-wechat&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;wechat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-weibo&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;weibo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-qq&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qq&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ&lt;/a&gt; &lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qzone&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qzone&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ空间&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qqt&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qqt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;腾讯微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-facebook&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;facebook&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Facebook&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a class=&quot;ds-douban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;douban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;豆瓣网&lt;/a&gt; &lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-huaban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;huaban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;花瓣网&lt;/a&gt; &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;      &lt;div class=&quot;ds-share-icons-more&quot;&gt;&lt;br&gt;      &lt;/div&gt;&lt;br&gt; &lt;/div&gt;

&lt;p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;这是开头语&quot;&gt;&lt;a href=&quot;#这是开头语&quot; class=&quot;headerlink&quot; title=&quot;这是开头语&quot;&gt;&lt;/a&gt;这是开头语&lt;/h4&gt;&lt;p&gt;前不久做了一个项目，涉及到支付宝和银联支付，支付宝和银联都是业界的老大哥，文档、SDK都是很屌，屌的找不到，屌的看不懂，屌到没朋友（吐槽而已），本文将涉及到的最新可用SDK、文档，以及本人支付遇到的一些坑标记一下。&lt;br&gt;
    
    </summary>
    
      <category term="iOS技术归纳" scheme="http://lishichao.github.io/categories/iOS%E6%8A%80%E6%9C%AF%E5%BD%92%E7%BA%B3/"/>
    
    
      <category term="iOS技术" scheme="http://lishichao.github.io/tags/iOS%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>谈一下我的博客</title>
    <link href="http://lishichao.github.io/2016/04/13/%E8%B0%88%E4%B8%80%E4%B8%8B%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2/"/>
    <id>http://lishichao.github.io/2016/04/13/谈一下我的博客/</id>
    <published>2016-04-12T16:25:03.000Z</published>
    <updated>2016-04-23T06:43:57.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/ui_title.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;博客终于上线啦&quot;&gt;&lt;a href=&quot;#博客终于上线啦&quot; class=&quot;headerlink&quot; title=&quot;博客终于上线啦&quot;&gt;&lt;/a&gt;博客终于上线啦&lt;/h3&gt;&lt;p&gt;一直想搭建一个属于自己的个人博客，最近几天抽出时间，今天终于正式上线。&lt;/p&gt;
&lt;p&gt;我曾用过新浪博客，简书，LOFTER，OSChina，CSDN，累觉不爱，今天终于可以用这个逼格极高的程序猿写作方式来续写自己的故事，分享自己的技术文章了。&lt;/p&gt;
&lt;p&gt;现在发觉搭建的个人博客令人思想更自由，可以记录一切，更不怕随着博客平台的更换而丢失。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;介绍下我的博客&quot;&gt;&lt;a href=&quot;#介绍下我的博客&quot; class=&quot;headerlink&quot; title=&quot;介绍下我的博客&quot;&gt;&lt;/a&gt;介绍下我的博客&lt;/h3&gt;&lt;p&gt;介绍博客之前，要先麻烦朋友记住一个名字：lishichao。为什么要记住它呢，因为域名是：lishichao.com啊！哈哈（冷）。&lt;/p&gt;
&lt;p&gt;目前我的博客内容是同时挂载在两个地方GitHub、Coding以同时支持两个域名访问。&lt;/p&gt;
&lt;p&gt;我的博客主要会包括&lt;strong&gt;技术&lt;/strong&gt;、&lt;strong&gt;艺术&lt;/strong&gt;和&lt;strong&gt;思考&lt;/strong&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;技术，有两种。一是自己工作中接触到的技术如iOS和设计相关的知识。另一种是自己认为很cool的技术，难道不是每个有追求的人都希望自己变得更cool吗？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;艺术，讲不清，包含很多。比如美好的移动设计或工业设计，比如一组让人心静的摄影作品，比如一杯凛冽粗暴的伏特加。这些都是我心中的艺术。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;思考，同样讲不清。不过我可以肯定的是，我的博客里每个文字都会出自自己的思考。比如对大爷大妈手牵手的思考，比如对某水果台各类脑残剧和琅琊榜对比的思考，比如对Google和Apple之争的思考。太多了。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;我为什么要写作&quot;&gt;&lt;a href=&quot;#我为什么要写作&quot; class=&quot;headerlink&quot; title=&quot;我为什么要写作&quot;&gt;&lt;/a&gt;我为什么要写作&lt;/h3&gt;&lt;p&gt;我认为有两点。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;博客是程序员的简历之一。对程序员而言，大多数人都是通过你的博客来认识你。而且，多写博客能促使我们去专研问题并与人分享，同时通过他人反馈来改善自我。&lt;/li&gt;
&lt;li&gt;热爱。通过写作，我们可以记录思考，记录生活，记录技术成长。这难道不是一件很正能量的事情吗？&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;ds-share&quot; data-thread-key=&quot;2016/04/13/谈一下我的博客/&quot; data-title=&quot;谈一下我的博客&quot; data-images=&quot;http://i4.piimg.com/6a3895a461aa3d1f.png&quot; data-content=&quot;谈一下我的博客&quot; data-url=&quot;http://lishichao.com/2016/04/13/谈一下我的博客/&quot;&gt;&lt;br&gt;&lt;div class=&quot;ds-share-inline&quot;&gt;&lt;br&gt;      &lt;ul class=&quot;ds-share-icons-16&quot;&gt;&lt;br&gt;      &lt;li style=&quot;color:#999999;font-size:13px;margin-top:2px&quot;&gt;分享到&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-wechat&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;wechat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微信&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-weibo&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;weibo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-qq&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qq&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ&lt;/a&gt; &lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qzone&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qzone&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;QQ空间&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class=&quot;ds-qqt&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;qqt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;腾讯微博&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-facebook&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;facebook&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Facebook&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a class=&quot;ds-douban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;douban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;豆瓣网&lt;/a&gt; &lt;/li&gt;&lt;li&gt; &lt;a class=&quot;ds-huaban&quot; href=&quot;javascript:void(0);&quot; data-service=&quot;huaban&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;花瓣网&lt;/a&gt; &lt;/li&gt;&lt;/ul&gt;&lt;br&gt;      &lt;div class=&quot;ds-share-icons-more&quot;&gt;&lt;br&gt;      &lt;/div&gt;&lt;br&gt; &lt;/div&gt;&lt;br&gt;    &lt;/div&gt;



</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://7xstl7.com1.z0.glb.clouddn.com/ui_title.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;博客终于上线啦&quot;&gt;&lt;a href=&quot;#博客终于上线啦&quot; class=&quot;headerlink&quot; title=&quot;博客终于上线啦&quot;&gt;&lt;/a&gt;博客终于上线啦&lt;/h3&gt;&lt;p&gt;一直想搭建一个属于自己的个人博客，最近几天抽出时间，今天终于正式上线。&lt;/p&gt;
&lt;p&gt;我曾用过新浪博客，简书，LOFTER，OSChina，CSDN，累觉不爱，今天终于可以用这个逼格极高的程序猿写作方式来续写自己的故事，分享自己的技术文章了。&lt;/p&gt;
&lt;p&gt;现在发觉搭建的个人博客令人思想更自由，可以记录一切，更不怕随着博客平台的更换而丢失。&lt;br&gt;
    
    </summary>
    
    
      <category term="随笔" scheme="http://lishichao.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
</feed>
